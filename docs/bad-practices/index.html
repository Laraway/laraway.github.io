<!doctype html>
<html data-n-head-ssr lang="ru" prefix="og: http://ogp.me/ns#" data-n-head="%7B%22lang%22:%7B%22ssr%22:%22ru%22%7D,%22prefix%22:%7B%22ssr%22:%22og:%20http://ogp.me/ns#%22%7D%7D">
  <head>
    <title>LaraWay » Популярные ошибки разработчиков</title><meta data-n-head="ssr" charset="utf-8"><meta data-n-head="ssr" name="viewport" content="width=device-width,initial-scale=1"><meta data-n-head="ssr" name="format-detection" content="telephone=no"><meta data-n-head="ssr" data-hid="og:type" name="og:type" content="website"><meta data-n-head="ssr" data-hid="og:locale" name="og:locale" content="ru_RU"><meta data-n-head="ssr" data-hid="og:site_name" name="og:site_name" content="LaraWay"><meta data-n-head="ssr" data-hid="og:url" name="og:url" content="https://laraway.github.io/bad-practices"><meta data-n-head="ssr" data-hid="og:image" name="og:image" content="https://laraway.github.io/_nuxt/img/og-logo.b41ffc4.jpg"><meta data-n-head="ssr" data-hid="twitter:image:src" name="twitter:image:src" content="https://laraway.github.io/_nuxt/img/og-logo.b41ffc4.jpg"><meta data-n-head="ssr" data-hid="twitter:card" name="twitter:card" content="summary_large_image"><meta data-n-head="ssr" data-hid="og:title" name="og:title" content="Популярные ошибки разработчиков"><meta data-n-head="ssr" data-hid="og:description" name="og:description" content="Криминал в Laravel"><meta data-n-head="ssr" data-hid="description" name="description" content="Криминал в Laravel"><link data-n-head="ssr" rel="icon" type="image/png" href="/favicon.png"><link data-n-head="ssr" rel="apple-touch-icon" href="/apple-touch-icon.png"><link data-n-head="ssr" rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png"><link data-n-head="ssr" rel="apple-touch-icon" sizes="60x60" href="/apple-touch-icon-60x60.png"><link data-n-head="ssr" rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png"><link data-n-head="ssr" rel="apple-touch-icon" sizes="76x76" href="/apple-touch-icon-76x76.png"><link data-n-head="ssr" data-hid="gf-prefetch" rel="dns-prefetch" href="https://fonts.gstatic.com/"><link data-n-head="ssr" data-hid="gf-preconnect" rel="preconnect" href="https://fonts.gstatic.com/" crossorigin=""><link data-n-head="ssr" data-hid="gf-preload" rel="preload" as="style" href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;400;600&display=swap"><link data-n-head="ssr" data-hid="canonical" rel="canonical" href="https://laraway.github.io/bad-practices/"><script data-n-head="ssr" data-hid="gf-script">!function(){var e=document.createElement("link");e.rel="stylesheet",e.href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;400;600&display=swap",document.querySelector("head").appendChild(e)}()</script><noscript data-n-head="ssr" data-hid="gf-noscript"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;400;600&display=swap"></noscript><link rel="preload" href="/_nuxt/6dfa931.js" as="script"><link rel="preload" href="/_nuxt/f4c67f5.js" as="script"><link rel="preload" href="/_nuxt/2f8a5f0.js" as="script"><link rel="preload" href="/_nuxt/deabe50.js" as="script"><link rel="preload" href="/_nuxt/df2754e.js" as="script"><link rel="preload" href="/_nuxt/873f925.js" as="script"><link rel="preload" href="/_nuxt/ab33a62.js" as="script"><style data-vue-ssr-id="15bbe95e:0 54b08540:0 eb7cb4e8:0 4ff7fc8c:0 0d8b0c4d:0 a57b151a:0 4d02f003:0 50dea42c:0 5572a16f:0 d31fbb88:0 f5a28f12:0 20ef5ec8:0 60b77658:0">:host,:root{--fa-font-solid:normal 900 1em/1 "Font Awesome 6 Solid";--fa-font-regular:normal 400 1em/1 "Font Awesome 6 Regular";--fa-font-light:normal 300 1em/1 "Font Awesome 6 Light";--fa-font-thin:normal 100 1em/1 "Font Awesome 6 Thin";--fa-font-duotone:normal 900 1em/1 "Font Awesome 6 Duotone";--fa-font-brands:normal 400 1em/1 "Font Awesome 6 Brands"}svg:not(:host).svg-inline--fa,svg:not(:root).svg-inline--fa{overflow:visible;box-sizing:content-box}.svg-inline--fa{display:inline-block;display:var(--fa-display,inline-block);height:1em;overflow:visible;vertical-align:-.125em}.svg-inline--fa.fa-2xs{vertical-align:.1em}.svg-inline--fa.fa-xs{vertical-align:0}.svg-inline--fa.fa-sm{vertical-align:-.07143em}.svg-inline--fa.fa-lg{vertical-align:-.2em}.svg-inline--fa.fa-xl{vertical-align:-.25em}.svg-inline--fa.fa-2xl{vertical-align:-.3125em}.svg-inline--fa.fa-pull-left{margin-right:.3em;margin-right:var(--fa-pull-margin,.3em);width:auto}.svg-inline--fa.fa-pull-right{margin-left:.3em;margin-left:var(--fa-pull-margin,.3em);width:auto}.svg-inline--fa.fa-li{width:2em;width:var(--fa-li-width,2em);top:.25em}.svg-inline--fa.fa-fw{width:1.25em;width:var(--fa-fw-width,1.25em)}.fa-layers svg.svg-inline--fa{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0}.fa-layers-counter,.fa-layers-text{display:inline-block;position:absolute;text-align:center}.fa-layers{display:inline-block;height:1em;position:relative;text-align:center;vertical-align:-.125em;width:1em}.fa-layers svg.svg-inline--fa{transform-origin:center center}.fa-layers-text{left:50%;top:50%;transform:translate(-50%,-50%);transform-origin:center center}.fa-layers-counter{background-color:#ff253a;background-color:var(--fa-counter-background-color,#ff253a);border-radius:1em;border-radius:var(--fa-counter-border-radius,1em);box-sizing:border-box;color:#fff;color:var(--fa-inverse,#fff);line-height:1;line-height:var(--fa-counter-line-height,1);max-width:5em;max-width:var(--fa-counter-max-width,5em);min-width:1.5em;min-width:var(--fa-counter-min-width,1.5em);overflow:hidden;padding:.25em .5em;padding:var(--fa-counter-padding,.25em .5em);right:0;right:var(--fa-right,0);text-overflow:ellipsis;top:0;top:var(--fa-top,0);transform:scale(.25);transform:scale(var(--fa-counter-scale,.25));transform-origin:top right}.fa-layers-bottom-right{bottom:0;bottom:var(--fa-bottom,0);right:0;right:var(--fa-right,0);top:auto;transform:scale(.25);transform:scale(var(--fa-layers-scale,.25));transform-origin:bottom right}.fa-layers-bottom-left{bottom:0;bottom:var(--fa-bottom,0);left:0;left:var(--fa-left,0);right:auto;top:auto;transform:scale(.25);transform:scale(var(--fa-layers-scale,.25));transform-origin:bottom left}.fa-layers-top-right{top:0;top:var(--fa-top,0);right:0;right:var(--fa-right,0);transform:scale(.25);transform:scale(var(--fa-layers-scale,.25));transform-origin:top right}.fa-layers-top-left{left:0;left:var(--fa-left,0);right:auto;top:0;top:var(--fa-top,0);transform:scale(.25);transform:scale(var(--fa-layers-scale,.25));transform-origin:top left}.fa-1x{font-size:1em}.fa-2x{font-size:2em}.fa-3x{font-size:3em}.fa-4x{font-size:4em}.fa-5x{font-size:5em}.fa-6x{font-size:6em}.fa-7x{font-size:7em}.fa-8x{font-size:8em}.fa-9x{font-size:9em}.fa-10x{font-size:10em}.fa-2xs{font-size:.625em;line-height:.1em;vertical-align:.225em}.fa-xs{font-size:.75em;line-height:.08333em;vertical-align:.125em}.fa-sm{font-size:.875em;line-height:.07143em;vertical-align:.05357em}.fa-lg{font-size:1.25em;line-height:.05em;vertical-align:-.075em}.fa-xl{font-size:1.5em;line-height:.04167em;vertical-align:-.125em}.fa-2xl{font-size:2em;line-height:.03125em;vertical-align:-.1875em}.fa-fw{text-align:center;width:1.25em}.fa-ul{list-style-type:none;margin-left:2.5em;margin-left:var(--fa-li-margin,2.5em);padding-left:0}.fa-ul>li{position:relative}.fa-li{left:calc(2em*-1);left:calc(var(--fa-li-width,2em)*-1);position:absolute;text-align:center;width:2em;width:var(--fa-li-width,2em);line-height:inherit}.fa-border{border-radius:.1em;border-radius:var(--fa-border-radius,.1em);border:.08em solid #eee;border:var(--fa-border-width,.08em) var(--fa-border-style,solid) var(--fa-border-color,#eee);padding:.2em .25em .15em;padding:var(--fa-border-padding,.2em .25em .15em)}.fa-pull-left{float:left;margin-right:.3em;margin-right:var(--fa-pull-margin,.3em)}.fa-pull-right{float:right;margin-left:.3em;margin-left:var(--fa-pull-margin,.3em)}.fa-beat{-webkit-animation-name:fa-beat;animation-name:fa-beat;-webkit-animation-delay:0;-webkit-animation-delay:var(--fa-animation-delay,0);animation-delay:0;animation-delay:var(--fa-animation-delay,0);-webkit-animation-direction:normal;-webkit-animation-direction:var(--fa-animation-direction,normal);animation-direction:normal;animation-direction:var(--fa-animation-direction,normal);-webkit-animation-duration:1s;-webkit-animation-duration:var(--fa-animation-duration,1s);animation-duration:1s;animation-duration:var(--fa-animation-duration,1s);-webkit-animation-iteration-count:infinite;-webkit-animation-iteration-count:var(--fa-animation-iteration-count,infinite);animation-iteration-count:infinite;animation-iteration-count:var(--fa-animation-iteration-count,infinite);-webkit-animation-timing-function:ease-in-out;-webkit-animation-timing-function:var(--fa-animation-timing,ease-in-out);animation-timing-function:ease-in-out;animation-timing-function:var(--fa-animation-timing,ease-in-out)}.fa-bounce{-webkit-animation-name:fa-bounce;animation-name:fa-bounce;-webkit-animation-delay:0;-webkit-animation-delay:var(--fa-animation-delay,0);animation-delay:0;animation-delay:var(--fa-animation-delay,0);-webkit-animation-direction:normal;-webkit-animation-direction:var(--fa-animation-direction,normal);animation-direction:normal;animation-direction:var(--fa-animation-direction,normal);-webkit-animation-duration:1s;-webkit-animation-duration:var(--fa-animation-duration,1s);animation-duration:1s;animation-duration:var(--fa-animation-duration,1s);-webkit-animation-iteration-count:infinite;-webkit-animation-iteration-count:var(--fa-animation-iteration-count,infinite);animation-iteration-count:infinite;animation-iteration-count:var(--fa-animation-iteration-count,infinite);-webkit-animation-timing-function:cubic-bezier(.28,.84,.42,1);-webkit-animation-timing-function:var(--fa-animation-timing,cubic-bezier(.28,.84,.42,1));animation-timing-function:cubic-bezier(.28,.84,.42,1);animation-timing-function:var(--fa-animation-timing,cubic-bezier(.28,.84,.42,1))}.fa-fade{-webkit-animation-name:fa-fade;animation-name:fa-fade;-webkit-animation-iteration-count:infinite;-webkit-animation-iteration-count:var(--fa-animation-iteration-count,infinite);animation-iteration-count:infinite;animation-iteration-count:var(--fa-animation-iteration-count,infinite);-webkit-animation-timing-function:cubic-bezier(.4,0,.6,1);-webkit-animation-timing-function:var(--fa-animation-timing,cubic-bezier(.4,0,.6,1));animation-timing-function:cubic-bezier(.4,0,.6,1);animation-timing-function:var(--fa-animation-timing,cubic-bezier(.4,0,.6,1))}.fa-beat-fade,.fa-fade{-webkit-animation-delay:0;-webkit-animation-delay:var(--fa-animation-delay,0);animation-delay:0;animation-delay:var(--fa-animation-delay,0);-webkit-animation-direction:normal;-webkit-animation-direction:var(--fa-animation-direction,normal);animation-direction:normal;animation-direction:var(--fa-animation-direction,normal);-webkit-animation-duration:1s;-webkit-animation-duration:var(--fa-animation-duration,1s);animation-duration:1s;animation-duration:var(--fa-animation-duration,1s)}.fa-beat-fade{-webkit-animation-name:fa-beat-fade;animation-name:fa-beat-fade;-webkit-animation-iteration-count:infinite;-webkit-animation-iteration-count:var(--fa-animation-iteration-count,infinite);animation-iteration-count:infinite;animation-iteration-count:var(--fa-animation-iteration-count,infinite);-webkit-animation-timing-function:cubic-bezier(.4,0,.6,1);-webkit-animation-timing-function:var(--fa-animation-timing,cubic-bezier(.4,0,.6,1));animation-timing-function:cubic-bezier(.4,0,.6,1);animation-timing-function:var(--fa-animation-timing,cubic-bezier(.4,0,.6,1))}.fa-flip{-webkit-animation-name:fa-flip;animation-name:fa-flip;-webkit-animation-delay:0;-webkit-animation-delay:var(--fa-animation-delay,0);animation-delay:0;animation-delay:var(--fa-animation-delay,0);-webkit-animation-direction:normal;-webkit-animation-direction:var(--fa-animation-direction,normal);animation-direction:normal;animation-direction:var(--fa-animation-direction,normal);-webkit-animation-duration:1s;-webkit-animation-duration:var(--fa-animation-duration,1s);animation-duration:1s;animation-duration:var(--fa-animation-duration,1s);-webkit-animation-iteration-count:infinite;-webkit-animation-iteration-count:var(--fa-animation-iteration-count,infinite);animation-iteration-count:infinite;animation-iteration-count:var(--fa-animation-iteration-count,infinite);-webkit-animation-timing-function:ease-in-out;-webkit-animation-timing-function:var(--fa-animation-timing,ease-in-out);animation-timing-function:ease-in-out;animation-timing-function:var(--fa-animation-timing,ease-in-out)}.fa-shake{-webkit-animation-name:fa-shake;animation-name:fa-shake;-webkit-animation-duration:1s;-webkit-animation-duration:var(--fa-animation-duration,1s);animation-duration:1s;animation-duration:var(--fa-animation-duration,1s);-webkit-animation-iteration-count:infinite;-webkit-animation-iteration-count:var(--fa-animation-iteration-count,infinite);animation-iteration-count:infinite;animation-iteration-count:var(--fa-animation-iteration-count,infinite);-webkit-animation-timing-function:linear;-webkit-animation-timing-function:var(--fa-animation-timing,linear);animation-timing-function:linear;animation-timing-function:var(--fa-animation-timing,linear)}.fa-shake,.fa-spin{-webkit-animation-delay:0;-webkit-animation-delay:var(--fa-animation-delay,0);animation-delay:0;animation-delay:var(--fa-animation-delay,0);-webkit-animation-direction:normal;-webkit-animation-direction:var(--fa-animation-direction,normal);animation-direction:normal;animation-direction:var(--fa-animation-direction,normal)}.fa-spin{-webkit-animation-name:fa-spin;animation-name:fa-spin;-webkit-animation-duration:2s;-webkit-animation-duration:var(--fa-animation-duration,2s);animation-duration:2s;animation-duration:var(--fa-animation-duration,2s);-webkit-animation-iteration-count:infinite;-webkit-animation-iteration-count:var(--fa-animation-iteration-count,infinite);animation-iteration-count:infinite;animation-iteration-count:var(--fa-animation-iteration-count,infinite);-webkit-animation-timing-function:linear;-webkit-animation-timing-function:var(--fa-animation-timing,linear);animation-timing-function:linear;animation-timing-function:var(--fa-animation-timing,linear)}.fa-spin-reverse{--fa-animation-direction:reverse}.fa-pulse,.fa-spin-pulse{-webkit-animation-name:fa-spin;animation-name:fa-spin;-webkit-animation-direction:normal;-webkit-animation-direction:var(--fa-animation-direction,normal);animation-direction:normal;animation-direction:var(--fa-animation-direction,normal);-webkit-animation-duration:1s;-webkit-animation-duration:var(--fa-animation-duration,1s);animation-duration:1s;animation-duration:var(--fa-animation-duration,1s);-webkit-animation-iteration-count:infinite;-webkit-animation-iteration-count:var(--fa-animation-iteration-count,infinite);animation-iteration-count:infinite;animation-iteration-count:var(--fa-animation-iteration-count,infinite);-webkit-animation-timing-function:steps(8);-webkit-animation-timing-function:var(--fa-animation-timing,steps(8));animation-timing-function:steps(8);animation-timing-function:var(--fa-animation-timing,steps(8))}@media (prefers-reduced-motion:reduce){.fa-beat,.fa-beat-fade,.fa-bounce,.fa-fade,.fa-flip,.fa-pulse,.fa-shake,.fa-spin,.fa-spin-pulse{-webkit-animation-delay:-1ms;animation-delay:-1ms;-webkit-animation-duration:1ms;animation-duration:1ms;-webkit-animation-iteration-count:1;animation-iteration-count:1;transition-delay:0s;transition-duration:0s}}@-webkit-keyframes fa-beat{0%,90%{transform:scale(1)}45%{transform:scale(1.25);transform:scale(var(--fa-beat-scale,1.25))}}@keyframes fa-beat{0%,90%{transform:scale(1)}45%{transform:scale(1.25);transform:scale(var(--fa-beat-scale,1.25))}}@-webkit-keyframes fa-bounce{0%{transform:scale(1) translateY(0)}10%{transform:scale(1.1,.9) translateY(0);transform:scale(var(--fa-bounce-start-scale-x,1.1),var(--fa-bounce-start-scale-y,.9)) translateY(0)}30%{transform:scale(.9,1.1) translateY(-.5em);transform:scale(var(--fa-bounce-jump-scale-x,.9),var(--fa-bounce-jump-scale-y,1.1)) translateY(var(--fa-bounce-height,-.5em))}50%{transform:scale(1.05,.95) translateY(0);transform:scale(var(--fa-bounce-land-scale-x,1.05),var(--fa-bounce-land-scale-y,.95)) translateY(0)}57%{transform:scale(1) translateY(-.125em);transform:scale(1) translateY(var(--fa-bounce-rebound,-.125em))}64%{transform:scale(1) translateY(0)}to{transform:scale(1) translateY(0)}}@keyframes fa-bounce{0%{transform:scale(1) translateY(0)}10%{transform:scale(1.1,.9) translateY(0);transform:scale(var(--fa-bounce-start-scale-x,1.1),var(--fa-bounce-start-scale-y,.9)) translateY(0)}30%{transform:scale(.9,1.1) translateY(-.5em);transform:scale(var(--fa-bounce-jump-scale-x,.9),var(--fa-bounce-jump-scale-y,1.1)) translateY(var(--fa-bounce-height,-.5em))}50%{transform:scale(1.05,.95) translateY(0);transform:scale(var(--fa-bounce-land-scale-x,1.05),var(--fa-bounce-land-scale-y,.95)) translateY(0)}57%{transform:scale(1) translateY(-.125em);transform:scale(1) translateY(var(--fa-bounce-rebound,-.125em))}64%{transform:scale(1) translateY(0)}to{transform:scale(1) translateY(0)}}@-webkit-keyframes fa-fade{50%{opacity:.4;opacity:var(--fa-fade-opacity,.4)}}@keyframes fa-fade{50%{opacity:.4;opacity:var(--fa-fade-opacity,.4)}}@-webkit-keyframes fa-beat-fade{0%,to{opacity:.4;opacity:var(--fa-beat-fade-opacity,.4);transform:scale(1)}50%{opacity:1;transform:scale(1.125);transform:scale(var(--fa-beat-fade-scale,1.125))}}@keyframes fa-beat-fade{0%,to{opacity:.4;opacity:var(--fa-beat-fade-opacity,.4);transform:scale(1)}50%{opacity:1;transform:scale(1.125);transform:scale(var(--fa-beat-fade-scale,1.125))}}@-webkit-keyframes fa-flip{50%{transform:rotate3d(0,1,0,-180deg);transform:rotate3d(var(--fa-flip-x,0),var(--fa-flip-y,1),var(--fa-flip-z,0),var(--fa-flip-angle,-180deg))}}@keyframes fa-flip{50%{transform:rotate3d(0,1,0,-180deg);transform:rotate3d(var(--fa-flip-x,0),var(--fa-flip-y,1),var(--fa-flip-z,0),var(--fa-flip-angle,-180deg))}}@-webkit-keyframes fa-shake{0%{transform:rotate(-15deg)}4%{transform:rotate(15deg)}24%,8%{transform:rotate(-18deg)}12%,28%{transform:rotate(18deg)}16%{transform:rotate(-22deg)}20%{transform:rotate(22deg)}32%{transform:rotate(-12deg)}36%{transform:rotate(12deg)}40%,to{transform:rotate(0)}}@keyframes fa-shake{0%{transform:rotate(-15deg)}4%{transform:rotate(15deg)}24%,8%{transform:rotate(-18deg)}12%,28%{transform:rotate(18deg)}16%{transform:rotate(-22deg)}20%{transform:rotate(22deg)}32%{transform:rotate(-12deg)}36%{transform:rotate(12deg)}40%,to{transform:rotate(0)}}@-webkit-keyframes fa-spin{0%{transform:rotate(0)}to{transform:rotate(1turn)}}@keyframes fa-spin{0%{transform:rotate(0)}to{transform:rotate(1turn)}}.fa-rotate-90{transform:rotate(90deg)}.fa-rotate-180{transform:rotate(180deg)}.fa-rotate-270{transform:rotate(270deg)}.fa-flip-horizontal{transform:scaleX(-1)}.fa-flip-vertical{transform:scaleY(-1)}.fa-flip-both,.fa-flip-horizontal.fa-flip-vertical{transform:scale(-1)}.fa-rotate-by{transform:rotate(none);transform:rotate(var(--fa-rotate-angle,none))}.fa-stack{display:inline-block;vertical-align:middle;height:2em;position:relative;width:2.5em}.fa-stack-1x,.fa-stack-2x{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0;z-index:auto;z-index:var(--fa-stack-z-index,auto)}.svg-inline--fa.fa-stack-1x{height:1em;width:1.25em}.svg-inline--fa.fa-stack-2x{height:2em;width:2.5em}.fa-inverse{color:#fff;color:var(--fa-inverse,#fff)}.fa-sr-only,.fa-sr-only-focusable:not(:focus),.sr-only,.sr-only-focusable:not(:focus){position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}.svg-inline--fa .fa-primary{fill:currentColor;fill:var(--fa-primary-color,currentColor);opacity:1;opacity:var(--fa-primary-opacity,1)}.svg-inline--fa .fa-secondary{fill:currentColor;fill:var(--fa-secondary-color,currentColor)}.svg-inline--fa .fa-secondary,.svg-inline--fa.fa-swap-opacity .fa-primary{opacity:.4;opacity:var(--fa-secondary-opacity,.4)}.svg-inline--fa.fa-swap-opacity .fa-secondary{opacity:1;opacity:var(--fa-primary-opacity,1)}.svg-inline--fa mask .fa-primary,.svg-inline--fa mask .fa-secondary{fill:#000}.fa-duotone.fa-inverse,.fad.fa-inverse{color:#fff;color:var(--fa-inverse,#fff)}/*! tailwindcss v2.2.19 | MIT License | https://tailwindcss.com*//*! modern-normalize v1.1.0 | MIT License | https://github.com/sindresorhus/modern-normalize */*,::after,::before{box-sizing:border-box}html{-moz-tab-size:4;-o-tab-size:4;tab-size:4}html{line-height:1.15;-webkit-text-size-adjust:100%}body{margin:0}body{font-family:system-ui,-apple-system,'Segoe UI',Roboto,Helvetica,Arial,sans-serif,'Apple Color Emoji','Segoe UI Emoji'}hr{height:0;color:inherit}abbr[title]{-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,pre,samp{font-family:ui-monospace,SFMono-Regular,Consolas,'Liberation Mono',Menlo,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,select{text-transform:none}[type=button],[type=submit],button{-webkit-appearance:button}::-moz-focus-inner{border-style:none;padding:0}legend{padding:0}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dd,dl,figure,h1,h2,h3,h4,h5,h6,hr,p,pre{margin:0}button{background-color:transparent;background-image:none}fieldset{margin:0;padding:0}ol,ul{list-style:none;margin:0;padding:0}html{font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";line-height:1.5}body{font-family:inherit;line-height:inherit}*,::after,::before{box-sizing:border-box;border-width:0;border-style:solid;border-color:currentColor}hr{border-top-width:1px}img{border-style:solid}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input:-ms-input-placeholder,textarea:-ms-input-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button{cursor:pointer}table{border-collapse:collapse}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}button,input,optgroup,select,textarea{padding:0;line-height:inherit;color:inherit}code,kbd,pre,samp{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]{display:none}*,::after,::before{--tw-border-opacity:1;border-color:rgba(229,231,235,var(--tw-border-opacity))}.container{width:100%}@media (min-width:640px){.container{max-width:640px}}@media (min-width:768px){.container{max-width:768px}}@media (min-width:1024px){.container{max-width:1024px}}@media (min-width:1280px){.container{max-width:1280px}}@media (min-width:1536px){.container{max-width:1536px}}.static{position:static}.absolute{position:absolute}.relative{position:relative}.sticky{position:-webkit-sticky;position:sticky}.inset-0{top:0;right:0;bottom:0;left:0}.top-0{top:0}.top-1{top:.25rem}.-top-3{top:-.75rem}.-top-3\.5{top:-.875rem}.right-0{right:0}.right-2{right:.5rem}.right-3{right:.75rem}.right-8{right:2rem}.bottom-3{bottom:.75rem}.bottom-8{bottom:2rem}.-left-3{left:-.75rem}.mx-auto{margin-left:auto;margin-right:auto}.my-2{margin-top:.5rem;margin-bottom:.5rem}.my-4{margin-top:1rem;margin-bottom:1rem}.mt-0{margin-top:0}.mt-1{margin-top:.25rem}.mt-2{margin-top:.5rem}.mt-3{margin-top:.75rem}.mt-4{margin-top:1rem}.mt-7{margin-top:1.75rem}.mt-8{margin-top:2rem}.mt-16{margin-top:4rem}.mt-28{margin-top:7rem}.mt-1\.5{margin-top:.375rem}.mr-1{margin-right:.25rem}.mr-2{margin-right:.5rem}.mr-3{margin-right:.75rem}.mr-4{margin-right:1rem}.mr-5{margin-right:1.25rem}.mr-10{margin-right:2.5rem}.mb-0{margin-bottom:0}.mb-1{margin-bottom:.25rem}.mb-2{margin-bottom:.5rem}.mb-3{margin-bottom:.75rem}.mb-4{margin-bottom:1rem}.mb-5{margin-bottom:1.25rem}.mb-6{margin-bottom:1.5rem}.mb-7{margin-bottom:1.75rem}.mb-8{margin-bottom:2rem}.mb-10{margin-bottom:2.5rem}.mb-12{margin-bottom:3rem}.mb-16{margin-bottom:4rem}.ml-0{margin-left:0}.ml-1{margin-left:.25rem}.ml-2{margin-left:.5rem}.ml-3{margin-left:.75rem}.ml-4{margin-left:1rem}.ml-5{margin-left:1.25rem}.ml-10{margin-left:2.5rem}.ml-auto{margin-left:auto}.block{display:block}.inline-block{display:inline-block}.inline{display:inline}.flex{display:flex}.inline-flex{display:inline-flex}.table{display:table}.hidden{display:none}.h-2{height:.5rem}.h-16{height:4rem}.w-2{width:.5rem}.w-3{width:.75rem}.w-20{width:5rem}.w-32{width:8rem}.w-64{width:16rem}.w-96{width:24rem}.max-w-2xl{max-width:42rem}.flex-grow{flex-grow:1}.transform{--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;transform:translateX(var(--tw-translate-x)) translateY(var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}@-webkit-keyframes spin{to{transform:rotate(360deg)}}@keyframes spin{to{transform:rotate(360deg)}}@-webkit-keyframes ping{100%,75%{transform:scale(2);opacity:0}}@keyframes ping{100%,75%{transform:scale(2);opacity:0}}@-webkit-keyframes pulse{50%{opacity:.5}}@keyframes pulse{50%{opacity:.5}}@-webkit-keyframes bounce{0%,100%{transform:translateY(-25%);-webkit-animation-timing-function:cubic-bezier(.8,0,1,1);animation-timing-function:cubic-bezier(.8,0,1,1)}50%{transform:none;-webkit-animation-timing-function:cubic-bezier(0,0,.2,1);animation-timing-function:cubic-bezier(0,0,.2,1)}}@keyframes bounce{0%,100%{transform:translateY(-25%);-webkit-animation-timing-function:cubic-bezier(.8,0,1,1);animation-timing-function:cubic-bezier(.8,0,1,1)}50%{transform:none;-webkit-animation-timing-function:cubic-bezier(0,0,.2,1);animation-timing-function:cubic-bezier(0,0,.2,1)}}.select-none{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.list-inside{list-style-position:inside}.list-disc{list-style-type:disc}.list-decimal{list-style-type:decimal}.flex-col{flex-direction:column}.flex-wrap{flex-wrap:wrap}.items-start{align-items:flex-start}.items-end{align-items:flex-end}.items-center{align-items:center}.justify-between{justify-content:space-between}.overflow-hidden{overflow:hidden}.overflow-x-auto{overflow-x:auto}.whitespace-nowrap{white-space:nowrap}.rounded{border-radius:.25rem}.rounded-full{border-radius:9999px}.rounded-bl{border-bottom-left-radius:.25rem}.border{border-width:1px}.border-r{border-right-width:1px}.border-b{border-bottom-width:1px}.border-dashed{border-style:dashed}.border-white{--tw-border-opacity:1;border-color:rgba(255,255,255,var(--tw-border-opacity))}.border-pink-600{--tw-border-opacity:1;border-color:rgba(219,39,119,var(--tw-border-opacity))}.border-brand-tertiary-light{--tw-border-opacity:1;border-color:rgba(163,163,163,var(--tw-border-opacity))}.border-brand-tertiary-dark{--tw-border-opacity:1;border-color:rgba(67,67,67,var(--tw-border-opacity))}.border-brand-border-dark{--tw-border-opacity:1;border-color:rgba(163,163,163,var(--tw-border-opacity))}.border-brand-success-light{--tw-border-opacity:1;border-color:rgba(82,179,94,var(--tw-border-opacity))}.border-brand-danger-light{--tw-border-opacity:1;border-color:rgba(219,39,119,var(--tw-border-opacity))}.border-brand-danger-dark{--tw-border-opacity:1;border-color:rgba(219,39,119,var(--tw-border-opacity))}.dark .dark\:border-brand-tertiary-dark{--tw-border-opacity:1;border-color:rgba(67,67,67,var(--tw-border-opacity))}.dark .dark\:border-brand-border-dark{--tw-border-opacity:1;border-color:rgba(163,163,163,var(--tw-border-opacity))}.dark .dark\:border-brand-success-dark{--tw-border-opacity:1;border-color:rgba(82,179,94,var(--tw-border-opacity))}.dark .dark\:border-brand-danger-dark{--tw-border-opacity:1;border-color:rgba(219,39,119,var(--tw-border-opacity))}.border-opacity-10{--tw-border-opacity:0.1}.border-opacity-30{--tw-border-opacity:0.3}.border-opacity-80{--tw-border-opacity:0.8}.bg-black{--tw-bg-opacity:1;background-color:rgba(0,0,0,var(--tw-bg-opacity))}.bg-brand-success-light{--tw-bg-opacity:1;background-color:rgba(82,179,94,var(--tw-bg-opacity))}.bg-brand-danger-light{--tw-bg-opacity:1;background-color:rgba(219,39,119,var(--tw-bg-opacity))}.bg-brand-body-light{--tw-bg-opacity:1;background-color:rgba(239,238,234,var(--tw-bg-opacity))}.hover\:bg-white:hover{--tw-bg-opacity:1;background-color:rgba(255,255,255,var(--tw-bg-opacity))}.dark .dark\:bg-transparent{background-color:transparent}.dark .dark\:bg-black{--tw-bg-opacity:1;background-color:rgba(0,0,0,var(--tw-bg-opacity))}.dark .dark\:bg-white{--tw-bg-opacity:1;background-color:rgba(255,255,255,var(--tw-bg-opacity))}.dark .dark\:bg-brand-body-dark{--tw-bg-opacity:1;background-color:rgba(37,37,37,var(--tw-bg-opacity))}.bg-opacity-10{--tw-bg-opacity:0.1}.bg-opacity-30{--tw-bg-opacity:0.3}.bg-opacity-100{--tw-bg-opacity:1}.hover\:bg-opacity-10:hover{--tw-bg-opacity:0.1}.dark .dark\:bg-opacity-10{--tw-bg-opacity:0.1}.dark .dark\:bg-opacity-100{--tw-bg-opacity:1}.p-1{padding:.25rem}.p-2{padding:.5rem}.px-2{padding-left:.5rem;padding-right:.5rem}.px-3{padding-left:.75rem;padding-right:.75rem}.px-4{padding-left:1rem;padding-right:1rem}.px-5{padding-left:1.25rem;padding-right:1.25rem}.px-10{padding-left:2.5rem;padding-right:2.5rem}.px-16{padding-left:4rem;padding-right:4rem}.py-1{padding-top:.25rem;padding-bottom:.25rem}.py-2{padding-top:.5rem;padding-bottom:.5rem}.py-3{padding-top:.75rem;padding-bottom:.75rem}.py-4{padding-top:1rem;padding-bottom:1rem}.py-10{padding-top:2.5rem;padding-bottom:2.5rem}.pt-1{padding-top:.25rem}.pt-2{padding-top:.5rem}.pt-3{padding-top:.75rem}.pt-5{padding-top:1.25rem}.pt-10{padding-top:2.5rem}.pr-3{padding-right:.75rem}.pb-1{padding-bottom:.25rem}.pb-2{padding-bottom:.5rem}.pb-7{padding-bottom:1.75rem}.pb-10{padding-bottom:2.5rem}.pl-0{padding-left:0}.pl-2{padding-left:.5rem}.pl-5{padding-left:1.25rem}.text-right{text-align:right}.text-xs{font-size:.75rem;line-height:1rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-base{font-size:1rem;line-height:1.5rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.text-2xl{font-size:1.5rem;line-height:2rem}.text-3xl{font-size:1.875rem;line-height:2.25rem}.text-4xl{font-size:2.25rem;line-height:2.5rem}.text-6xl{font-size:3.75rem;line-height:1}.text-7xl{font-size:4.5rem;line-height:1}.font-light{font-weight:300}.font-normal{font-weight:400}.font-medium{font-weight:500}.font-bold{font-weight:700}.italic{font-style:italic}.text-white{--tw-text-opacity:1;color:rgba(255,255,255,var(--tw-text-opacity))}.text-gray-500{--tw-text-opacity:1;color:rgba(107,114,128,var(--tw-text-opacity))}.text-green-600{--tw-text-opacity:1;color:rgba(5,150,105,var(--tw-text-opacity))}.text-pink-500{--tw-text-opacity:1;color:rgba(236,72,153,var(--tw-text-opacity))}.text-pink-600{--tw-text-opacity:1;color:rgba(219,39,119,var(--tw-text-opacity))}.text-brand-yellow-dark{--tw-text-opacity:1;color:rgba(255,204,0,var(--tw-text-opacity))}.text-brand-blue-light{--tw-text-opacity:1;color:rgba(14,165,233,var(--tw-text-opacity))}.text-brand-green-dark{--tw-text-opacity:1;color:rgba(144,169,89,var(--tw-text-opacity))}.text-brand-active-light{--tw-text-opacity:1;color:rgba(14,165,233,var(--tw-text-opacity))}.text-brand-primary-light{--tw-text-opacity:1;color:rgba(35,35,35,var(--tw-text-opacity))}.text-brand-primary-dark{--tw-text-opacity:1;color:rgba(240,231,213,var(--tw-text-opacity))}.text-brand-secondary-light{--tw-text-opacity:1;color:rgba(62,62,62,var(--tw-text-opacity))}.text-brand-secondary-dark{--tw-text-opacity:1;color:rgba(215,207,190,var(--tw-text-opacity))}.text-brand-tertiary-light{--tw-text-opacity:1;color:rgba(163,163,163,var(--tw-text-opacity))}.text-brand-heading-light{--tw-text-opacity:1;color:rgba(45,45,45,var(--tw-text-opacity))}.text-brand-success-light{--tw-text-opacity:1;color:rgba(82,179,94,var(--tw-text-opacity))}.text-brand-success-dark{--tw-text-opacity:1;color:rgba(82,179,94,var(--tw-text-opacity))}.hover\:text-white:hover{--tw-text-opacity:1;color:rgba(255,255,255,var(--tw-text-opacity))}.hover\:text-brand-link-light:hover{--tw-text-opacity:1;color:rgba(14,165,233,var(--tw-text-opacity))}.hover\:text-brand-active-light:hover{--tw-text-opacity:1;color:rgba(14,165,233,var(--tw-text-opacity))}.hover\:text-brand-primary-light:hover{--tw-text-opacity:1;color:rgba(35,35,35,var(--tw-text-opacity))}.dark .dark\:text-white{--tw-text-opacity:1;color:rgba(255,255,255,var(--tw-text-opacity))}.dark .dark\:text-gray-300{--tw-text-opacity:1;color:rgba(209,213,219,var(--tw-text-opacity))}.dark .dark\:text-yellow-100{--tw-text-opacity:1;color:rgba(254,243,199,var(--tw-text-opacity))}.dark .dark\:text-brand-yellow-dark{--tw-text-opacity:1;color:rgba(255,204,0,var(--tw-text-opacity))}.dark .dark\:text-brand-primary-dark{--tw-text-opacity:1;color:rgba(240,231,213,var(--tw-text-opacity))}.dark .dark\:text-brand-secondary-dark{--tw-text-opacity:1;color:rgba(215,207,190,var(--tw-text-opacity))}.dark .dark\:text-brand-heading-dark{--tw-text-opacity:1;color:rgba(182,182,182,var(--tw-text-opacity))}.dark .dark\:text-brand-success-dark{--tw-text-opacity:1;color:rgba(82,179,94,var(--tw-text-opacity))}.dark .dark\:hover\:text-white:hover{--tw-text-opacity:1;color:rgba(255,255,255,var(--tw-text-opacity))}.dark .dark\:hover\:text-brand-link-dark:hover{--tw-text-opacity:1;color:rgba(255,235,155,var(--tw-text-opacity))}.dark .dark\:hover\:text-brand-primary-dark:hover{--tw-text-opacity:1;color:rgba(240,231,213,var(--tw-text-opacity))}.text-opacity-20{--tw-text-opacity:0.2}.text-opacity-30{--tw-text-opacity:0.3}.text-opacity-50{--tw-text-opacity:0.5}.hover\:text-opacity-20:hover{--tw-text-opacity:0.2}.hover\:text-opacity-40:hover{--tw-text-opacity:0.4}.hover\:text-opacity-70:hover{--tw-text-opacity:0.7}.dark .dark\:text-opacity-20{--tw-text-opacity:0.2}.dark .dark\:text-opacity-25{--tw-text-opacity:0.25}.dark .dark\:text-opacity-30{--tw-text-opacity:0.3}.dark .dark\:text-opacity-50{--tw-text-opacity:0.5}.dark .dark\:text-opacity-60{--tw-text-opacity:0.6}.dark .dark\:hover\:text-opacity-40:hover{--tw-text-opacity:0.4}.dark .dark\:hover\:text-opacity-70:hover{--tw-text-opacity:0.7}.opacity-60{opacity:.6}.opacity-90{opacity:.9}.opacity-100{opacity:1}.hover\:opacity-100:hover{opacity:1}*,::after,::before{--tw-shadow:0 0 #0000}*,::after,::before{--tw-ring-inset:var(--tw-empty, );/*!*//*!*/--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(59, 130, 246, 0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000}.filter{--tw-blur:var(--tw-empty, );/*!*//*!*/--tw-brightness:var(--tw-empty, );/*!*//*!*/--tw-contrast:var(--tw-empty, );/*!*//*!*/--tw-grayscale:var(--tw-empty, );/*!*//*!*/--tw-hue-rotate:var(--tw-empty, );/*!*//*!*/--tw-invert:var(--tw-empty, );/*!*//*!*/--tw-saturate:var(--tw-empty, );/*!*//*!*/--tw-sepia:var(--tw-empty, );/*!*//*!*/--tw-drop-shadow:var(--tw-empty, );/*!*//*!*/filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.blur{--tw-blur:blur(8px)}.grayscale{--tw-grayscale:grayscale(100%)}.transition-none{transition-property:none}.transition{transition-property:background-color,border-color,color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:background-color,border-color,color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:background-color,border-color,color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:150ms}@media (min-width:640px){.sm\:top-0{top:0}.sm\:top-2{top:.5rem}.sm\:bottom-1{bottom:.25rem}.sm\:-left-5{left:-1.25rem}.sm\:left-full{left:100%}.sm\:mt-0{margin-top:0}.sm\:mb-14{margin-bottom:3.5rem}.sm\:ml-10{margin-left:2.5rem}.sm\:flex-nowrap{flex-wrap:nowrap}.sm\:py-10{padding-top:2.5rem;padding-bottom:2.5rem}.sm\:text-xl{font-size:1.25rem;line-height:1.75rem}.sm\:text-2xl{font-size:1.5rem;line-height:2rem}}@media (min-width:768px){.md\:inline-block{display:inline-block}}.hamburger{overflow:visible;display:inline-block;margin:0;padding:15px;border:0;background-color:transparent;text-transform:none;font:inherit;color:inherit;transition-property:opacity,filter;transition-duration:.15s;transition-timing-function:linear;cursor:pointer}.hamburger.is-active .hamburger-inner,.hamburger.is-active .hamburger-inner:after,.hamburger.is-active .hamburger-inner:before{background-color:#b6b6b6}.light .hamburger.is-active .hamburger-inner,.light .hamburger.is-active .hamburger-inner:after,.light .hamburger.is-active .hamburger-inner:before{background-color:#2d2d2d}.hamburger-box{position:relative;display:inline-block;width:20px;height:18px}.hamburger-inner{display:block;top:50%;margin-top:-2px}.hamburger-inner,.hamburger-inner:after,.hamburger-inner:before{position:absolute;width:20px;height:3px;border-radius:1px;background-color:#b6b6b6;transition-property:transform;transition-duration:.15s;transition-timing-function:ease}.light .hamburger-inner,.light .hamburger-inner:after,.light .hamburger-inner:before{background-color:#2d2d2d}.hamburger-inner:after,.hamburger-inner:before{content:"";display:block}.hamburger-inner:before{top:-8px}.hamburger-inner:after{bottom:-8px}.hamburger--squeeze .hamburger-inner{transition-duration:75ms;transition-timing-function:cubic-bezier(.55,.055,.675,.19)}.hamburger--squeeze .hamburger-inner:before{transition:top 75ms ease .12s,opacity 75ms ease}.hamburger--squeeze .hamburger-inner:after{transition:bottom 75ms ease .12s,transform 75ms cubic-bezier(.55,.055,.675,.19)}.hamburger--squeeze.is-active .hamburger-inner{transform:rotate(45deg);transition-delay:.12s;transition-timing-function:cubic-bezier(.215,.61,.355,1)}.hamburger--squeeze.is-active .hamburger-inner:before{top:0;opacity:0;transition:top 75ms ease,opacity 75ms ease .12s}.hamburger--squeeze.is-active .hamburger-inner:after{bottom:0;transform:rotate(-90deg);transition:bottom 75ms ease,transform 75ms cubic-bezier(.215,.61,.355,1) .12s}html{scroll-behavior:smooth}@media screen and (prefers-reduced-motion:reduce){html{scroll-behavior:auto}}body{--tw-text-opacity:1;color:rgba(35,35,35,var(--tw-text-opacity))}.dark body{--tw-text-opacity:1;color:rgba(240,231,213,var(--tw-text-opacity))}body{line-height:1.5;background:#252525 linear-gradient(#2a2a29,#1c1c1c) fixed;text-shadow:1px 1px 1px rgba(0,0,0,.4);font-family:"Open Sans",Helvetica,Arial,sans-serif;font-size:16px;font-weight:300}.light body{background:#efeeea linear-gradient(#faf9f2,#e1e0da) fixed;text-shadow:none;font-weight:400}::-webkit-scrollbar{width:8px;height:8px}::-webkit-scrollbar-track{background:#333}::-webkit-scrollbar-thumb{background:#8d887d}.light ::-webkit-scrollbar-track{background:#efeeea}.light ::-webkit-scrollbar-thumb{background:#545454}::-moz-selection{background-color:rgba(0,105,161,.5);color:#fff}::selection{background-color:rgba(0,105,161,.5);color:#fff}.h-separator{border-width:1px;border-right-width:0;border-left-width:0;border-style:dashed;--tw-border-opacity:1;border-color:rgba(163,163,163,var(--tw-border-opacity))}.dark .h-separator{--tw-border-opacity:1;border-color:rgba(67,67,67,var(--tw-border-opacity))}.h-separator{height:3px}a{--tw-text-opacity:1;color:rgba(14,165,233,var(--tw-text-opacity))}.dark a{--tw-text-opacity:1;color:rgba(255,235,155,var(--tw-text-opacity))}a,a:hover{transition:all .15s}a:hover{--tw-text-opacity:1;color:rgba(0,124,255,var(--tw-text-opacity))}.dark a:hover{--tw-text-opacity:1;color:rgba(255,204,0,var(--tw-text-opacity))}b,strong{font-weight:400}.light b,.light strong{font-weight:600}.dark h1 a,.dark h2 a,.dark h3 a,.dark h4 a,h1 a,h2 a,h3 a,h4 a{color:inherit;transition:all .6s}h1 a:hover,h2 a:hover,h3 a:hover,h4 a:hover{--tw-text-opacity:1;color:rgba(14,165,233,var(--tw-text-opacity))}.dark h1 a:hover,.dark h2 a:hover,.dark h3 a:hover,.dark h4 a:hover{--tw-text-opacity:1;color:rgba(255,235,155,var(--tw-text-opacity))}button,button:hover{transition:all .15s}select,select option{background:#333}p{margin-bottom:.5rem}ul>li::marker{color:#8d8d8d}div.pre,pre{margin-top:1rem;margin-bottom:1rem;overflow-x:auto;border-radius:.25rem;padding-left:1rem;padding-right:1rem;padding-top:1.5rem;padding-bottom:1.5rem}@media (min-width:640px){div.pre,pre{padding-top:1rem;padding-bottom:1rem}}div.pre,pre{--tw-bg-opacity:1!important;background-color:rgba(0,0,0,var(--tw-bg-opacity))!important;--tw-bg-opacity:0.8!important}.dark div.pre,.dark pre{--tw-bg-opacity:0.1!important}div.pre,pre{--tw-shadow:inset 0 2px 4px 0 rgba(0, 0, 0, 0.06)!important;box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)!important}div.pre code,pre code{display:block;min-width:-webkit-max-content;min-width:-moz-max-content;min-width:max-content}div.pre code,pre code{text-shadow:none}div.pre pre{margin:0!important;overflow-x:visible!important;border-radius:0!important;background-color:transparent!important;--tw-bg-opacity:1!important;padding:0!important;--tw-shadow:0 0 #0000!important;box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)!important}div.pre pre+pre{margin-top:1.5rem!important}.input{width:100%;border-width:1px;--tw-border-opacity:1;border-color:rgba(255,255,255,var(--tw-border-opacity));--tw-border-opacity:0.3;background-color:transparent;padding-left:.5rem;padding-right:.5rem;padding-top:.25rem;padding-bottom:.25rem;--tw-text-opacity:1;color:rgba(255,255,255,var(--tw-text-opacity))}.input::-moz-placeholder{--tw-text-opacity:1;color:rgba(255,255,255,var(--tw-text-opacity));--tw-text-opacity:0.2}.input:-ms-input-placeholder{--tw-text-opacity:1;color:rgba(255,255,255,var(--tw-text-opacity));--tw-text-opacity:0.2}.input::placeholder{--tw-text-opacity:1;color:rgba(255,255,255,var(--tw-text-opacity));--tw-text-opacity:0.2}.input:focus-visible{--tw-border-opacity:1;border-color:rgba(255,255,255,var(--tw-border-opacity));--tw-border-opacity:0.6;outline:2px solid transparent;outline-offset:2px}.bit{margin-left:.25rem;margin-right:.25rem;display:inline-block;margin-bottom:2px;padding:2px 10px;border-radius:2px;box-shadow:inset 0 1px 3px rgba(0,0,0,.3);background:rgba(25,25,25,.6);letter-spacing:.01em;font-weight:400}.bit.path{color:#90a959}.bit.special-value{color:#d03387}.bit.code,.bit.variable{color:#bed9e9}.light .bit{font-weight:600;background:#f6f6f6}.light .bit.path{color:#2b8117}.light .bit.special-value{color:#d92185}.light .bit.code,.light .bit.variable{color:#328ec5}.page-heading{margin-bottom:1.25rem;font-size:1.25rem;line-height:1.75rem}@media (min-width:640px){.page-heading{margin-bottom:2rem;font-size:1.5rem;line-height:2rem}}.notice-box{border-width:1px;border-style:dashed;--tw-border-opacity:1;border-color:rgba(163,163,163,var(--tw-border-opacity))}.dark .notice-box{--tw-border-opacity:1;border-color:rgba(67,67,67,var(--tw-border-opacity))}.warning-box{border-width:1px;border-style:dashed;--tw-border-opacity:1;border-color:rgba(219,39,119,var(--tw-border-opacity));font-style:italic}.alert-remark{display:inline-block;border-width:1px;border-style:dashed;--tw-border-opacity:1;border-color:rgba(219,39,119,var(--tw-border-opacity));padding-left:.75rem;padding-right:.75rem;padding-top:.25rem;padding-bottom:.25rem}.alert-remark .bit{margin-bottom:0}.simple-card{margin-bottom:1.75rem;padding-bottom:1rem}@media (min-width:640px){.simple-card{margin-bottom:2.5rem;padding-bottom:2rem}}.simple-card:not(:last-child){border-bottom-width:1px;border-style:dashed;--tw-border-opacity:1;border-color:rgba(163,163,163,var(--tw-border-opacity))}.dark .simple-card:not(:last-child){--tw-border-opacity:1;border-color:rgba(67,67,67,var(--tw-border-opacity))}.context-section.active,.simple-card.active{outline:2px dashed #8a24bb;outline-offset:10px}.light .context-section.active,.light .simple-card.active{outline:2px dashed #c12b2b}.text-shadow-none{text-shadow:none}.console{margin-top:1rem;margin-bottom:1rem;border-radius:.25rem;--tw-bg-opacity:1;background-color:rgba(0,0,0,var(--tw-bg-opacity));--tw-bg-opacity:0.1;padding:1rem;font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;font-size:.875rem;line-height:1.25rem;font-weight:300;--tw-shadow:inset 0 2px 4px 0 rgba(0, 0, 0, 0.06);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.light .console{--tw-bg-opacity:0.8;--tw-text-opacity:1;color:rgba(255,255,255,var(--tw-text-opacity))}.quote{font-size:1.125rem;line-height:1.75rem;font-style:italic}.table{border-collapse:collapse;--tw-border-opacity:1;border-color:rgba(163,163,163,var(--tw-border-opacity))}.dark .table{--tw-border-opacity:1;border-color:rgba(67,67,67,var(--tw-border-opacity))}.table td,.table th{border-width:1px;--tw-border-opacity:1;border-color:rgba(163,163,163,var(--tw-border-opacity))}.dark .table td,.dark .table th{--tw-border-opacity:1;border-color:rgba(67,67,67,var(--tw-border-opacity))}.table td,.table th{padding-left:1rem;padding-right:1rem;padding-top:.25rem;padding-bottom:.25rem}@media only screen and (max-width:767px){.bit,.external-link{overflow-wrap:anywhere}}.case-tag{margin-right:.25rem;margin-bottom:.25rem;display:inline-block;cursor:pointer;border-radius:.25rem;border-width:1px;--tw-border-opacity:1;border-color:rgba(163,163,163,var(--tw-border-opacity))}.dark .case-tag{--tw-border-opacity:1;border-color:rgba(67,67,67,var(--tw-border-opacity))}.case-tag{padding-left:.25rem;padding-right:.25rem;padding-top:.125rem;padding-bottom:.125rem;font-size:.875rem;line-height:1.25rem;text-transform:capitalize}.case-tag.active{--tw-bg-opacity:1;background-color:rgba(14,165,233,var(--tw-bg-opacity))}.dark .case-tag.active{--tw-bg-opacity:1;background-color:rgba(67,67,67,var(--tw-bg-opacity))}.case-tag.active{--tw-text-opacity:1;color:rgba(255,255,255,var(--tw-text-opacity))}code[class*=language-],pre[class*=language-]{color:#000;background:0 0;text-shadow:0 1px #fff;font-family:Consolas,Monaco,"Andale Mono","Ubuntu Mono",monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}code[class*=language-] ::-moz-selection,code[class*=language-]::-moz-selection,pre[class*=language-] ::-moz-selection,pre[class*=language-]::-moz-selection{text-shadow:none;background:#b3d4fc}code[class*=language-] ::-moz-selection,code[class*=language-]::-moz-selection,pre[class*=language-] ::-moz-selection,pre[class*=language-]::-moz-selection{text-shadow:none;background:#b3d4fc}code[class*=language-] ::selection,code[class*=language-]::selection,pre[class*=language-] ::selection,pre[class*=language-]::selection{text-shadow:none;background:#b3d4fc}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#999}.token.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#905}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#690}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{color:#9a6e3a;background:hsla(0,0%,100%,.5)}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.class-name,.token.function{color:#dd4a68}.token.important,.token.regex,.token.variable{color:#e90}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.nuxt-progress{position:fixed;top:0;left:0;right:0;height:2px;width:0;opacity:1;transition:width .1s,opacity .4s;background-color:#000;z-index:999999}.nuxt-progress.nuxt-progress-notransition{transition:none}.nuxt-progress-failed{background-color:red}.app-container[data-v-ec9c0286]{margin:0 auto;padding:0 30px;max-width:1200px}@media only screen and (max-width:375px){.app-container[data-v-ec9c0286]{padding-left:15px;padding-right:15px}}.app-container .row-container[data-v-ec9c0286]{width:100%;margin-right:40px;max-width:calc(100% - 296px)}@media only screen and (max-width:1199px){.app-container .row-container[data-v-ec9c0286]{max-width:calc(100% - 76px)}}@media only screen and (max-width:991px){.app-container .row-container[data-v-ec9c0286]:not(.content){margin-right:0;max-width:100%}}@media only screen and (max-width:768px){.app-container .row-container[data-v-ec9c0286]{margin-right:20px;max-width:calc(100% - 56px)}}@media only screen and (max-width:480px){.app-container .row-container[data-v-ec9c0286]{margin-right:0;max-width:100%}}.app-container .main-container[data-v-ec9c0286]{position:relative;display:flex;align-items:flex-start;justify-content:space-between}.app-container .main-container .sidebar[data-v-ec9c0286]{display:none}@media only screen and (min-width:481px){.app-container .main-container .sidebar[data-v-ec9c0286]{display:block}}.logo-row[data-v-4f113d38]{margin-bottom:1.25rem;display:flex;align-items:center}@media only screen and (max-width:480px){.logo-row[data-v-4f113d38]{justify-content:space-between}}.logo-row .logo[data-v-4f113d38]{filter:hue-rotate(309deg) grayscale(.45)}.logo-row .logo-description[data-v-4f113d38]{padding-top:.5rem;font-size:1.125rem;line-height:1.75rem;font-weight:300;--tw-text-opacity:1;color:rgba(62,62,62,var(--tw-text-opacity))}.dark .logo-row .logo-description[data-v-4f113d38]{--tw-text-opacity:1;color:rgba(215,207,190,var(--tw-text-opacity))}@media only screen and (max-width:640px){.logo-row .logo-description[data-v-4f113d38]{font-size:1rem;line-height:1.5rem}}.menu[data-v-4f113d38]{display:flex;align-items:center;padding-top:.25rem;padding-bottom:.25rem;padding-right:.75rem;padding-left:0}@media (min-width:640px){.menu[data-v-4f113d38]{padding-left:.75rem}}@media only screen and (max-width:640px){.menu[data-v-4f113d38]{flex-direction:column;align-items:flex-start}}.menu .menu-item[data-v-4f113d38]{padding-right:.75rem;display:inline-flex;flex-flow:row nowrap;align-items:center;color:#afa69b}@media only screen and (max-width:640px){.menu .menu-item[data-v-4f113d38]{padding:5px 0}}.dark .menu .menu-item.nuxt-link-exact-active[data-v-4f113d38]{--tw-text-opacity:1;color:rgba(255,235,155,var(--tw-text-opacity))}.menu .menu-item.nuxt-link-exact-active[data-v-4f113d38]{cursor:default}.dark .menu .menu-item[data-v-4f113d38]:hover{--tw-text-opacity:1;color:rgba(255,235,155,var(--tw-text-opacity))}@media only screen and (min-width:641px){.menu .menu-item[data-v-4f113d38]:not(:last-child):after{border-right-width:1px;border-style:dashed;--tw-border-opacity:1;border-color:rgba(163,163,163,var(--tw-border-opacity))}.dark .menu .menu-item[data-v-4f113d38]:not(:last-child):after{--tw-border-opacity:1;border-color:rgba(67,67,67,var(--tw-border-opacity))}.menu .menu-item[data-v-4f113d38]:not(:last-child):after{padding-right:.75rem;content:"";display:inline-block;height:16px}}.light .menu .menu-item[data-v-4f113d38]{color:#404040}.light .menu .menu-item.nuxt-link-exact-active[data-v-4f113d38],.light .menu .menu-item[data-v-4f113d38]:hover{--tw-text-opacity:1;color:rgba(14,165,233,var(--tw-text-opacity))}.theme-switcher[data-v-36032872]{display:flex;align-items:center}@media only screen and (max-width:640px){.theme-switcher[data-v-36032872]{margin-right:.5rem;flex-direction:column;justify-content:center}.theme-switcher .toggle-button[data-v-36032872]{margin-right:0}.theme-switcher .toggle-button[data-v-36032872]:not(:last-child){margin-bottom:.5rem}}.toggle-button[data-v-36032872]{font-size:1.25rem;line-height:1.75rem;--tw-text-opacity:1;color:rgba(45,45,45,var(--tw-text-opacity))}.dark .toggle-button[data-v-36032872]{--tw-text-opacity:1;color:rgba(182,182,182,var(--tw-text-opacity))}.toggle-button[data-v-36032872]{--tw-text-opacity:0.2}.dark .toggle-button[data-v-36032872]{--tw-text-opacity:0.2}.toggle-button.active[data-v-36032872]{--tw-text-opacity:0.7}.anchor[data-v-6837b121]{position:relative;top:-20px;visibility:hidden}pre.torchlight code{padding-left:0;padding-right:0}pre.torchlight code .line-number{filter:grayscale(1);opacity:.7}pre.torchlight code .line{padding-right:1rem}pre.torchlight code .line-number,pre.torchlight code .summary-caret{margin-right:1rem}.preview-mode pre.torchlight .line-number{display:none}.preview-mode pre.torchlight .line:not(:last-of-type){margin-bottom:.75rem}.sidebar[data-v-95132b46]{position:-webkit-sticky;position:sticky;top:2.5rem}@media only screen and (min-width:1200px){.sidebar[data-v-95132b46]{width:16rem}}.sidebar .nav-sidebar[data-v-95132b46]{width:16rem;border-radius:.25rem}.dark .sidebar .nav-sidebar[data-v-95132b46]{--tw-bg-opacity:1;background-color:rgba(0,0,0,var(--tw-bg-opacity));--tw-bg-opacity:0.1}.sidebar .nav-sidebar[data-v-95132b46]{padding-left:1.25rem;padding-right:1.25rem;padding-top:1rem;padding-bottom:1rem;opacity:.6}.sidebar .nav-sidebar[data-v-95132b46]:hover{opacity:1}.sidebar .nav-sidebar[data-v-95132b46]{--tw-shadow:inset 0 2px 4px 0 rgba(0, 0, 0, 0.06);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow);overflow-y:auto;max-height:70vh}@media only screen and (max-width:1199px){.sidebar .nav-sidebar[data-v-95132b46]{border-width:1px;--tw-border-opacity:1;border-color:rgba(163,163,163,var(--tw-border-opacity))}.dark .sidebar .nav-sidebar[data-v-95132b46]{--tw-border-opacity:1;border-color:rgba(163,163,163,var(--tw-border-opacity))}.sidebar .nav-sidebar[data-v-95132b46]{--tw-bg-opacity:1;background-color:rgba(239,238,234,var(--tw-bg-opacity))}.dark .sidebar .nav-sidebar[data-v-95132b46]{--tw-bg-opacity:1;background-color:rgba(37,37,37,var(--tw-bg-opacity))}.sidebar .nav-sidebar[data-v-95132b46]{--tw-bg-opacity:1}.dark .sidebar .nav-sidebar[data-v-95132b46]{--tw-bg-opacity:1}.sidebar .nav-sidebar[data-v-95132b46]{opacity:1;--tw-shadow:0 10px 15px -3px rgba(0, 0, 0, 0.1),0 4px 6px -2px rgba(0, 0, 0, 0.05);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow);display:none;position:absolute;top:20px;right:50px;z-index:100}}.sidebar .nav-sidebar.opened[data-v-95132b46]{display:block}.sidebar .nav-sidebar>a[data-v-95132b46]{display:block;padding-top:.25rem;padding-bottom:.25rem;--tw-text-opacity:1;color:rgba(45,45,45,var(--tw-text-opacity))}.dark .sidebar .nav-sidebar>a[data-v-95132b46]{--tw-text-opacity:1;color:rgba(182,182,182,var(--tw-text-opacity))}.sidebar .nav-sidebar>a .anchor[data-v-95132b46]{position:relative;left:0;transform:scale(1);transition:left .15s}.sidebar .nav-sidebar>a.active[data-v-95132b46],.sidebar .nav-sidebar>a[data-v-95132b46]:hover{--tw-text-opacity:1;color:rgba(14,165,233,var(--tw-text-opacity))}.dark .sidebar .nav-sidebar>a.active[data-v-95132b46],.dark .sidebar .nav-sidebar>a[data-v-95132b46]:hover{--tw-text-opacity:1;color:rgba(255,235,155,var(--tw-text-opacity))}.sidebar .nav-sidebar>a.active .anchor[data-v-95132b46],.sidebar .nav-sidebar>a:hover .anchor[data-v-95132b46]{left:-3px;transition:left .3s}.sidebar .nav-buttons[data-v-95132b46]{margin-top:1.25rem;display:flex;align-items:center;justify-content:space-between}@media only screen and (max-width:1199px){.sidebar .nav-buttons[data-v-95132b46]{flex-direction:column}}.sidebar .nav-buttons .nav-button[data-v-95132b46]{margin-left:auto;margin-right:auto;padding:.5rem;font-size:1.25rem;line-height:1.75rem;--tw-text-opacity:1;color:rgba(45,45,45,var(--tw-text-opacity));--tw-text-opacity:0.5}.sidebar .nav-buttons .nav-button[data-v-95132b46]:hover{--tw-text-opacity:1}.dark .sidebar .nav-buttons .nav-button[data-v-95132b46]{--tw-text-opacity:1;color:rgba(182,182,182,var(--tw-text-opacity));--tw-text-opacity:0.5}.dark .sidebar .nav-buttons .nav-button[data-v-95132b46]:hover{--tw-text-opacity:1}@media only screen and (min-width:1200px){.sidebar .nav-buttons .nav-button.dropdown-button[data-v-95132b46]{display:none}}@media only screen and (max-width:1199px){.sidebar .nav-buttons .nav-button.scroll-to[data-v-95132b46]{order:10}}.sidebar .nav-buttons .nav-button.disabled[data-v-95132b46],.sidebar .nav-buttons .nav-button[data-v-95132b46]:disabled{cursor:default;--tw-text-opacity:0.2}.sidebar .nav-buttons .nav-button.disabled[data-v-95132b46]:hover,.sidebar .nav-buttons .nav-button[data-v-95132b46]:disabled:hover{--tw-text-opacity:0.2}.light .sidebar .nav-sidebar[data-v-95132b46]{box-shadow:none}.fa-heart[data-v-4e83c450]{color:rgba(255,204,0,.8)}.light .fa-heart[data-v-4e83c450]{color:rgba(14,165,233,.8)}.support-cell a[data-v-4e83c450]{font-size:1.25rem;line-height:1.75rem;--tw-text-opacity:1;color:rgba(45,45,45,var(--tw-text-opacity));--tw-text-opacity:0.5}.support-cell a[data-v-4e83c450]:hover{--tw-text-opacity:1}.dark .support-cell a[data-v-4e83c450]{--tw-text-opacity:1;color:rgba(182,182,182,var(--tw-text-opacity));--tw-text-opacity:0.5}.dark .support-cell a[data-v-4e83c450]:hover{--tw-text-opacity:1}@media only screen and (min-width:481px){.support-cell[data-v-4e83c450]{display:none}}footer .external-link[data-v-4e83c450]{--tw-text-opacity:1;color:rgba(163,163,163,var(--tw-text-opacity))}.dark footer .external-link[data-v-4e83c450]{--tw-text-opacity:1;color:rgba(254,243,199,var(--tw-text-opacity));--tw-text-opacity:0.6}footer .external-link[data-v-4e83c450]:hover{--tw-text-opacity:1;color:rgba(14,165,233,var(--tw-text-opacity))}.dark footer .external-link[data-v-4e83c450]:hover{--tw-text-opacity:1;color:rgba(254,243,199,var(--tw-text-opacity))}</style><link rel="preload" href="/_nuxt/static/1734457967/bad-practices/state.js" as="script"><link rel="preload" href="/_nuxt/static/1734457967/bad-practices/payload.js" as="script"><link rel="preload" href="/_nuxt/static/1734457967/manifest.js" as="script">
  </head>
  <body>
    <script data-n-head="ssr" data-hid="nuxt-color-mode-script" data-pbody="true">!function(){"use strict";var t=window,e=document,a=e.documentElement,s=["dark","light"],o=window.localStorage.getItem("nuxt-color-mode")||"dark",c="system"===o?l():o,e=e.body.getAttribute("data-color-mode-forced");function r(e){e=""+e;a.classList?a.classList.add(e):a.className+=" "+e}function n(e){return t.matchMedia("(prefers-color-scheme"+e+")")}function l(){if(t.matchMedia&&"not all"!==n("").media)for(var e of s)if(n(":"+e).matches)return e;return"dark"}r(c=e?e:c),t.__NUXT_COLOR_MODE__={preference:o,value:c,getColorScheme:l,addClass:r,removeClass:function(e){e=""+e;a.classList?a.classList.remove(e):a.className=a.className.replace(new RegExp(e,"g"),"")}}}()</script><div data-server-rendered="true" id="__nuxt"><!----><div id="__layout"><div class="app-container" data-v-ec9c0286><div class="row-container" data-v-ec9c0286><header class="pt-5 pb-7 sm:py-10" data-v-4f113d38 data-v-ec9c0286><div class="logo-row" data-v-4f113d38><div data-v-4f113d38><a href="/" class="text-4xl text-brand-primary-light dark:text-brand-primary-dark hover:text-brand-primary-light dark:hover:text-brand-primary-dark font-light transition-none nuxt-link-active" data-v-4f113d38>
        Lara<span class="text-brand-blue-light dark:text-brand-yellow-dark" data-v-4f113d38>Way</span></a> <h1 class="logo-description" data-v-4f113d38>
        How to do it in Laravel?
      </h1></div> <div class="ml-4 w-20" data-v-4f113d38><a href="/" class="nuxt-link-active" data-v-4f113d38><img src="/_nuxt/img/logo.a3afc58.png" width="80px" height="80px" alt="" class="opacity-90 dark:opacity-80 logo" data-v-4f113d38></a></div></div> <div class="my-2 h-separator" data-v-4f113d38></div> <div class="flex justify-between" data-v-4f113d38><nav class="menu" data-v-4f113d38><a href="/" class="menu-item nuxt-link-active" data-v-4f113d38>
        Пул вопросов
      </a> <a href="/conventions/" class="menu-item" data-v-4f113d38>
        Соглашения
      </a> <a href="/bad-practices/" aria-current="page" class="menu-item nuxt-link-exact-active nuxt-link-active" data-v-4f113d38>
        Bad-практики
      </a> <a href="/links/" class="menu-item" data-v-4f113d38>
        Ссылки
      </a></nav> <div class="theme-switcher" data-v-36032872 data-v-4f113d38><button title="Светлая тема" class="toggle-button mr-3" data-v-36032872><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="sun" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="svg-inline--fa fa-sun" data-v-36032872 data-v-36032872><path fill="currentColor" d="M256 159.1c-53.02 0-95.1 42.98-95.1 95.1S202.1 351.1 256 351.1s95.1-42.98 95.1-95.1S309 159.1 256 159.1zM509.3 347L446.1 255.1l63.15-91.01c6.332-9.125 1.104-21.74-9.826-23.72l-109-19.7l-19.7-109c-1.975-10.93-14.59-16.16-23.72-9.824L256 65.89L164.1 2.736c-9.125-6.332-21.74-1.107-23.72 9.824L121.6 121.6L12.56 141.3C1.633 143.2-3.596 155.9 2.736 164.1L65.89 256l-63.15 91.01c-6.332 9.125-1.105 21.74 9.824 23.72l109 19.7l19.7 109c1.975 10.93 14.59 16.16 23.72 9.824L256 446.1l91.01 63.15c9.127 6.334 21.75 1.107 23.72-9.822l19.7-109l109-19.7C510.4 368.8 515.6 356.1 509.3 347zM256 383.1c-70.69 0-127.1-57.31-127.1-127.1c0-70.69 57.31-127.1 127.1-127.1s127.1 57.3 127.1 127.1C383.1 326.7 326.7 383.1 256 383.1z" data-v-36032872 data-v-36032872></path></svg></button> <button title="Тёмная тема" class="toggle-button active" data-v-36032872><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="moon" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="svg-inline--fa fa-moon" data-v-36032872 data-v-36032872><path fill="currentColor" d="M32 256c0-123.8 100.3-224 223.8-224c11.36 0 29.7 1.668 40.9 3.746c9.616 1.777 11.75 14.63 3.279 19.44C245 86.5 211.2 144.6 211.2 207.8c0 109.7 99.71 193 208.3 172.3c9.561-1.805 16.28 9.324 10.11 16.95C387.9 448.6 324.8 480 255.8 480C132.1 480 32 379.6 32 256z" data-v-36032872 data-v-36032872></path></svg></button></div></div> <div class="mt-2 h-separator" data-v-4f113d38></div></header></div> <div data-v-ec9c0286><div class="main-container" data-v-ec9c0286><div class="row-container content" data-v-ec9c0286><main class="relative" data-v-ec9c0286><div data-v-ec9c0286><h2 class="page-heading">
    Популярные ошибки разработчиков
  </h2> <div class="notice-box mb-8 pt-2 pb-1 px-4"><p>
      Принципы <b>SOLID, DRY, KISS, YAGNI</b> и прочие,
      являются само собой разумеющимися и обсуждать их - тема, которая выходит за рамки данного ресурса.
      Для этого есть <a href="https://t.me/oop_ru" target="_blank" rel="nofollow noopener noreferrer" class="inline-flex items-center external-link"><!----> <span>Telegram чат</span> <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="arrow-up-right-from-square" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="ml-1 w-2 text-gray-500 dark:text-gray-300 dark:text-opacity-60 svg-inline--fa fa-arrow-up-right-from-square"><path fill="currentColor" d="M256 64C256 46.33 270.3 32 288 32H415.1C415.1 32 415.1 32 415.1 32C420.3 32 424.5 32.86 428.2 34.43C431.1 35.98 435.5 38.27 438.6 41.3C438.6 41.35 438.6 41.4 438.7 41.44C444.9 47.66 447.1 55.78 448 63.9C448 63.94 448 63.97 448 64V192C448 209.7 433.7 224 416 224C398.3 224 384 209.7 384 192V141.3L214.6 310.6C202.1 323.1 181.9 323.1 169.4 310.6C156.9 298.1 156.9 277.9 169.4 265.4L338.7 96H288C270.3 96 256 81.67 256 64V64zM0 128C0 92.65 28.65 64 64 64H160C177.7 64 192 78.33 192 96C192 113.7 177.7 128 160 128H64V416H352V320C352 302.3 366.3 288 384 288C401.7 288 416 302.3 416 320V416C416 451.3 387.3 480 352 480H64C28.65 480 0 451.3 0 416V128z"></path></svg></a>.
    </p> <p>
      Рекомендую также прочитать раздел
      <a href="https://github.com/adelf/acwa_book_ru/blob/master/manuscript/1-bad-habits.md" target="_blank" rel="nofollow noopener noreferrer" class="inline-flex items-center external-link"><!----> <span>«Плохие привычки»</span> <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="arrow-up-right-from-square" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="ml-1 w-2 text-gray-500 dark:text-gray-300 dark:text-opacity-60 svg-inline--fa fa-arrow-up-right-from-square"><path fill="currentColor" d="M256 64C256 46.33 270.3 32 288 32H415.1C415.1 32 415.1 32 415.1 32C420.3 32 424.5 32.86 428.2 34.43C431.1 35.98 435.5 38.27 438.6 41.3C438.6 41.35 438.6 41.4 438.7 41.44C444.9 47.66 447.1 55.78 448 63.9C448 63.94 448 63.97 448 64V192C448 209.7 433.7 224 416 224C398.3 224 384 209.7 384 192V141.3L214.6 310.6C202.1 323.1 181.9 323.1 169.4 310.6C156.9 298.1 156.9 277.9 169.4 265.4L338.7 96H288C270.3 96 256 81.67 256 64V64zM0 128C0 92.65 28.65 64 64 64H160C177.7 64 192 78.33 192 96C192 113.7 177.7 128 160 128H64V416H352V320C352 302.3 366.3 288 384 288C401.7 288 416 302.3 416 320V416C416 451.3 387.3 480 352 480H64C28.65 480 0 451.3 0 416V128z"></path></svg></a>»
      из книги «Архитектура сложных веб-приложений» указанной на странице
      <a href="/links/#books">
        «Ссылки»
      </a>.
    </p></div> <div><div class="simple-card"><div id="heavy-controllers" class="anchor" data-v-6837b121></div> <h3 class="relative mb-2 inline-block text-xl sm:text-2xl text-brand-heading-light dark:text-brand-heading-dark"><a href="#heavy-controllers">
      # Логика в контроллерах
    </a> <!----></h3> <div class="nuxt-content"><p>
  Наверняка ты уже слышал фразу <b>«Толстые контроллеры - это плохо»</b>.
</p>
<p>
  Приводить объёмные примеры логики в контроллере не вижу смысла.
  Рекомендую почитать <a href="https://github.com/adelf/acwa_book_ru" target="_blank" rel="nofollow noopener noreferrer" class="inline-flex items-center external-link"><!----> <span>книгу</span> <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="arrow-up-right-from-square" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="ml-1 w-2 text-gray-500 dark:text-gray-300 dark:text-opacity-60 svg-inline--fa fa-arrow-up-right-from-square"><path fill="currentColor" d="M256 64C256 46.33 270.3 32 288 32H415.1C415.1 32 415.1 32 415.1 32C420.3 32 424.5 32.86 428.2 34.43C431.1 35.98 435.5 38.27 438.6 41.3C438.6 41.35 438.6 41.4 438.7 41.44C444.9 47.66 447.1 55.78 448 63.9C448 63.94 448 63.97 448 64V192C448 209.7 433.7 224 416 224C398.3 224 384 209.7 384 192V141.3L214.6 310.6C202.1 323.1 181.9 323.1 169.4 310.6C156.9 298.1 156.9 277.9 169.4 265.4L338.7 96H288C270.3 96 256 81.67 256 64V64zM0 128C0 92.65 28.65 64 64 64H160C177.7 64 192 78.33 192 96C192 113.7 177.7 128 160 128H64V416H352V320C352 302.3 366.3 288 384 288C401.7 288 416 302.3 416 320V416C416 451.3 387.3 480 352 480H64C28.65 480 0 451.3 0 416V128z"></path></svg></a> указанную выше.
  В ней присутствуют хорошие примеры и объяснения что делать. Также смотри определение контроллера по 
  <a href="https://ru.wikipedia.org/wiki/GRASP#3._%D0%9A%D0%BE%D0%BD%D1%82%D1%80%D0%BE%D0%BB%D0%BB%D0%B5%D1%80_(Controller)" target="_blank" rel="nofollow noopener noreferrer" class="inline-flex items-center external-link"><!----> <span>GRASP</span> <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="arrow-up-right-from-square" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="ml-1 w-2 text-gray-500 dark:text-gray-300 dark:text-opacity-60 svg-inline--fa fa-arrow-up-right-from-square"><path fill="currentColor" d="M256 64C256 46.33 270.3 32 288 32H415.1C415.1 32 415.1 32 415.1 32C420.3 32 424.5 32.86 428.2 34.43C431.1 35.98 435.5 38.27 438.6 41.3C438.6 41.35 438.6 41.4 438.7 41.44C444.9 47.66 447.1 55.78 448 63.9C448 63.94 448 63.97 448 64V192C448 209.7 433.7 224 416 224C398.3 224 384 209.7 384 192V141.3L214.6 310.6C202.1 323.1 181.9 323.1 169.4 310.6C156.9 298.1 156.9 277.9 169.4 265.4L338.7 96H288C270.3 96 256 81.67 256 64V64zM0 128C0 92.65 28.65 64 64 64H160C177.7 64 192 78.33 192 96C192 113.7 177.7 128 160 128H64V416H352V320C352 302.3 366.3 288 384 288C401.7 288 416 302.3 416 320V416C416 451.3 387.3 480 352 480H64C28.65 480 0 451.3 0 416V128z"></path></svg></a>
</p>
<p>
  Здесь же скажу кратко: <b>Контроллер принимает входящий запрос,
  вызывает необходимые действия (сервисы, экшены, команды) и возвращает ответ клиенту.</b>
  Ничего более в нем быть не должно.
</p></div></div><div class="simple-card"><div id="slim-controllers" class="anchor" data-v-6837b121></div> <h3 class="relative mb-2 inline-block text-xl sm:text-2xl text-brand-heading-light dark:text-brand-heading-dark"><a href="#slim-controllers">
      # Слишком тонкие контроллеры
    </a> <!----></h3> <div class="nuxt-content"><p>
  Некоторые разработчики буквально воспринимают понятие "тонкие контроллеры" и пишут такой код:
</p>
<div data-fetch-key="CodeChips:0" class="relative"><div class="pre relative"><div class="mb-2"><!----> <span class="text-pink-600"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="face-angry" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="mr-2 text-xl svg-inline--fa fa-face-angry"><path fill="currentColor" d="M512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256zM339.9 373.3C323.8 355.4 295.7 336 256 336C216.3 336 188.2 355.4 172.1 373.3C166.2 379.9 166.7 389.1 173.3 395.9C179.9 401.8 189.1 401.3 195.9 394.7C207.6 381.7 227.5 368 255.1 368C284.5 368 304.4 381.7 316.1 394.7C322 401.3 332.1 401.8 338.7 395.9C345.3 389.1 345.8 379.9 339.9 373.3H339.9zM176.4 272C194 272 208.4 257.7 208.4 240C208.4 238.5 208.3 237 208.1 235.6L218.9 239.2C227.3 241.1 236.4 237.4 239.2 229.1C241.1 220.7 237.4 211.6 229.1 208.8L133.1 176.8C124.7 174 115.6 178.6 112.8 186.9C110 195.3 114.6 204.4 122.9 207.2L153.7 217.4C147.9 223.2 144.4 231.2 144.4 240C144.4 257.7 158.7 272 176.4 272zM358.9 217.2L389.1 207.2C397.4 204.4 401.1 195.3 399.2 186.9C396.4 178.6 387.3 174 378.9 176.8L282.9 208.8C274.6 211.6 270 220.7 272.8 229.1C275.6 237.4 284.7 241.1 293.1 239.2L304.7 235.3C304.5 236.8 304.4 238.4 304.4 240C304.4 257.7 318.7 272 336.4 272C354 272 368.4 257.7 368.4 240C368.4 231.1 364.7 223 358.9 217.2H358.9z"></path></svg> <span class="font-normal">Bad</span></span></div> <div><pre class="torchlight" style="background-color:#011627;--theme-selection-background:#4373c2" data-torchlight-processed="3449c9e5e332f1dbb81505cd739fbf3f"><code data-lang="php"><!-- Syntax highlighted by torchlight.dev --><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">1</span><span style="color:#c792ea">public</span><span style="color:#d6deeb"> </span><span style="color:#c792ea">function</span><span style="color:#d6deeb"> </span><span style="color:#82aaff">store</span><span style="color:#d9f5dd">(</span><span style="color:#ffcb8b">Request</span><span style="color:#d6deeb"> </span><span style="color:#bec5d4">$request</span><span style="color:#d6deeb">, </span><span style="color:#ffcb8b">PostService</span><span style="color:#d6deeb"> </span><span style="color:#bec5d4">$postService</span><span style="color:#d9f5dd">)</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">2</span><span style="color:#d6deeb">{</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">3</span><span style="color:#d6deeb">    </span><span style="color:#c792ea">return</span><span style="color:#d6deeb"> </span><span style="color:#bec5d4">$postService</span><span style="color:#7fdbca">-></span><span style="color:#82aaff">create</span><span style="color:#d6deeb">(</span><span style="color:#bec5d4">$request</span><span style="color:#d6deeb">);</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">4</span><span style="color:#d6deeb">}</span></div><textarea data-torchlight-original="true" style="display:none!important">public function store(Request $request, PostService $postService)
{
    return $postService->create($request);
}
</textarea></code></pre>
</div></div> <a href="https://torchlight.dev" target="_blank" rel="nofollow noopener noreferrer" class="absolute bottom-3 sm:bottom-1 right-2 text-xs text-white dark:text-white text-opacity-20 dark:text-opacity-20 hover:text-white dark:hover:text-white hover:text-opacity-40 dark:hover:text-opacity-40 select-none">
    highlight by torchlight.dev
  </a> <button title="Copy to Clipboard" class="absolute top-1 sm:top-2 right-3 text-white dark:text-brand-secondary-dark text-opacity-20 dark:text-opacity-30 hover:text-opacity-70 dark:hover:text-opacity-70"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="clipboard" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512" class="svg-inline--fa fa-clipboard"><path fill="currentColor" d="M336 64h-53.88C268.9 26.8 233.7 0 192 0S115.1 26.8 101.9 64H48C21.5 64 0 85.48 0 112v352C0 490.5 21.5 512 48 512h288c26.5 0 48-21.48 48-48v-352C384 85.48 362.5 64 336 64zM192 64c17.67 0 32 14.33 32 32c0 17.67-14.33 32-32 32S160 113.7 160 96C160 78.33 174.3 64 192 64zM272 224h-160C103.2 224 96 216.8 96 208C96 199.2 103.2 192 112 192h160C280.8 192 288 199.2 288 208S280.8 224 272 224z"></path></svg></button></div>
<p>
  Здесь явное нарушение SRP: <span class="bit code">PostService</span>
  зависит от <span class="bit code">Request</span> и отвечает за <span class="bit code">Response</span>,
  В результате такой сервис нельзя нигде переиспользовать, а смысл контроллера сводится к нулю.
</p></div></div><div class="simple-card"><div id="constructor-controller" class="anchor" data-v-6837b121></div> <h3 class="relative mb-2 inline-block text-xl sm:text-2xl text-brand-heading-light dark:text-brand-heading-dark"><a href="#constructor-controller">
      # DI в конструкторе контроллера
    </a> <!----></h3> <div class="nuxt-content"><p>
  Следующий пример - результат наличия логики в контроллере
  и, как следствие, попытка "разгрузить" методы.
  Требовать зависимости необходимо в конструкторе <b>сервиса, а не контроллера</b>.
</p>
<div data-fetch-key="CodeChips:1" class="relative"><div class="pre relative"><div class="mb-2"><!----> <span class="text-pink-600"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="face-angry" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="mr-2 text-xl svg-inline--fa fa-face-angry"><path fill="currentColor" d="M512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256zM339.9 373.3C323.8 355.4 295.7 336 256 336C216.3 336 188.2 355.4 172.1 373.3C166.2 379.9 166.7 389.1 173.3 395.9C179.9 401.8 189.1 401.3 195.9 394.7C207.6 381.7 227.5 368 255.1 368C284.5 368 304.4 381.7 316.1 394.7C322 401.3 332.1 401.8 338.7 395.9C345.3 389.1 345.8 379.9 339.9 373.3H339.9zM176.4 272C194 272 208.4 257.7 208.4 240C208.4 238.5 208.3 237 208.1 235.6L218.9 239.2C227.3 241.1 236.4 237.4 239.2 229.1C241.1 220.7 237.4 211.6 229.1 208.8L133.1 176.8C124.7 174 115.6 178.6 112.8 186.9C110 195.3 114.6 204.4 122.9 207.2L153.7 217.4C147.9 223.2 144.4 231.2 144.4 240C144.4 257.7 158.7 272 176.4 272zM358.9 217.2L389.1 207.2C397.4 204.4 401.1 195.3 399.2 186.9C396.4 178.6 387.3 174 378.9 176.8L282.9 208.8C274.6 211.6 270 220.7 272.8 229.1C275.6 237.4 284.7 241.1 293.1 239.2L304.7 235.3C304.5 236.8 304.4 238.4 304.4 240C304.4 257.7 318.7 272 336.4 272C354 272 368.4 257.7 368.4 240C368.4 231.1 364.7 223 358.9 217.2H358.9z"></path></svg> <span class="font-normal">Bad</span></span></div> <div><pre class="torchlight" style="background-color:#011627;--theme-selection-background:#4373c2" data-torchlight-processed="3449c9e5e332f1dbb81505cd739fbf3f"><code data-lang="php"><!-- Syntax highlighted by torchlight.dev --><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number"> 1</span><span style="color:#c792ea">public</span><span style="color:#d6deeb"> </span><span style="color:#c792ea">function</span><span style="color:#d6deeb"> </span><span style="color:#c5e478">__construct</span><span style="color:#d9f5dd">(</span><span style="color:#ffcb8b">MyService</span><span style="color:#d6deeb"> </span><span style="color:#bec5d4">$myService</span><span style="color:#d9f5dd">)</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number"> 2</span><span style="color:#d6deeb">{</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number"> 3</span><span style="color:#d6deeb">    </span><span style="color:#7fdbca">$this-></span><span style="color:#bec5d4">myService</span><span style="color:#d6deeb"> </span><span style="color:#c792ea">=</span><span style="color:#d6deeb"> </span><span style="color:#bec5d4">$myService</span><span style="color:#d6deeb">;</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number"> 4</span><span style="color:#d6deeb">}</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number"> 5</span> </div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number"> 6</span><span style="color:#c792ea">public</span><span style="color:#d6deeb"> </span><span style="color:#c792ea">function</span><span style="color:#d6deeb"> </span><span style="color:#82aaff">store</span><span style="color:#d9f5dd">()</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number"> 7</span><span style="color:#d6deeb">{</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number"> 8</span><span style="color:#d6deeb">    </span><span style="color:#7fdbca">$this-></span><span style="color:#bec5d4">myService</span><span style="color:#7fdbca">-></span><span style="color:#82aaff">handle</span><span style="color:#d6deeb">();</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number"> 9</span><span style="color:#d6deeb">}</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">10</span> </div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">11</span><span style="color:#c792ea">public</span><span style="color:#d6deeb"> </span><span style="color:#c792ea">function</span><span style="color:#d6deeb"> </span><span style="color:#82aaff">update</span><span style="color:#d9f5dd">()</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">12</span><span style="color:#d6deeb">{</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">13</span><span style="color:#d6deeb">    </span><span style="color:#7fdbca">$this-></span><span style="color:#bec5d4">myService</span><span style="color:#7fdbca">-></span><span style="color:#82aaff">handle</span><span style="color:#d6deeb">();</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">14</span><span style="color:#d6deeb">}</span></div><textarea data-torchlight-original="true" style="display:none!important">public function __construct(MyService $myService)
{
    $this->myService = $myService;
}

public function store()
{
    $this->myService->handle();
}

public function update()
{
    $this->myService->handle();
}
</textarea></code></pre>
</div></div> <a href="https://torchlight.dev" target="_blank" rel="nofollow noopener noreferrer" class="absolute bottom-3 sm:bottom-1 right-2 text-xs text-white dark:text-white text-opacity-20 dark:text-opacity-20 hover:text-white dark:hover:text-white hover:text-opacity-40 dark:hover:text-opacity-40 select-none">
    highlight by torchlight.dev
  </a> <button title="Copy to Clipboard" class="absolute top-1 sm:top-2 right-3 text-white dark:text-brand-secondary-dark text-opacity-20 dark:text-opacity-30 hover:text-opacity-70 dark:hover:text-opacity-70"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="clipboard" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512" class="svg-inline--fa fa-clipboard"><path fill="currentColor" d="M336 64h-53.88C268.9 26.8 233.7 0 192 0S115.1 26.8 101.9 64H48C21.5 64 0 85.48 0 112v352C0 490.5 21.5 512 48 512h288c26.5 0 48-21.48 48-48v-352C384 85.48 362.5 64 336 64zM192 64c17.67 0 32 14.33 32 32c0 17.67-14.33 32-32 32S160 113.7 160 96C160 78.33 174.3 64 192 64zM272 224h-160C103.2 224 96 216.8 96 208C96 199.2 103.2 192 112 192h160C280.8 192 288 199.2 288 208S280.8 224 272 224z"></path></svg></button></div>
<p>
  Что в этом коде такого, спросишь ты?
</p>
<ol class="list-decimal ml-5">
  <li class="mb-3">
    <b>Он бесполезен.</b> Визуально кажется,
    что сервис используется в нескольких методах и логично инициализацию вынести в одно место, но
    публичные методы контроллера не должны вызывать друг друга.
    Следовательно сервис используется только в одном методе на один запрос
    и больше не будет вызван в рамках жизненного цикла для текущего контроллера,
    поэтому использование <span class="bit variable">$this->service</span> в контроллере обычно не имеет смысла.
    Исключением могут быть приватные методы контроллера, 
    но размещать логику в таких методах может быть не самым удачным решением по сравнению с сервисными классами.
  </li>
  <li class="mb-3">
    Не всем методам может понадобиться один и тот же сервис, зачем его загружать для всех запросов? Незачем.
  </li>
  <li class="mb-3">
    И самое важное, в жизненном цикле <b>конструктор контроллера вызывается до middlewares</b>.
    Согласно <a href="https://laravel.com/docs/10.x/controllers#controller-middleware" target="_blank" rel="nofollow noopener noreferrer" class="inline-flex items-center external-link"><!----> <span>документации</span> <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="arrow-up-right-from-square" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="ml-1 w-2 text-gray-500 dark:text-gray-300 dark:text-opacity-60 svg-inline--fa fa-arrow-up-right-from-square"><path fill="currentColor" d="M256 64C256 46.33 270.3 32 288 32H415.1C415.1 32 415.1 32 415.1 32C420.3 32 424.5 32.86 428.2 34.43C431.1 35.98 435.5 38.27 438.6 41.3C438.6 41.35 438.6 41.4 438.7 41.44C444.9 47.66 447.1 55.78 448 63.9C448 63.94 448 63.97 448 64V192C448 209.7 433.7 224 416 224C398.3 224 384 209.7 384 192V141.3L214.6 310.6C202.1 323.1 181.9 323.1 169.4 310.6C156.9 298.1 156.9 277.9 169.4 265.4L338.7 96H288C270.3 96 256 81.67 256 64V64zM0 128C0 92.65 28.65 64 64 64H160C177.7 64 192 78.33 192 96C192 113.7 177.7 128 160 128H64V416H352V320C352 302.3 366.3 288 384 288C401.7 288 416 302.3 416 320V416C416 451.3 387.3 480 352 480H64C28.65 480 0 451.3 0 416V128z"></path></svg></a>,
    в конструкторе контроллера можно указывать <a href="https://laravel.com/docs/10.x/middleware" target="_blank" rel="nofollow noopener noreferrer" class="inline-flex items-center external-link"><!----> <span>«middleware»</span> <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="arrow-up-right-from-square" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="ml-1 w-2 text-gray-500 dark:text-gray-300 dark:text-opacity-60 svg-inline--fa fa-arrow-up-right-from-square"><path fill="currentColor" d="M256 64C256 46.33 270.3 32 288 32H415.1C415.1 32 415.1 32 415.1 32C420.3 32 424.5 32.86 428.2 34.43C431.1 35.98 435.5 38.27 438.6 41.3C438.6 41.35 438.6 41.4 438.7 41.44C444.9 47.66 447.1 55.78 448 63.9C448 63.94 448 63.97 448 64V192C448 209.7 433.7 224 416 224C398.3 224 384 209.7 384 192V141.3L214.6 310.6C202.1 323.1 181.9 323.1 169.4 310.6C156.9 298.1 156.9 277.9 169.4 265.4L338.7 96H288C270.3 96 256 81.67 256 64V64zM0 128C0 92.65 28.65 64 64 64H160C177.7 64 192 78.33 192 96C192 113.7 177.7 128 160 128H64V416H352V320C352 302.3 366.3 288 384 288C401.7 288 416 302.3 416 320V416C416 451.3 387.3 480 352 480H64C28.65 480 0 451.3 0 416V128z"></path></svg></a>
    (для порядка и удобства рекомендую указывать их только в роутах), а значит сам контроллер создаётся до этапа
    выполнения "мидлварок" и в момент внедрения зависимостей ещё будут недоступны некоторые функции, например, сессия и куки,
    а значит отсутствовать и авторизация. И если конструктор сервиса зависит от подобных вещей,
    то работать правильно он не сможет, а отладка бага может занять некоторое время.
  </li>
</ol>
<p>
  Поэтому запрашивай необходимые сервисы в методах контроллера:
</p>
<div data-fetch-key="CodeChips:2" class="relative"><div class="pre relative"><div class="mb-2"><span class="text-brand-success-light dark:text-brand-success-dark"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="square-check" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="mr-2 text-xl svg-inline--fa fa-square-check"><path fill="currentColor" d="M384 32C419.3 32 448 60.65 448 96V416C448 451.3 419.3 480 384 480H64C28.65 480 0 451.3 0 416V96C0 60.65 28.65 32 64 32H384zM339.8 211.8C350.7 200.9 350.7 183.1 339.8 172.2C328.9 161.3 311.1 161.3 300.2 172.2L192 280.4L147.8 236.2C136.9 225.3 119.1 225.3 108.2 236.2C97.27 247.1 97.27 264.9 108.2 275.8L172.2 339.8C183.1 350.7 200.9 350.7 211.8 339.8L339.8 211.8z"></path></svg> <span class="font-normal">Good</span></span> <!----></div> <div><pre class="torchlight" style="background-color:#011627;--theme-selection-background:#4373c2" data-torchlight-processed="3449c9e5e332f1dbb81505cd739fbf3f"><code data-lang="php"><!-- Syntax highlighted by torchlight.dev --><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">1</span><span style="color:#c792ea">public</span><span style="color:#d6deeb"> </span><span style="color:#c792ea">function</span><span style="color:#d6deeb"> </span><span style="color:#82aaff">store</span><span style="color:#d9f5dd">(</span><span style="color:#ffcb8b">MyService</span><span style="color:#d6deeb"> </span><span style="color:#bec5d4">$myService</span><span style="color:#d9f5dd">)</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">2</span><span style="color:#d6deeb">{</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">3</span><span style="color:#d6deeb">    </span><span style="color:#bec5d4">$myService</span><span style="color:#7fdbca">-></span><span style="color:#82aaff">handle</span><span style="color:#d6deeb">();</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">4</span><span style="color:#d6deeb">}</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">5</span> </div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">6</span><span style="color:#c792ea">public</span><span style="color:#d6deeb"> </span><span style="color:#c792ea">function</span><span style="color:#d6deeb"> </span><span style="color:#82aaff">update</span><span style="color:#d9f5dd">(</span><span style="color:#ffcb8b">MyService</span><span style="color:#d6deeb"> </span><span style="color:#bec5d4">$myService</span><span style="color:#d9f5dd">)</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">7</span><span style="color:#d6deeb">{</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">8</span><span style="color:#d6deeb">    </span><span style="color:#bec5d4">$myService</span><span style="color:#7fdbca">-></span><span style="color:#82aaff">handle</span><span style="color:#d6deeb">();</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">9</span><span style="color:#d6deeb">}</span></div><textarea data-torchlight-original="true" style="display:none!important">public function store(MyService $myService)
{
    $myService->handle();
}

public function update(MyService $myService)
{
    $myService->handle();
}
</textarea></code></pre>
</div></div> <a href="https://torchlight.dev" target="_blank" rel="nofollow noopener noreferrer" class="absolute bottom-3 sm:bottom-1 right-2 text-xs text-white dark:text-white text-opacity-20 dark:text-opacity-20 hover:text-white dark:hover:text-white hover:text-opacity-40 dark:hover:text-opacity-40 select-none">
    highlight by torchlight.dev
  </a> <button title="Copy to Clipboard" class="absolute top-1 sm:top-2 right-3 text-white dark:text-brand-secondary-dark text-opacity-20 dark:text-opacity-30 hover:text-opacity-70 dark:hover:text-opacity-70"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="clipboard" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512" class="svg-inline--fa fa-clipboard"><path fill="currentColor" d="M336 64h-53.88C268.9 26.8 233.7 0 192 0S115.1 26.8 101.9 64H48C21.5 64 0 85.48 0 112v352C0 490.5 21.5 512 48 512h288c26.5 0 48-21.48 48-48v-352C384 85.48 362.5 64 336 64zM192 64c17.67 0 32 14.33 32 32c0 17.67-14.33 32-32 32S160 113.7 160 96C160 78.33 174.3 64 192 64zM272 224h-160C103.2 224 96 216.8 96 208C96 199.2 103.2 192 112 192h160C280.8 192 288 199.2 288 208S280.8 224 272 224z"></path></svg></button></div>
<p>
  Последний пример не является нарушением DRY. Даже если в разных методах сервис используется одинаково,
  то это всё равно не повод выносить куда-либо, ибо "экшены" контроллера независимы друг от друга
  и в любой момент может понадобиться внести изменения в один из них.
  И если методы получились полностью одинаковыми, то всё равно вызов логики - это не сама логика.
</p></div></div><div class="simple-card"><div id="heavy-views" class="anchor" data-v-6837b121></div> <h3 class="relative mb-2 inline-block text-xl sm:text-2xl text-brand-heading-light dark:text-brand-heading-dark"><a href="#heavy-views">
      # Логика в шаблонах
    </a> <span class="absolute ml-1 -top-3.5 right-0 sm:top-0 sm:left-full text-xs text-shadow-none select-none">
      major
    </span></h3> <div class="nuxt-content"><p>
  Иногда начинающих ставит в тупик требование не использовать логику в шаблонах, «как же тогда выводить данные?».
</p>
<p>
  Всё просто, всё что можно подготовить заранее - вынеси и подготовь заранее.
  В шаблоне должна остаться только логика отвечающая за само отображение.
  Можно вызывать сервисы и хелперы,
  обращаться к константам, но <b>никаких запросов к БД из шаблонов быть не должно</b>.
</p>
<div data-fetch-key="CodeChips:3" class="relative"><div class="pre relative"><div class="mb-2"><!----> <span class="text-pink-600"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="face-angry" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="mr-2 text-xl svg-inline--fa fa-face-angry"><path fill="currentColor" d="M512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256zM339.9 373.3C323.8 355.4 295.7 336 256 336C216.3 336 188.2 355.4 172.1 373.3C166.2 379.9 166.7 389.1 173.3 395.9C179.9 401.8 189.1 401.3 195.9 394.7C207.6 381.7 227.5 368 255.1 368C284.5 368 304.4 381.7 316.1 394.7C322 401.3 332.1 401.8 338.7 395.9C345.3 389.1 345.8 379.9 339.9 373.3H339.9zM176.4 272C194 272 208.4 257.7 208.4 240C208.4 238.5 208.3 237 208.1 235.6L218.9 239.2C227.3 241.1 236.4 237.4 239.2 229.1C241.1 220.7 237.4 211.6 229.1 208.8L133.1 176.8C124.7 174 115.6 178.6 112.8 186.9C110 195.3 114.6 204.4 122.9 207.2L153.7 217.4C147.9 223.2 144.4 231.2 144.4 240C144.4 257.7 158.7 272 176.4 272zM358.9 217.2L389.1 207.2C397.4 204.4 401.1 195.3 399.2 186.9C396.4 178.6 387.3 174 378.9 176.8L282.9 208.8C274.6 211.6 270 220.7 272.8 229.1C275.6 237.4 284.7 241.1 293.1 239.2L304.7 235.3C304.5 236.8 304.4 238.4 304.4 240C304.4 257.7 318.7 272 336.4 272C354 272 368.4 257.7 368.4 240C368.4 231.1 364.7 223 358.9 217.2H358.9z"></path></svg> <span class="font-normal">Bad</span></span></div> <div><pre class="torchlight" style="background-color:#011627;--theme-selection-background:#4373c2" data-torchlight-processed="3449c9e5e332f1dbb81505cd739fbf3f"><code data-lang="blade"><!-- Syntax highlighted by torchlight.dev --><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">1</span><span style="color:#c792ea">@foreach </span><span style="color:#d6deeb">(</span><span style="color:#ffcb8b">Product</span><span style="color:#7fdbca">::</span><span style="color:#82aaff">get</span><span style="color:#d6deeb">() </span><span style="color:#c792ea">as</span><span style="color:#d6deeb"> </span><span style="color:#bec5d4">$product</span><span style="color:#d6deeb">)</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">2</span><span style="color:#d6deeb">  </span><span style="color:#c792ea">@php</span><span style="color:#d6deeb">(</span><span style="color:#bec5d4">$total</span><span style="color:#d6deeb"> </span><span style="color:#c792ea">+=</span><span style="color:#d6deeb"> </span><span style="color:#bec5d4">$product</span><span style="color:#7fdbca">-></span><span style="color:#bec5d4">price</span><span style="color:#d6deeb"> </span><span style="color:#c792ea">*</span><span style="color:#d6deeb"> </span><span style="color:#bec5d4">$product</span><span style="color:#7fdbca">-></span><span style="color:#bec5d4">qty</span><span style="color:#d6deeb">)</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">3</span> </div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">4</span><span style="color:#d6deeb">  </span><span style="color:#7fdbca">&lt;</span><span style="color:#caece6">img</span><span style="color:#7fdbca"> </span><span style="color:#c5e478">src</span><span style="color:#7fdbca">=</span><span style="color:#d9f5dd">"</span><span style="color:#c5e478">{{</span><span style="color:#ecc48d"> </span><span style="color:#ffcb8b">Storage</span><span style="color:#7fdbca">::</span><span style="color:#82aaff">disk</span><span style="color:#d6deeb">(</span><span style="color:#d9f5dd">'</span><span style="color:#ecc48d">products</span><span style="color:#d9f5dd">'</span><span style="color:#d6deeb">)</span><span style="color:#7fdbca">-></span><span style="color:#82aaff">url</span><span style="color:#d6deeb">(</span><span style="color:#bec5d4">$product</span><span style="color:#7fdbca">-></span><span style="color:#bec5d4">cover</span><span style="color:#d6deeb">)</span><span style="color:#ecc48d"> </span><span style="color:#c5e478">}}</span><span style="color:#d9f5dd">"</span><span style="color:#7fdbca"> /></span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">5</span> </div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">6</span><span style="color:#d6deeb">  </span><span style="color:#c5e478">{{</span><span style="color:#d6deeb"> </span><span style="color:#7fdbca">new</span><span style="color:#d6deeb"> \Carbon\</span><span style="color:#ffcb8b">Carbon</span><span style="color:#d6deeb">(</span><span style="color:#bec5d4">$product</span><span style="color:#7fdbca">-></span><span style="color:#bec5d4">created_at</span><span style="color:#d6deeb">)</span><span style="color:#7fdbca">-></span><span style="color:#82aaff">format</span><span style="color:#d6deeb">(</span><span style="color:#d9f5dd">'</span><span style="color:#ecc48d">Y-m-d</span><span style="color:#d9f5dd">'</span><span style="color:#d6deeb">) </span><span style="color:#c5e478">}}</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">7</span><span style="color:#c792ea">@endforeach</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">8</span> </div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">9</span><span style="color:#d6deeb">Total price: </span><span style="color:#c5e478">{{</span><span style="color:#d6deeb"> </span><span style="color:#bec5d4">$total</span><span style="color:#d6deeb"> </span><span style="color:#c5e478">}}</span></div><textarea data-torchlight-original="true" style="display:none!important">@foreach (Product::get() as $product)
  @php($total += $product->price * $product->qty)

  &lt;img src="{{ Storage::disk('products')->url($product->cover) }}" />

  {{ new \Carbon\Carbon($product->created_at)->format('Y-m-d') }}
@endforeach

Total price: {{ $total }}
</textarea></code></pre>
</div></div> <a href="https://torchlight.dev" target="_blank" rel="nofollow noopener noreferrer" class="absolute bottom-3 sm:bottom-1 right-2 text-xs text-white dark:text-white text-opacity-20 dark:text-opacity-20 hover:text-white dark:hover:text-white hover:text-opacity-40 dark:hover:text-opacity-40 select-none">
    highlight by torchlight.dev
  </a> <button title="Copy to Clipboard" class="absolute top-1 sm:top-2 right-3 text-white dark:text-brand-secondary-dark text-opacity-20 dark:text-opacity-30 hover:text-opacity-70 dark:hover:text-opacity-70"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="clipboard" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512" class="svg-inline--fa fa-clipboard"><path fill="currentColor" d="M336 64h-53.88C268.9 26.8 233.7 0 192 0S115.1 26.8 101.9 64H48C21.5 64 0 85.48 0 112v352C0 490.5 21.5 512 48 512h288c26.5 0 48-21.48 48-48v-352C384 85.48 362.5 64 336 64zM192 64c17.67 0 32 14.33 32 32c0 17.67-14.33 32-32 32S160 113.7 160 96C160 78.33 174.3 64 192 64zM272 224h-160C103.2 224 96 216.8 96 208C96 199.2 103.2 192 112 192h160C280.8 192 288 199.2 288 208S280.8 224 272 224z"></path></svg></button></div>
<p>
  Кейсы бывают разные и порой сложно полностью отказаться от использования php и определения новых переменных, но
  всегда старайся свести к минимуму, особенно избавиться от каких-то вычислений не связанных с вёрсткой.
  В примере выше, подсчитывается общая цена при переборе товаров.
  Это ужаснейшая идея реализовывать подобную логику в шаблоне. Либо считай заранее в сервисе/контроллере,
  либо вызывай сервис из шаблона, который подсчитает, но не пиши прямо в блейде.
</p>
<p>
  Представь,
  что тебе надо будет изменить формулу ценообразования и учитывать текущие акции, код может вырасти на десятки строк,
  а у тебя 5 разных шаблонов, где отображается товар, в каждый будешь копипастить?
  Вроде смешно, но это история из реального проекта и смешного в ней нет ничего.
</p>
<p>
  <b>Чем чище html, тем лучше.</b>
</p>
<div data-fetch-key="CodeChips:4" class="relative"><div class="pre relative"><div class="mb-2"><span class="text-brand-success-light dark:text-brand-success-dark"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="square-check" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="mr-2 text-xl svg-inline--fa fa-square-check"><path fill="currentColor" d="M384 32C419.3 32 448 60.65 448 96V416C448 451.3 419.3 480 384 480H64C28.65 480 0 451.3 0 416V96C0 60.65 28.65 32 64 32H384zM339.8 211.8C350.7 200.9 350.7 183.1 339.8 172.2C328.9 161.3 311.1 161.3 300.2 172.2L192 280.4L147.8 236.2C136.9 225.3 119.1 225.3 108.2 236.2C97.27 247.1 97.27 264.9 108.2 275.8L172.2 339.8C183.1 350.7 200.9 350.7 211.8 339.8L339.8 211.8z"></path></svg> <span class="font-normal">Good</span></span> <!----></div> <div><pre class="torchlight" style="background-color:#011627;--theme-selection-background:#4373c2" data-torchlight-processed="3449c9e5e332f1dbb81505cd739fbf3f"><code data-lang="blade"><!-- Syntax highlighted by torchlight.dev --><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">1</span><span style="color:#c792ea">@foreach </span><span style="color:#d6deeb">(</span><span style="color:#bec5d4">$products</span><span style="color:#d6deeb"> </span><span style="color:#c792ea">as</span><span style="color:#d6deeb"> </span><span style="color:#bec5d4">$product</span><span style="color:#d6deeb">)</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">2</span><span style="color:#d6deeb">  </span><span style="color:#7fdbca">&lt;</span><span style="color:#caece6">img</span><span style="color:#7fdbca"> </span><span style="color:#c5e478">src</span><span style="color:#7fdbca">=</span><span style="color:#d9f5dd">"</span><span style="color:#c5e478">{{</span><span style="color:#ecc48d"> </span><span style="color:#bec5d4">$product</span><span style="color:#7fdbca">-></span><span style="color:#bec5d4">cover_url</span><span style="color:#ecc48d"> </span><span style="color:#c5e478">}}</span><span style="color:#d9f5dd">"</span><span style="color:#7fdbca"> /></span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">3</span> </div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">4</span><span style="color:#d6deeb">  </span><span style="color:#c5e478">{{</span><span style="color:#d6deeb"> </span><span style="color:#bec5d4">$product</span><span style="color:#7fdbca">-></span><span style="color:#bec5d4">created_at</span><span style="color:#7fdbca">-></span><span style="color:#82aaff">format</span><span style="color:#d6deeb">(</span><span style="color:#d9f5dd">'</span><span style="color:#ecc48d">Y-m-d</span><span style="color:#d9f5dd">'</span><span style="color:#d6deeb">) </span><span style="color:#c5e478">}}</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">5</span><span style="color:#c792ea">@endforeach</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">6</span> </div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">7</span><span style="color:#d6deeb">Total price: </span><span style="color:#c5e478">{{</span><span style="color:#d6deeb"> </span><span style="color:#bec5d4">$totalPrice</span><span style="color:#d6deeb"> </span><span style="color:#c5e478">}}</span></div><textarea data-torchlight-original="true" style="display:none!important">@foreach ($products as $product)
  &lt;img src="{{ $product->cover_url }}" />

  {{ $product->created_at->format('Y-m-d') }}
@endforeach

Total price: {{ $totalPrice }}
</textarea></code></pre>
</div></div> <a href="https://torchlight.dev" target="_blank" rel="nofollow noopener noreferrer" class="absolute bottom-3 sm:bottom-1 right-2 text-xs text-white dark:text-white text-opacity-20 dark:text-opacity-20 hover:text-white dark:hover:text-white hover:text-opacity-40 dark:hover:text-opacity-40 select-none">
    highlight by torchlight.dev
  </a> <button title="Copy to Clipboard" class="absolute top-1 sm:top-2 right-3 text-white dark:text-brand-secondary-dark text-opacity-20 dark:text-opacity-30 hover:text-opacity-70 dark:hover:text-opacity-70"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="clipboard" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512" class="svg-inline--fa fa-clipboard"><path fill="currentColor" d="M336 64h-53.88C268.9 26.8 233.7 0 192 0S115.1 26.8 101.9 64H48C21.5 64 0 85.48 0 112v352C0 490.5 21.5 512 48 512h288c26.5 0 48-21.48 48-48v-352C384 85.48 362.5 64 336 64zM192 64c17.67 0 32 14.33 32 32c0 17.67-14.33 32-32 32S160 113.7 160 96C160 78.33 174.3 64 192 64zM272 224h-160C103.2 224 96 216.8 96 208C96 199.2 103.2 192 112 192h160C280.8 192 288 199.2 288 208S280.8 224 272 224z"></path></svg></button></div>
<p>
  Также не стоит забывать, что шаблон может быть переиспользован на странице несколько раз
  и если в нем присутствует тяжёлая логика, например, какой-то цикл с вызовом сервиса,
  то каждое использование шаблона будет
  повторно запускать этот код, поэтому крайне рекомендуется передавать
  в шаблон максимально подготовленные данные, на сколько позволяет ситуация, конечно же.
</p></div></div><div class="simple-card"><div id="heavy-routes" class="anchor" data-v-6837b121></div> <h3 class="relative mb-2 inline-block text-xl sm:text-2xl text-brand-heading-light dark:text-brand-heading-dark"><a href="#heavy-routes">
      # Логика в маршрутах
    </a> <span class="absolute ml-1 -top-3.5 right-0 sm:top-0 sm:left-full text-xs text-shadow-none select-none">
      major
    </span></h3> <div class="nuxt-content"><p>В документации логика в роутах используется для наглядности примеров, не более.</p>
<p>
  В роутах можно что-то протестировать быстро для себя,
  но потом обязательно удалить или перенести в контроллер,
  хуже места для написания любой логики придумать сложно.
</p>
<div data-fetch-key="CodeChips:5" class="relative"><div class="pre relative"><div class="mb-2"><!----> <span class="text-pink-600"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="face-angry" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="mr-2 text-xl svg-inline--fa fa-face-angry"><path fill="currentColor" d="M512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256zM339.9 373.3C323.8 355.4 295.7 336 256 336C216.3 336 188.2 355.4 172.1 373.3C166.2 379.9 166.7 389.1 173.3 395.9C179.9 401.8 189.1 401.3 195.9 394.7C207.6 381.7 227.5 368 255.1 368C284.5 368 304.4 381.7 316.1 394.7C322 401.3 332.1 401.8 338.7 395.9C345.3 389.1 345.8 379.9 339.9 373.3H339.9zM176.4 272C194 272 208.4 257.7 208.4 240C208.4 238.5 208.3 237 208.1 235.6L218.9 239.2C227.3 241.1 236.4 237.4 239.2 229.1C241.1 220.7 237.4 211.6 229.1 208.8L133.1 176.8C124.7 174 115.6 178.6 112.8 186.9C110 195.3 114.6 204.4 122.9 207.2L153.7 217.4C147.9 223.2 144.4 231.2 144.4 240C144.4 257.7 158.7 272 176.4 272zM358.9 217.2L389.1 207.2C397.4 204.4 401.1 195.3 399.2 186.9C396.4 178.6 387.3 174 378.9 176.8L282.9 208.8C274.6 211.6 270 220.7 272.8 229.1C275.6 237.4 284.7 241.1 293.1 239.2L304.7 235.3C304.5 236.8 304.4 238.4 304.4 240C304.4 257.7 318.7 272 336.4 272C354 272 368.4 257.7 368.4 240C368.4 231.1 364.7 223 358.9 217.2H358.9z"></path></svg> <span class="font-normal">Bad</span></span></div> <div><pre class="torchlight" style="background-color:#011627;--theme-selection-background:#4373c2" data-torchlight-processed="3449c9e5e332f1dbb81505cd739fbf3f"><code data-lang="php"><!-- Syntax highlighted by torchlight.dev --><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">1</span><span style="color:#ffcb8b">Route</span><span style="color:#7fdbca">::</span><span style="color:#82aaff">get</span><span style="color:#d6deeb">(</span><span style="color:#d9f5dd">'</span><span style="color:#ecc48d">posts</span><span style="color:#d9f5dd">'</span><span style="color:#d6deeb">, </span><span style="color:#c792ea">static</span><span style="color:#d6deeb"> </span><span style="color:#c792ea">function</span><span style="color:#d6deeb"> </span><span style="color:#d9f5dd">()</span><span style="color:#d6deeb"> {</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">2</span><span style="color:#d6deeb">    </span><span style="color:#bec5d4">$posts</span><span style="color:#d6deeb"> </span><span style="color:#c792ea">=</span><span style="color:#d6deeb"> </span><span style="color:#ffcb8b">Post</span><span style="color:#7fdbca">::</span><span style="color:#82aaff">active</span><span style="color:#d6deeb">()</span><span style="color:#7fdbca">-></span><span style="color:#82aaff">paginate</span><span style="color:#d6deeb">(</span><span style="color:#82aaff">config</span><span style="color:#d6deeb">(</span><span style="color:#d9f5dd">'</span><span style="color:#ecc48d">post.per_page</span><span style="color:#d9f5dd">'</span><span style="color:#d6deeb">));</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">3</span> </div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">4</span><span style="color:#d6deeb">    </span><span style="color:#c792ea">return</span><span style="color:#d6deeb"> </span><span style="color:#82aaff">view</span><span style="color:#d6deeb">(</span><span style="color:#d9f5dd">'</span><span style="color:#ecc48d">post.index</span><span style="color:#d9f5dd">'</span><span style="color:#d6deeb">,</span><span style="color:#82aaff"> </span><span style="color:#c5e478">compact</span><span style="color:#d6deeb">(</span><span style="color:#d9f5dd">'</span><span style="color:#ecc48d">posts</span><span style="color:#d9f5dd">'</span><span style="color:#d6deeb">));</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">5</span><span style="color:#d6deeb">});</span></div><textarea data-torchlight-original="true" style="display:none!important">Route::get('posts', static function () {
    $posts = Post::active()->paginate(config('post.per_page'));

    return view('post.index', compact('posts'));
});
</textarea></code></pre>
</div></div> <a href="https://torchlight.dev" target="_blank" rel="nofollow noopener noreferrer" class="absolute bottom-3 sm:bottom-1 right-2 text-xs text-white dark:text-white text-opacity-20 dark:text-opacity-20 hover:text-white dark:hover:text-white hover:text-opacity-40 dark:hover:text-opacity-40 select-none">
    highlight by torchlight.dev
  </a> <button title="Copy to Clipboard" class="absolute top-1 sm:top-2 right-3 text-white dark:text-brand-secondary-dark text-opacity-20 dark:text-opacity-30 hover:text-opacity-70 dark:hover:text-opacity-70"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="clipboard" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512" class="svg-inline--fa fa-clipboard"><path fill="currentColor" d="M336 64h-53.88C268.9 26.8 233.7 0 192 0S115.1 26.8 101.9 64H48C21.5 64 0 85.48 0 112v352C0 490.5 21.5 512 48 512h288c26.5 0 48-21.48 48-48v-352C384 85.48 362.5 64 336 64zM192 64c17.67 0 32 14.33 32 32c0 17.67-14.33 32-32 32S160 113.7 160 96C160 78.33 174.3 64 192 64zM272 224h-160C103.2 224 96 216.8 96 208C96 199.2 103.2 192 112 192h160C280.8 192 288 199.2 288 208S280.8 224 272 224z"></path></svg></button></div>
<p>
  Даже что-то крайне простое (возврат шаблонов, редиректы) лучше вынести в контроллер или использовать
  готовые для этого методы.
</p>
<div data-fetch-key="CodeChips:6" class="relative"><div class="pre relative"><div class="mb-2"><span class="text-brand-success-light dark:text-brand-success-dark"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="square-check" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="mr-2 text-xl svg-inline--fa fa-square-check"><path fill="currentColor" d="M384 32C419.3 32 448 60.65 448 96V416C448 451.3 419.3 480 384 480H64C28.65 480 0 451.3 0 416V96C0 60.65 28.65 32 64 32H384zM339.8 211.8C350.7 200.9 350.7 183.1 339.8 172.2C328.9 161.3 311.1 161.3 300.2 172.2L192 280.4L147.8 236.2C136.9 225.3 119.1 225.3 108.2 236.2C97.27 247.1 97.27 264.9 108.2 275.8L172.2 339.8C183.1 350.7 200.9 350.7 211.8 339.8L339.8 211.8z"></path></svg> <span class="font-normal">Good</span></span> <!----></div> <div><pre class="torchlight" style="background-color:#011627;--theme-selection-background:#4373c2" data-torchlight-processed="3449c9e5e332f1dbb81505cd739fbf3f"><code data-lang="php"><!-- Syntax highlighted by torchlight.dev --><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">1</span><span style="color:#ffcb8b">Route</span><span style="color:#7fdbca">::</span><span style="color:#82aaff">get</span><span style="color:#d6deeb">(</span><span style="color:#d9f5dd">'</span><span style="color:#ecc48d">posts</span><span style="color:#d9f5dd">'</span><span style="color:#d6deeb">, [</span><span style="color:#ffcb8b">PostController</span><span style="color:#7fdbca">::</span><span style="color:#c792ea">class</span><span style="color:#d6deeb">, </span><span style="color:#d9f5dd">'</span><span style="color:#ecc48d">index</span><span style="color:#d9f5dd">'</span><span style="color:#d6deeb">]);</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">2</span> </div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">3</span><span style="color:#ffcb8b">Route</span><span style="color:#7fdbca">::</span><span style="color:#82aaff">view</span><span style="color:#d6deeb">(</span><span style="color:#d9f5dd">'</span><span style="color:#ecc48d">posts</span><span style="color:#d9f5dd">'</span><span style="color:#d6deeb">, </span><span style="color:#d9f5dd">'</span><span style="color:#ecc48d">posts.index</span><span style="color:#d9f5dd">'</span><span style="color:#d6deeb">);</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">4</span> </div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">5</span><span style="color:#ffcb8b">Route</span><span style="color:#7fdbca">::</span><span style="color:#82aaff">redirect</span><span style="color:#d6deeb">(</span><span style="color:#d9f5dd">'</span><span style="color:#ecc48d">old-posts</span><span style="color:#d9f5dd">'</span><span style="color:#d6deeb">, </span><span style="color:#d9f5dd">'</span><span style="color:#ecc48d">posts</span><span style="color:#d9f5dd">'</span><span style="color:#d6deeb">);</span></div><textarea data-torchlight-original="true" style="display:none!important">Route::get('posts', [PostController::class, 'index']);

Route::view('posts', 'posts.index');

Route::redirect('old-posts', 'posts');
</textarea></code></pre>
</div></div> <a href="https://torchlight.dev" target="_blank" rel="nofollow noopener noreferrer" class="absolute bottom-3 sm:bottom-1 right-2 text-xs text-white dark:text-white text-opacity-20 dark:text-opacity-20 hover:text-white dark:hover:text-white hover:text-opacity-40 dark:hover:text-opacity-40 select-none">
    highlight by torchlight.dev
  </a> <button title="Copy to Clipboard" class="absolute top-1 sm:top-2 right-3 text-white dark:text-brand-secondary-dark text-opacity-20 dark:text-opacity-30 hover:text-opacity-70 dark:hover:text-opacity-70"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="clipboard" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512" class="svg-inline--fa fa-clipboard"><path fill="currentColor" d="M336 64h-53.88C268.9 26.8 233.7 0 192 0S115.1 26.8 101.9 64H48C21.5 64 0 85.48 0 112v352C0 490.5 21.5 512 48 512h288c26.5 0 48-21.48 48-48v-352C384 85.48 362.5 64 336 64zM192 64c17.67 0 32 14.33 32 32c0 17.67-14.33 32-32 32S160 113.7 160 96C160 78.33 174.3 64 192 64zM272 224h-160C103.2 224 96 216.8 96 208C96 199.2 103.2 192 112 192h160C280.8 192 288 199.2 288 208S280.8 224 272 224z"></path></svg></button></div>
<p>
  Стоит отметить, что на практике использование <span class="bit code">Route::view()</span> неоправданно, т.к.
  это вносит двойственность (где-то шаблоны возвращаются роутами, а где-то контроллерами) и чтобы добавить
  какую-либо логику, необходимо всё равно создавать контроллер.
</p></div></div><div class="simple-card"><div id="validation" class="anchor" data-v-6837b121></div> <h3 class="relative mb-2 inline-block text-xl sm:text-2xl text-brand-heading-light dark:text-brand-heading-dark"><a href="#validation">
      # Валидация в контроллере
    </a> <!----></h3> <div class="nuxt-content"><p>
  Сама по себе валидация в контроллере не критична, т.к. контроллер отвечает за обработку запроса
  и ответ в случае какой-либо ошибки.
  Но это загрязняет методы контроллера и всё же нарушает SRP, тем более в Laravel есть готовый механизм
  для таких задач.
</p>
<div data-fetch-key="CodeChips:7" class="relative"><div class="pre relative"><div class="mb-2"><!----> <span class="text-pink-600"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="face-angry" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="mr-2 text-xl svg-inline--fa fa-face-angry"><path fill="currentColor" d="M512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256zM339.9 373.3C323.8 355.4 295.7 336 256 336C216.3 336 188.2 355.4 172.1 373.3C166.2 379.9 166.7 389.1 173.3 395.9C179.9 401.8 189.1 401.3 195.9 394.7C207.6 381.7 227.5 368 255.1 368C284.5 368 304.4 381.7 316.1 394.7C322 401.3 332.1 401.8 338.7 395.9C345.3 389.1 345.8 379.9 339.9 373.3H339.9zM176.4 272C194 272 208.4 257.7 208.4 240C208.4 238.5 208.3 237 208.1 235.6L218.9 239.2C227.3 241.1 236.4 237.4 239.2 229.1C241.1 220.7 237.4 211.6 229.1 208.8L133.1 176.8C124.7 174 115.6 178.6 112.8 186.9C110 195.3 114.6 204.4 122.9 207.2L153.7 217.4C147.9 223.2 144.4 231.2 144.4 240C144.4 257.7 158.7 272 176.4 272zM358.9 217.2L389.1 207.2C397.4 204.4 401.1 195.3 399.2 186.9C396.4 178.6 387.3 174 378.9 176.8L282.9 208.8C274.6 211.6 270 220.7 272.8 229.1C275.6 237.4 284.7 241.1 293.1 239.2L304.7 235.3C304.5 236.8 304.4 238.4 304.4 240C304.4 257.7 318.7 272 336.4 272C354 272 368.4 257.7 368.4 240C368.4 231.1 364.7 223 358.9 217.2H358.9z"></path></svg> <span class="font-normal">Bad</span></span></div> <div><pre class="torchlight" style="background-color:#011627;--theme-selection-background:#4373c2" data-torchlight-processed="3449c9e5e332f1dbb81505cd739fbf3f"><code data-lang="php"><!-- Syntax highlighted by torchlight.dev --><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number"> 1</span><span style="color:#c792ea">public</span><span style="color:#d6deeb"> </span><span style="color:#c792ea">function</span><span style="color:#d6deeb"> </span><span style="color:#82aaff">store</span><span style="color:#d9f5dd">(</span><span style="color:#ffcb8b">Request</span><span style="color:#d6deeb"> </span><span style="color:#bec5d4">$request</span><span style="color:#d9f5dd">)</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number"> 2</span><span style="color:#d6deeb">{</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number"> 3</span><span style="color:#d6deeb">    </span><span style="color:#bec5d4">$data</span><span style="color:#d6deeb"> </span><span style="color:#c792ea">=</span><span style="color:#d6deeb"> </span><span style="color:#bec5d4">$request</span><span style="color:#7fdbca">-></span><span style="color:#82aaff">validate</span><span style="color:#d6deeb">([</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number"> 4</span><span style="color:#d6deeb">      </span><span style="color:#d9f5dd">'</span><span style="color:#ecc48d">heading</span><span style="color:#d9f5dd">'</span><span style="color:#d6deeb"> </span><span style="color:#7fdbca">=></span><span style="color:#d6deeb"> [</span><span style="color:#d9f5dd">'</span><span style="color:#ecc48d">required</span><span style="color:#d9f5dd">'</span><span style="color:#d6deeb">, </span><span style="color:#d9f5dd">'</span><span style="color:#ecc48d">string</span><span style="color:#d9f5dd">'</span><span style="color:#d6deeb">, </span><span style="color:#d9f5dd">'</span><span style="color:#ecc48d">max:255</span><span style="color:#d9f5dd">'</span><span style="color:#d6deeb">],</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number"> 5</span><span style="color:#d6deeb">      </span><span style="color:#d9f5dd">'</span><span style="color:#ecc48d">content</span><span style="color:#d9f5dd">'</span><span style="color:#d6deeb"> </span><span style="color:#7fdbca">=></span><span style="color:#d6deeb"> [</span><span style="color:#d9f5dd">'</span><span style="color:#ecc48d">nullable</span><span style="color:#d9f5dd">'</span><span style="color:#d6deeb">, </span><span style="color:#d9f5dd">'</span><span style="color:#ecc48d">string</span><span style="color:#d9f5dd">'</span><span style="color:#d6deeb">],</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number"> 6</span><span style="color:#d6deeb">      </span><span style="color:#d9f5dd">'</span><span style="color:#ecc48d">status</span><span style="color:#d9f5dd">'</span><span style="color:#d6deeb"> </span><span style="color:#7fdbca">=></span><span style="color:#d6deeb"> [</span><span style="color:#d9f5dd">'</span><span style="color:#ecc48d">required</span><span style="color:#d9f5dd">'</span><span style="color:#d6deeb">, </span><span style="color:#d9f5dd">'</span><span style="color:#ecc48d">boolean</span><span style="color:#d9f5dd">'</span><span style="color:#d6deeb">],</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number"> 7</span><span style="color:#d6deeb">    ]);</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number"> 8</span> </div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number"> 9</span><span style="color:#d6deeb">    </span><span style="color:#ffcb8b">Post</span><span style="color:#7fdbca">::</span><span style="color:#82aaff">create</span><span style="color:#d6deeb">(</span><span style="color:#bec5d4">$data</span><span style="color:#d6deeb">);</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">10</span><span style="color:#d6deeb">}</span></div><textarea data-torchlight-original="true" style="display:none!important">public function store(Request $request)
{
    $data = $request->validate([
      'heading' => ['required', 'string', 'max:255'],
      'content' => ['nullable', 'string'],
      'status' => ['required', 'boolean'],
    ]);

    Post::create($data);
}
</textarea></code></pre>
</div></div> <a href="https://torchlight.dev" target="_blank" rel="nofollow noopener noreferrer" class="absolute bottom-3 sm:bottom-1 right-2 text-xs text-white dark:text-white text-opacity-20 dark:text-opacity-20 hover:text-white dark:hover:text-white hover:text-opacity-40 dark:hover:text-opacity-40 select-none">
    highlight by torchlight.dev
  </a> <button title="Copy to Clipboard" class="absolute top-1 sm:top-2 right-3 text-white dark:text-brand-secondary-dark text-opacity-20 dark:text-opacity-30 hover:text-opacity-70 dark:hover:text-opacity-70"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="clipboard" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512" class="svg-inline--fa fa-clipboard"><path fill="currentColor" d="M336 64h-53.88C268.9 26.8 233.7 0 192 0S115.1 26.8 101.9 64H48C21.5 64 0 85.48 0 112v352C0 490.5 21.5 512 48 512h288c26.5 0 48-21.48 48-48v-352C384 85.48 362.5 64 336 64zM192 64c17.67 0 32 14.33 32 32c0 17.67-14.33 32-32 32S160 113.7 160 96C160 78.33 174.3 64 192 64zM272 224h-160C103.2 224 96 216.8 96 208C96 199.2 103.2 192 112 192h160C280.8 192 288 199.2 288 208S280.8 224 272 224z"></path></svg></button></div>
<p>
  Вместо валидации в контроллерах используй <a href="https://laravel.com/docs/10.x/validation#form-request-validation" target="_blank" rel="nofollow noopener noreferrer" class="inline-flex items-center external-link"><!----> <span>FormRequest</span> <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="arrow-up-right-from-square" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="ml-1 w-2 text-gray-500 dark:text-gray-300 dark:text-opacity-60 svg-inline--fa fa-arrow-up-right-from-square"><path fill="currentColor" d="M256 64C256 46.33 270.3 32 288 32H415.1C415.1 32 415.1 32 415.1 32C420.3 32 424.5 32.86 428.2 34.43C431.1 35.98 435.5 38.27 438.6 41.3C438.6 41.35 438.6 41.4 438.7 41.44C444.9 47.66 447.1 55.78 448 63.9C448 63.94 448 63.97 448 64V192C448 209.7 433.7 224 416 224C398.3 224 384 209.7 384 192V141.3L214.6 310.6C202.1 323.1 181.9 323.1 169.4 310.6C156.9 298.1 156.9 277.9 169.4 265.4L338.7 96H288C270.3 96 256 81.67 256 64V64zM0 128C0 92.65 28.65 64 64 64H160C177.7 64 192 78.33 192 96C192 113.7 177.7 128 160 128H64V416H352V320C352 302.3 366.3 288 384 288C401.7 288 416 302.3 416 320V416C416 451.3 387.3 480 352 480H64C28.65 480 0 451.3 0 416V128z"></path></svg></a>
</p>
<div data-fetch-key="CodeChips:8" class="relative"><div class="pre relative"><div class="mb-2"><span class="text-brand-success-light dark:text-brand-success-dark"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="square-check" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="mr-2 text-xl svg-inline--fa fa-square-check"><path fill="currentColor" d="M384 32C419.3 32 448 60.65 448 96V416C448 451.3 419.3 480 384 480H64C28.65 480 0 451.3 0 416V96C0 60.65 28.65 32 64 32H384zM339.8 211.8C350.7 200.9 350.7 183.1 339.8 172.2C328.9 161.3 311.1 161.3 300.2 172.2L192 280.4L147.8 236.2C136.9 225.3 119.1 225.3 108.2 236.2C97.27 247.1 97.27 264.9 108.2 275.8L172.2 339.8C183.1 350.7 200.9 350.7 211.8 339.8L339.8 211.8z"></path></svg> <span class="font-normal">Good</span></span> <!----></div> <div><pre class="torchlight" style="background-color:#011627;--theme-selection-background:#4373c2" data-torchlight-processed="3449c9e5e332f1dbb81505cd739fbf3f"><code data-lang="php"><!-- Syntax highlighted by torchlight.dev --><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">1</span><span style="color:#c792ea">public</span><span style="color:#d6deeb"> </span><span style="color:#c792ea">function</span><span style="color:#d6deeb"> </span><span style="color:#82aaff">store</span><span style="color:#d9f5dd">(</span><span style="color:#ffcb8b">PostCreateRequest</span><span style="color:#d6deeb"> </span><span style="color:#bec5d4">$request</span><span style="color:#d9f5dd">)</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">2</span><span style="color:#d6deeb">{</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">3</span><span style="color:#d6deeb">    </span><span style="color:#ffcb8b">Post</span><span style="color:#7fdbca">::</span><span style="color:#82aaff">create</span><span style="color:#d6deeb">(</span><span style="color:#bec5d4">$request</span><span style="color:#7fdbca">-></span><span style="color:#82aaff">validated</span><span style="color:#d6deeb">());</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">4</span><span style="color:#d6deeb">}</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">5</span> </div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">6</span><span style="color:#c792ea">public</span><span style="color:#d6deeb"> </span><span style="color:#c792ea">function</span><span style="color:#d6deeb"> </span><span style="color:#82aaff">update</span><span style="color:#d9f5dd">(</span><span style="color:#ffcb8b">PostUpdateRequest</span><span style="color:#d6deeb"> </span><span style="color:#bec5d4">$request</span><span style="color:#d6deeb">, </span><span style="color:#bec5d4">$id</span><span style="color:#d9f5dd">)</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">7</span><span style="color:#d6deeb">{</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">8</span><span style="color:#d6deeb">    </span><span style="color:#ffcb8b">Post</span><span style="color:#7fdbca">::</span><span style="color:#82aaff">where</span><span style="color:#d6deeb">(</span><span style="color:#d9f5dd">'</span><span style="color:#ecc48d">id</span><span style="color:#d9f5dd">'</span><span style="color:#d6deeb">, </span><span style="color:#bec5d4">$id</span><span style="color:#d6deeb">)</span><span style="color:#7fdbca">-></span><span style="color:#82aaff">update</span><span style="color:#d6deeb">(</span><span style="color:#bec5d4">$request</span><span style="color:#7fdbca">-></span><span style="color:#82aaff">validated</span><span style="color:#d6deeb">());</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">9</span><span style="color:#d6deeb">}</span></div><textarea data-torchlight-original="true" style="display:none!important">public function store(PostCreateRequest $request)
{
    Post::create($request->validated());
}

public function update(PostUpdateRequest $request, $id)
{
    Post::where('id', $id)->update($request->validated());
}
</textarea></code></pre>
</div></div> <a href="https://torchlight.dev" target="_blank" rel="nofollow noopener noreferrer" class="absolute bottom-3 sm:bottom-1 right-2 text-xs text-white dark:text-white text-opacity-20 dark:text-opacity-20 hover:text-white dark:hover:text-white hover:text-opacity-40 dark:hover:text-opacity-40 select-none">
    highlight by torchlight.dev
  </a> <button title="Copy to Clipboard" class="absolute top-1 sm:top-2 right-3 text-white dark:text-brand-secondary-dark text-opacity-20 dark:text-opacity-30 hover:text-opacity-70 dark:hover:text-opacity-70"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="clipboard" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512" class="svg-inline--fa fa-clipboard"><path fill="currentColor" d="M336 64h-53.88C268.9 26.8 233.7 0 192 0S115.1 26.8 101.9 64H48C21.5 64 0 85.48 0 112v352C0 490.5 21.5 512 48 512h288c26.5 0 48-21.48 48-48v-352C384 85.48 362.5 64 336 64zM192 64c17.67 0 32 14.33 32 32c0 17.67-14.33 32-32 32S160 113.7 160 96C160 78.33 174.3 64 192 64zM272 224h-160C103.2 224 96 216.8 96 208C96 199.2 103.2 192 112 192h160C280.8 192 288 199.2 288 208S280.8 224 272 224z"></path></svg></button></div>
<div class="py-3" data-v-5fea1d61><h4 class="mb-2 text-lg sm:text-xl italic" data-v-5fea1d61>
    Обрати внимание:
  </h4> <ul class="ml-4 list-disc list-inside" data-v-5fea1d61>
  <li data-v-5fea1d61>
    для каждого запроса используется свой <span class="bit code" data-v-5fea1d61>FormRequest</span>.
    Не стоит делать общий <span class="bit code" data-v-5fea1d61>PostRequest</span>,
    даже если правила в конечном итоге получились одинаковыми.
  </li>
  <li data-v-5fea1d61>
    Не используй в контроллере ручное создание валидатора <span class="bit code" data-v-5fea1d61>Validator::make()</span>
    без явной на то необходимости. В случае возникновения ошибки валидации,
    фреймворк сам вернёт ошибку и завершит выполнение.
    Иначе при использовании <span class="bit code" data-v-5fea1d61>Validator::make()</span> необходимо
    также вручную сформировать ответ.
  </li>
</ul></div></div></div><div class="simple-card"><div id="loop-query" class="anchor" data-v-6837b121></div> <h3 class="relative mb-2 inline-block text-xl sm:text-2xl text-brand-heading-light dark:text-brand-heading-dark"><a href="#loop-query">
      # Запросы в циклах
    </a> <span class="absolute ml-1 -top-3.5 right-0 sm:top-0 sm:left-full text-xs text-shadow-none select-none">
      major
    </span></h3> <div class="nuxt-content"><p>
  Код ниже сгенерирует по 2 запроса на каждую итерацию.
  Если в <span class="bit variable">$ids</span> 100 элементов, значит запросов будет 200, если 500, то 1000...
</p>
<div data-fetch-key="CodeChips:9" class="relative"><div class="pre relative"><div class="mb-2"><!----> <span class="text-pink-600"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="face-angry" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="mr-2 text-xl svg-inline--fa fa-face-angry"><path fill="currentColor" d="M512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256zM339.9 373.3C323.8 355.4 295.7 336 256 336C216.3 336 188.2 355.4 172.1 373.3C166.2 379.9 166.7 389.1 173.3 395.9C179.9 401.8 189.1 401.3 195.9 394.7C207.6 381.7 227.5 368 255.1 368C284.5 368 304.4 381.7 316.1 394.7C322 401.3 332.1 401.8 338.7 395.9C345.3 389.1 345.8 379.9 339.9 373.3H339.9zM176.4 272C194 272 208.4 257.7 208.4 240C208.4 238.5 208.3 237 208.1 235.6L218.9 239.2C227.3 241.1 236.4 237.4 239.2 229.1C241.1 220.7 237.4 211.6 229.1 208.8L133.1 176.8C124.7 174 115.6 178.6 112.8 186.9C110 195.3 114.6 204.4 122.9 207.2L153.7 217.4C147.9 223.2 144.4 231.2 144.4 240C144.4 257.7 158.7 272 176.4 272zM358.9 217.2L389.1 207.2C397.4 204.4 401.1 195.3 399.2 186.9C396.4 178.6 387.3 174 378.9 176.8L282.9 208.8C274.6 211.6 270 220.7 272.8 229.1C275.6 237.4 284.7 241.1 293.1 239.2L304.7 235.3C304.5 236.8 304.4 238.4 304.4 240C304.4 257.7 318.7 272 336.4 272C354 272 368.4 257.7 368.4 240C368.4 231.1 364.7 223 358.9 217.2H358.9z"></path></svg> <span class="font-normal">Bad</span></span></div> <div><pre class="torchlight" style="background-color:#011627;--theme-selection-background:#4373c2" data-torchlight-processed="3449c9e5e332f1dbb81505cd739fbf3f"><code data-lang="php"><!-- Syntax highlighted by torchlight.dev --><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">1</span><span style="color:#c792ea">foreach</span><span style="color:#d6deeb"> (</span><span style="color:#bec5d4">$ids</span><span style="color:#d6deeb"> </span><span style="color:#c792ea">as</span><span style="color:#d6deeb"> </span><span style="color:#bec5d4">$id</span><span style="color:#d6deeb">) {</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">2</span><span style="color:#d6deeb">    </span><span style="color:#bec5d4">$post</span><span style="color:#d6deeb"> </span><span style="color:#c792ea">=</span><span style="color:#d6deeb"> </span><span style="color:#ffcb8b">Post</span><span style="color:#7fdbca">::</span><span style="color:#82aaff">first</span><span style="color:#d6deeb">(</span><span style="color:#d9f5dd">'</span><span style="color:#ecc48d">id</span><span style="color:#d9f5dd">'</span><span style="color:#d6deeb">, </span><span style="color:#bec5d4">$id</span><span style="color:#d6deeb">);</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">3</span><span style="color:#d6deeb">    </span><span style="color:#bec5d4">$post</span><span style="color:#7fdbca">-></span><span style="color:#82aaff">update</span><span style="color:#d6deeb">([</span><span style="color:#d9f5dd">'</span><span style="color:#ecc48d">status</span><span style="color:#d9f5dd">'</span><span style="color:#d6deeb"> </span><span style="color:#7fdbca">=></span><span style="color:#d6deeb"> </span><span style="color:#f78c6c">1</span><span style="color:#d6deeb">]);</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">4</span><span style="color:#d6deeb">}</span></div><textarea data-torchlight-original="true" style="display:none!important">foreach ($ids as $id) {
    $post = Post::first('id', $id);
    $post->update(['status' => 1]);
}
</textarea></code></pre>
</div></div> <a href="https://torchlight.dev" target="_blank" rel="nofollow noopener noreferrer" class="absolute bottom-3 sm:bottom-1 right-2 text-xs text-white dark:text-white text-opacity-20 dark:text-opacity-20 hover:text-white dark:hover:text-white hover:text-opacity-40 dark:hover:text-opacity-40 select-none">
    highlight by torchlight.dev
  </a> <button title="Copy to Clipboard" class="absolute top-1 sm:top-2 right-3 text-white dark:text-brand-secondary-dark text-opacity-20 dark:text-opacity-30 hover:text-opacity-70 dark:hover:text-opacity-70"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="clipboard" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512" class="svg-inline--fa fa-clipboard"><path fill="currentColor" d="M336 64h-53.88C268.9 26.8 233.7 0 192 0S115.1 26.8 101.9 64H48C21.5 64 0 85.48 0 112v352C0 490.5 21.5 512 48 512h288c26.5 0 48-21.48 48-48v-352C384 85.48 362.5 64 336 64zM192 64c17.67 0 32 14.33 32 32c0 17.67-14.33 32-32 32S160 113.7 160 96C160 78.33 174.3 64 192 64zM272 224h-160C103.2 224 96 216.8 96 208C96 199.2 103.2 192 112 192h160C280.8 192 288 199.2 288 208S280.8 224 272 224z"></path></svg></button></div>
<p>
  Есть редкие кейсы, когда выгоднее или проще создать много запросов, чем писать несколько, но сложных, особенно
  если код будет выполняться в фоне, не важно сколько времени это может занять
  и какую нагрузку дать на сервер.
</p>
<p>
  <b>Но в подавляющем большинстве случаев</b> необходимо избегать использования запросов к БД из циклов.
</p>
<div data-fetch-key="CodeChips:10" class="relative"><div class="pre relative"><div class="mb-2"><span class="text-brand-success-light dark:text-brand-success-dark"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="square-check" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="mr-2 text-xl svg-inline--fa fa-square-check"><path fill="currentColor" d="M384 32C419.3 32 448 60.65 448 96V416C448 451.3 419.3 480 384 480H64C28.65 480 0 451.3 0 416V96C0 60.65 28.65 32 64 32H384zM339.8 211.8C350.7 200.9 350.7 183.1 339.8 172.2C328.9 161.3 311.1 161.3 300.2 172.2L192 280.4L147.8 236.2C136.9 225.3 119.1 225.3 108.2 236.2C97.27 247.1 97.27 264.9 108.2 275.8L172.2 339.8C183.1 350.7 200.9 350.7 211.8 339.8L339.8 211.8z"></path></svg> <span class="font-normal">Good</span></span> <!----></div> <div><pre class="torchlight" style="background-color:#011627;--theme-selection-background:#4373c2" data-torchlight-processed="3449c9e5e332f1dbb81505cd739fbf3f"><code data-lang="php"><!-- Syntax highlighted by torchlight.dev --><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">1</span><span style="color:#ffcb8b">Post</span><span style="color:#7fdbca">::</span><span style="color:#82aaff">whereIn</span><span style="color:#d6deeb">(</span><span style="color:#bec5d4">$ids</span><span style="color:#d6deeb">)</span><span style="color:#7fdbca">-></span><span style="color:#82aaff">update</span><span style="color:#d6deeb">([</span><span style="color:#d9f5dd">'</span><span style="color:#ecc48d">status</span><span style="color:#d9f5dd">'</span><span style="color:#d6deeb"> </span><span style="color:#7fdbca">=></span><span style="color:#d6deeb"> </span><span style="color:#f78c6c">1</span><span style="color:#d6deeb">]);</span></div><textarea data-torchlight-original="true" style="display:none!important">Post::whereIn($ids)->update(['status' => 1]);</textarea></code></pre>
</div></div> <a href="https://torchlight.dev" target="_blank" rel="nofollow noopener noreferrer" class="absolute bottom-3 sm:bottom-1 right-2 text-xs text-white dark:text-white text-opacity-20 dark:text-opacity-20 hover:text-white dark:hover:text-white hover:text-opacity-40 dark:hover:text-opacity-40 select-none">
    highlight by torchlight.dev
  </a> <button title="Copy to Clipboard" class="absolute top-1 sm:top-2 right-3 text-white dark:text-brand-secondary-dark text-opacity-20 dark:text-opacity-30 hover:text-opacity-70 dark:hover:text-opacity-70"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="clipboard" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512" class="svg-inline--fa fa-clipboard"><path fill="currentColor" d="M336 64h-53.88C268.9 26.8 233.7 0 192 0S115.1 26.8 101.9 64H48C21.5 64 0 85.48 0 112v352C0 490.5 21.5 512 48 512h288c26.5 0 48-21.48 48-48v-352C384 85.48 362.5 64 336 64zM192 64c17.67 0 32 14.33 32 32c0 17.67-14.33 32-32 32S160 113.7 160 96C160 78.33 174.3 64 192 64zM272 224h-160C103.2 224 96 216.8 96 208C96 199.2 103.2 192 112 192h160C280.8 192 288 199.2 288 208S280.8 224 272 224z"></path></svg></button></div>
<p>
  Также обязательно прочти <a href="/bad-practices#lazy-load">«Ленивая загрузка связей»</a>,
  т.к. тема тоже относится к данной проблеме, но менее интуитивна для начинающих.
</p></div></div><div class="simple-card"><div id="lazy-load" class="anchor" data-v-6837b121></div> <h3 class="relative mb-2 inline-block text-xl sm:text-2xl text-brand-heading-light dark:text-brand-heading-dark"><a href="#lazy-load">
      # Ленивая загрузка связей
    </a> <span class="absolute ml-1 -top-3.5 right-0 sm:top-0 sm:left-full text-xs text-shadow-none select-none">
      major
    </span></h3> <div class="nuxt-content"><p>
  <b>Сколько запросов к БД происходит в примере ниже?</b> Попробуй посчитать самостоятельно,
  при условии, что каждый пост имеет 5 комментариев и всего выбрано 10 постов (такие вопросы могут задавать на собеседованиях).
</p>
<div data-fetch-key="CodeChips:11" class="relative"><div class="pre relative"><div class="mb-2"><!----> <span class="text-pink-600"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="face-angry" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="mr-2 text-xl svg-inline--fa fa-face-angry"><path fill="currentColor" d="M512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256zM339.9 373.3C323.8 355.4 295.7 336 256 336C216.3 336 188.2 355.4 172.1 373.3C166.2 379.9 166.7 389.1 173.3 395.9C179.9 401.8 189.1 401.3 195.9 394.7C207.6 381.7 227.5 368 255.1 368C284.5 368 304.4 381.7 316.1 394.7C322 401.3 332.1 401.8 338.7 395.9C345.3 389.1 345.8 379.9 339.9 373.3H339.9zM176.4 272C194 272 208.4 257.7 208.4 240C208.4 238.5 208.3 237 208.1 235.6L218.9 239.2C227.3 241.1 236.4 237.4 239.2 229.1C241.1 220.7 237.4 211.6 229.1 208.8L133.1 176.8C124.7 174 115.6 178.6 112.8 186.9C110 195.3 114.6 204.4 122.9 207.2L153.7 217.4C147.9 223.2 144.4 231.2 144.4 240C144.4 257.7 158.7 272 176.4 272zM358.9 217.2L389.1 207.2C397.4 204.4 401.1 195.3 399.2 186.9C396.4 178.6 387.3 174 378.9 176.8L282.9 208.8C274.6 211.6 270 220.7 272.8 229.1C275.6 237.4 284.7 241.1 293.1 239.2L304.7 235.3C304.5 236.8 304.4 238.4 304.4 240C304.4 257.7 318.7 272 336.4 272C354 272 368.4 257.7 368.4 240C368.4 231.1 364.7 223 358.9 217.2H358.9z"></path></svg> <span class="font-normal">Bad</span></span></div> <div><pre class="torchlight" style="background-color:#011627;--theme-selection-background:#4373c2" data-torchlight-processed="3449c9e5e332f1dbb81505cd739fbf3f"><code data-lang="php"><!-- Syntax highlighted by torchlight.dev --><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">1</span><span style="color:#c792ea">public</span><span style="color:#d6deeb"> </span><span style="color:#c792ea">function</span><span style="color:#d6deeb"> </span><span style="color:#82aaff">index</span><span style="color:#d9f5dd">()</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">2</span><span style="color:#d6deeb">{</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">3</span><span style="color:#d6deeb">    </span><span style="color:#bec5d4">$posts</span><span style="color:#d6deeb"> </span><span style="color:#c792ea">=</span><span style="color:#d6deeb"> </span><span style="color:#ffcb8b">Post</span><span style="color:#7fdbca">::</span><span style="color:#82aaff">active</span><span style="color:#d6deeb">()</span><span style="color:#7fdbca">-></span><span style="color:#82aaff">paginate</span><span style="color:#d6deeb">(</span><span style="color:#f78c6c">10</span><span style="color:#d6deeb">);</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">4</span> </div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">5</span><span style="color:#d6deeb">    </span><span style="color:#c792ea">return</span><span style="color:#d6deeb"> </span><span style="color:#82aaff">view</span><span style="color:#d6deeb">(</span><span style="color:#d9f5dd">'</span><span style="color:#ecc48d">posts.index</span><span style="color:#d9f5dd">'</span><span style="color:#d6deeb">,</span><span style="color:#82aaff"> </span><span style="color:#c5e478">compact</span><span style="color:#d6deeb">(</span><span style="color:#d9f5dd">'</span><span style="color:#ecc48d">posts</span><span style="color:#d9f5dd">'</span><span style="color:#d6deeb">));</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">6</span><span style="color:#d6deeb">}</span></div><textarea data-torchlight-original="true" style="display:none!important">public function index()
{
    $posts = Post::active()->paginate(10);

    return view('posts.index', compact('posts'));
}
</textarea></code></pre>
<pre class="torchlight" style="background-color:#011627;--theme-selection-background:#4373c2" data-torchlight-processed="3449c9e5e332f1dbb81505cd739fbf3f"><code data-lang="blade"><!-- Syntax highlighted by torchlight.dev --><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">1</span><span style="color:#c792ea">@foreach </span><span style="color:#d6deeb">(</span><span style="color:#bec5d4">$posts</span><span style="color:#d6deeb"> </span><span style="color:#c792ea">as</span><span style="color:#d6deeb"> </span><span style="color:#bec5d4">$post</span><span style="color:#d6deeb">)</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">2</span><span style="color:#d6deeb">  </span><span style="color:#c5e478">{{</span><span style="color:#d6deeb"> </span><span style="color:#bec5d4">$post</span><span style="color:#7fdbca">-></span><span style="color:#bec5d4">heading</span><span style="color:#d6deeb"> </span><span style="color:#c5e478">}}</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">3</span> </div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">4</span><span style="color:#d6deeb">  </span><span style="color:#c792ea">@foreach</span><span style="color:#d6deeb">(</span><span style="color:#bec5d4">$post</span><span style="color:#7fdbca">-></span><span style="color:#bec5d4">comments</span><span style="color:#d6deeb"> </span><span style="color:#c792ea">as</span><span style="color:#d6deeb"> </span><span style="color:#bec5d4">$comment</span><span style="color:#d6deeb">)</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">5</span><span style="color:#d6deeb">    </span><span style="color:#c5e478">{{</span><span style="color:#d6deeb"> </span><span style="color:#bec5d4">$comment</span><span style="color:#7fdbca">-></span><span style="color:#bec5d4">message</span><span style="color:#d6deeb"> </span><span style="color:#c5e478">}}</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">6</span><span style="color:#d6deeb">    </span><span style="color:#c5e478">{{</span><span style="color:#d6deeb"> </span><span style="color:#bec5d4">$comment</span><span style="color:#7fdbca">-></span><span style="color:#bec5d4">user</span><span style="color:#7fdbca">-></span><span style="color:#bec5d4">name</span><span style="color:#d6deeb"> </span><span style="color:#c5e478">}}</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">7</span><span style="color:#d6deeb">  </span><span style="color:#c792ea">@endforeach</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">8</span><span style="color:#c792ea">@endforeach</span></div><textarea data-torchlight-original="true" style="display:none!important">@foreach ($posts as $post)
  {{ $post->heading }}

  @foreach($post->comments as $comment)
    {{ $comment->message }}
    {{ $comment->user->name }}
  @endforeach
@endforeach
</textarea></code></pre>
</div></div> <a href="https://torchlight.dev" target="_blank" rel="nofollow noopener noreferrer" class="absolute bottom-3 sm:bottom-1 right-2 text-xs text-white dark:text-white text-opacity-20 dark:text-opacity-20 hover:text-white dark:hover:text-white hover:text-opacity-40 dark:hover:text-opacity-40 select-none">
    highlight by torchlight.dev
  </a> <button title="Copy to Clipboard" class="absolute top-1 sm:top-2 right-3 text-white dark:text-brand-secondary-dark text-opacity-20 dark:text-opacity-30 hover:text-opacity-70 dark:hover:text-opacity-70"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="clipboard" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512" class="svg-inline--fa fa-clipboard"><path fill="currentColor" d="M336 64h-53.88C268.9 26.8 233.7 0 192 0S115.1 26.8 101.9 64H48C21.5 64 0 85.48 0 112v352C0 490.5 21.5 512 48 512h288c26.5 0 48-21.48 48-48v-352C384 85.48 362.5 64 336 64zM192 64c17.67 0 32 14.33 32 32c0 17.67-14.33 32-32 32S160 113.7 160 96C160 78.33 174.3 64 192 64zM272 224h-160C103.2 224 96 216.8 96 208C96 199.2 103.2 192 112 192h160C280.8 192 288 199.2 288 208S280.8 224 272 224z"></path></svg></button></div>
<p>
  Посчитал? Теперь давай разберёмся. Мы выбираем 10 постов из БД одним запросом и передаём коллекцию в шаблон.
  В шаблоне мы перебираем посты и обращаемся на связь <span class="bit code">$post->comments</span>.
  Каждое такое обращение это +1 запрос к таблице <span class="bit">comments</span>, в котором подгружаются
  комментарии к посту. Значит на 10 постов +10 запросов, итого уже 11. Далее происходит перебор комментариев
  (мы условились что их 5 у каждого поста) и у каждого комментария есть обращение на связь
  <span class="bit code">$comment->user</span>, чтобы получить автора комментария,
  т.е. ещё +1 запрос на каждый комментарий, а значит 10*5 = +50 запросов. Итого имеем 61 запрос к БД.
</p>
<p>
  <b>Эта называется «проблема N+1»</b>. В реальности постов и комментариев на одной странице может быть больше
  и количество запросов легко переходит в сотни (например 10 постов по 30 комментариев в итоге даст 311 запросов).
</p>
<p>
  Чтобы исправить данную проблему существует понятие <b>«Eager Loading»</b> или «Жадная загрузка», смысл которой
  заранее получить все необходимые данные для отображения, а не делать запросы из циклов по требованию (ленивая загрузка).
  В Laravel это предусмотрено, читай раздел <a href="https://laravel.com/docs/10.x/eloquent-relationships#eager-loading" target="_blank" rel="nofollow noopener noreferrer" class="inline-flex items-center external-link"><!----> <span>документации «Eager Loading»</span> <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="arrow-up-right-from-square" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="ml-1 w-2 text-gray-500 dark:text-gray-300 dark:text-opacity-60 svg-inline--fa fa-arrow-up-right-from-square"><path fill="currentColor" d="M256 64C256 46.33 270.3 32 288 32H415.1C415.1 32 415.1 32 415.1 32C420.3 32 424.5 32.86 428.2 34.43C431.1 35.98 435.5 38.27 438.6 41.3C438.6 41.35 438.6 41.4 438.7 41.44C444.9 47.66 447.1 55.78 448 63.9C448 63.94 448 63.97 448 64V192C448 209.7 433.7 224 416 224C398.3 224 384 209.7 384 192V141.3L214.6 310.6C202.1 323.1 181.9 323.1 169.4 310.6C156.9 298.1 156.9 277.9 169.4 265.4L338.7 96H288C270.3 96 256 81.67 256 64V64zM0 128C0 92.65 28.65 64 64 64H160C177.7 64 192 78.33 192 96C192 113.7 177.7 128 160 128H64V416H352V320C352 302.3 366.3 288 384 288C401.7 288 416 302.3 416 320V416C416 451.3 387.3 480 352 480H64C28.65 480 0 451.3 0 416V128z"></path></svg></a>.
</p>
<p>
  Исправим наш запрос в контроллере с помощью <span class="bit code">with()</span>:
</p>
<div data-fetch-key="CodeChips:12" class="relative"><div class="pre relative"><div class="mb-2"><span class="text-brand-success-light dark:text-brand-success-dark"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="square-check" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="mr-2 text-xl svg-inline--fa fa-square-check"><path fill="currentColor" d="M384 32C419.3 32 448 60.65 448 96V416C448 451.3 419.3 480 384 480H64C28.65 480 0 451.3 0 416V96C0 60.65 28.65 32 64 32H384zM339.8 211.8C350.7 200.9 350.7 183.1 339.8 172.2C328.9 161.3 311.1 161.3 300.2 172.2L192 280.4L147.8 236.2C136.9 225.3 119.1 225.3 108.2 236.2C97.27 247.1 97.27 264.9 108.2 275.8L172.2 339.8C183.1 350.7 200.9 350.7 211.8 339.8L339.8 211.8z"></path></svg> <span class="font-normal">Good</span></span> <!----></div> <div><pre class="torchlight" style="background-color:#011627;--theme-selection-background:#4373c2" data-torchlight-processed="3449c9e5e332f1dbb81505cd739fbf3f"><code data-lang="php"><!-- Syntax highlighted by torchlight.dev --><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">1</span><span style="color:#c792ea">public</span><span style="color:#d6deeb"> </span><span style="color:#c792ea">function</span><span style="color:#d6deeb"> </span><span style="color:#82aaff">index</span><span style="color:#d9f5dd">()</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">2</span><span style="color:#d6deeb">{</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">3</span><span style="color:#d6deeb">    </span><span style="color:#bec5d4">$posts</span><span style="color:#d6deeb"> </span><span style="color:#c792ea">=</span><span style="color:#d6deeb"> </span><span style="color:#ffcb8b">Post</span><span style="color:#7fdbca">::</span><span style="color:#82aaff">with</span><span style="color:#d6deeb">(</span><span style="color:#d9f5dd">'</span><span style="color:#ecc48d">comments.user</span><span style="color:#d9f5dd">'</span><span style="color:#d6deeb">)</span><span style="color:#7fdbca">-></span><span style="color:#82aaff">active</span><span style="color:#d6deeb">()</span><span style="color:#7fdbca">-></span><span style="color:#82aaff">paginate</span><span style="color:#d6deeb">(</span><span style="color:#f78c6c">10</span><span style="color:#d6deeb">);</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">4</span> </div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">5</span><span style="color:#d6deeb">    </span><span style="color:#c792ea">return</span><span style="color:#d6deeb"> </span><span style="color:#82aaff">view</span><span style="color:#d6deeb">(</span><span style="color:#d9f5dd">'</span><span style="color:#ecc48d">posts.index</span><span style="color:#d9f5dd">'</span><span style="color:#d6deeb">,</span><span style="color:#82aaff"> </span><span style="color:#c5e478">compact</span><span style="color:#d6deeb">(</span><span style="color:#d9f5dd">'</span><span style="color:#ecc48d">posts</span><span style="color:#d9f5dd">'</span><span style="color:#d6deeb">));</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">6</span><span style="color:#d6deeb">}</span></div><textarea data-torchlight-original="true" style="display:none!important">public function index()
{
    $posts = Post::with('comments.user')->active()->paginate(10);

    return view('posts.index', compact('posts'));
}
</textarea></code></pre>
</div></div> <a href="https://torchlight.dev" target="_blank" rel="nofollow noopener noreferrer" class="absolute bottom-3 sm:bottom-1 right-2 text-xs text-white dark:text-white text-opacity-20 dark:text-opacity-20 hover:text-white dark:hover:text-white hover:text-opacity-40 dark:hover:text-opacity-40 select-none">
    highlight by torchlight.dev
  </a> <button title="Copy to Clipboard" class="absolute top-1 sm:top-2 right-3 text-white dark:text-brand-secondary-dark text-opacity-20 dark:text-opacity-30 hover:text-opacity-70 dark:hover:text-opacity-70"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="clipboard" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512" class="svg-inline--fa fa-clipboard"><path fill="currentColor" d="M336 64h-53.88C268.9 26.8 233.7 0 192 0S115.1 26.8 101.9 64H48C21.5 64 0 85.48 0 112v352C0 490.5 21.5 512 48 512h288c26.5 0 48-21.48 48-48v-352C384 85.48 362.5 64 336 64zM192 64c17.67 0 32 14.33 32 32c0 17.67-14.33 32-32 32S160 113.7 160 96C160 78.33 174.3 64 192 64zM272 224h-160C103.2 224 96 216.8 96 208C96 199.2 103.2 192 112 192h160C280.8 192 288 199.2 288 208S280.8 224 272 224z"></path></svg></button></div>
<p>
  По итогу получаем всего 3 запроса к БД вместо 61: посты, комментарии и авторы комментариев.
</p>
<div class="py-3" data-v-5fea1d61><h4 class="mb-2 text-lg sm:text-xl italic" data-v-5fea1d61>
    Обрати внимание:
  </h4> <ul class="ml-4 list-disc list-inside" data-v-5fea1d61>
  <li data-v-5fea1d61>
    Начиная с 8-ой версии появилась возможность отключить ленивую загрузку,
    чтобы случайно не обратиться к связям, которые не были загружены заранее.
    Подробнее читай в
    <a href="https://laravel.com/docs/10.x/eloquent-relationships#preventing-lazy-loading" target="_blank" rel="nofollow noopener noreferrer" class="inline-flex items-center external-link"><!----> <span>документации</span> <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="arrow-up-right-from-square" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="ml-1 w-2 text-gray-500 dark:text-gray-300 dark:text-opacity-60 svg-inline--fa fa-arrow-up-right-from-square"><path fill="currentColor" d="M256 64C256 46.33 270.3 32 288 32H415.1C415.1 32 415.1 32 415.1 32C420.3 32 424.5 32.86 428.2 34.43C431.1 35.98 435.5 38.27 438.6 41.3C438.6 41.35 438.6 41.4 438.7 41.44C444.9 47.66 447.1 55.78 448 63.9C448 63.94 448 63.97 448 64V192C448 209.7 433.7 224 416 224C398.3 224 384 209.7 384 192V141.3L214.6 310.6C202.1 323.1 181.9 323.1 169.4 310.6C156.9 298.1 156.9 277.9 169.4 265.4L338.7 96H288C270.3 96 256 81.67 256 64V64zM0 128C0 92.65 28.65 64 64 64H160C177.7 64 192 78.33 192 96C192 113.7 177.7 128 160 128H64V416H352V320C352 302.3 366.3 288 384 288C401.7 288 416 302.3 416 320V416C416 451.3 387.3 480 352 480H64C28.65 480 0 451.3 0 416V128z"></path></svg></a>
  </li>
  <li data-v-5fea1d61>
    Laravel сам загрузит все необходимые связи указанные в цепочке.
    Нет необходимости указывать отдельно:
    <span class="bit code" data-v-5fea1d61>with('comments', 'comments.user')</span>, хоть это и не будет ошибкой.
  </li>
</ul></div></div></div><div class="simple-card"><div id="get-user" class="anchor" data-v-6837b121></div> <h3 class="relative mb-2 inline-block text-xl sm:text-2xl text-brand-heading-light dark:text-brand-heading-dark"><a href="#get-user">
      # Получение текущего пользователя
    </a> <span class="absolute ml-1 -top-3.5 right-0 sm:top-0 sm:left-full text-xs text-shadow-none select-none">
      major
    </span></h3> <div class="nuxt-content"><p>
  Популярнейшая проблема встречается в коде начинающих:
</p>
<div data-fetch-key="CodeChips:13" class="relative"><div class="pre relative"><div class="mb-2"><!----> <span class="text-pink-600"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="face-angry" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="mr-2 text-xl svg-inline--fa fa-face-angry"><path fill="currentColor" d="M512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256zM339.9 373.3C323.8 355.4 295.7 336 256 336C216.3 336 188.2 355.4 172.1 373.3C166.2 379.9 166.7 389.1 173.3 395.9C179.9 401.8 189.1 401.3 195.9 394.7C207.6 381.7 227.5 368 255.1 368C284.5 368 304.4 381.7 316.1 394.7C322 401.3 332.1 401.8 338.7 395.9C345.3 389.1 345.8 379.9 339.9 373.3H339.9zM176.4 272C194 272 208.4 257.7 208.4 240C208.4 238.5 208.3 237 208.1 235.6L218.9 239.2C227.3 241.1 236.4 237.4 239.2 229.1C241.1 220.7 237.4 211.6 229.1 208.8L133.1 176.8C124.7 174 115.6 178.6 112.8 186.9C110 195.3 114.6 204.4 122.9 207.2L153.7 217.4C147.9 223.2 144.4 231.2 144.4 240C144.4 257.7 158.7 272 176.4 272zM358.9 217.2L389.1 207.2C397.4 204.4 401.1 195.3 399.2 186.9C396.4 178.6 387.3 174 378.9 176.8L282.9 208.8C274.6 211.6 270 220.7 272.8 229.1C275.6 237.4 284.7 241.1 293.1 239.2L304.7 235.3C304.5 236.8 304.4 238.4 304.4 240C304.4 257.7 318.7 272 336.4 272C354 272 368.4 257.7 368.4 240C368.4 231.1 364.7 223 358.9 217.2H358.9z"></path></svg> <span class="font-normal">Bad</span></span></div> <div><pre class="torchlight" style="background-color:#011627;--theme-selection-background:#4373c2" data-torchlight-processed="3449c9e5e332f1dbb81505cd739fbf3f"><code data-lang="php"><!-- Syntax highlighted by torchlight.dev --><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">1</span><span style="color:#ffcb8b">User</span><span style="color:#7fdbca">::</span><span style="color:#82aaff">find</span><span style="color:#d6deeb">(</span><span style="color:#ffcb8b">Auth</span><span style="color:#7fdbca">::</span><span style="color:#82aaff">user</span><span style="color:#d6deeb">()</span><span style="color:#7fdbca">-></span><span style="color:#bec5d4">id</span><span style="color:#d6deeb">);</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">2</span><span style="color:#637777">//</span><span style="color:#637777"> or</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">3</span><span style="color:#ffcb8b">User</span><span style="color:#7fdbca">::</span><span style="color:#82aaff">find</span><span style="color:#d6deeb">(</span><span style="color:#ffcb8b">Auth</span><span style="color:#7fdbca">::</span><span style="color:#82aaff">id</span><span style="color:#d6deeb">());</span></div><textarea data-torchlight-original="true" style="display:none!important">User::find(Auth::user()->id);
// or
User::find(Auth::id());
</textarea></code></pre>
</div></div> <a href="https://torchlight.dev" target="_blank" rel="nofollow noopener noreferrer" class="absolute bottom-3 sm:bottom-1 right-2 text-xs text-white dark:text-white text-opacity-20 dark:text-opacity-20 hover:text-white dark:hover:text-white hover:text-opacity-40 dark:hover:text-opacity-40 select-none">
    highlight by torchlight.dev
  </a> <button title="Copy to Clipboard" class="absolute top-1 sm:top-2 right-3 text-white dark:text-brand-secondary-dark text-opacity-20 dark:text-opacity-30 hover:text-opacity-70 dark:hover:text-opacity-70"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="clipboard" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512" class="svg-inline--fa fa-clipboard"><path fill="currentColor" d="M336 64h-53.88C268.9 26.8 233.7 0 192 0S115.1 26.8 101.9 64H48C21.5 64 0 85.48 0 112v352C0 490.5 21.5 512 48 512h288c26.5 0 48-21.48 48-48v-352C384 85.48 362.5 64 336 64zM192 64c17.67 0 32 14.33 32 32c0 17.67-14.33 32-32 32S160 113.7 160 96C160 78.33 174.3 64 192 64zM272 224h-160C103.2 224 96 216.8 96 208C96 199.2 103.2 192 112 192h160C280.8 192 288 199.2 288 208S280.8 224 272 224z"></path></svg></button></div>
<p>
  В примере выше происходит бесполезная выборка из БД. <span class="bit code">Auth::user()</span>
  уже возвращает модель авторизированного пользователя. Нет смысла вытаскивать данные ещё раз через
  <span class="bit code">User::find()</span>
</p>
<div data-fetch-key="CodeChips:14" class="relative"><div class="pre relative"><div class="mb-2"><span class="text-brand-success-light dark:text-brand-success-dark"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="square-check" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="mr-2 text-xl svg-inline--fa fa-square-check"><path fill="currentColor" d="M384 32C419.3 32 448 60.65 448 96V416C448 451.3 419.3 480 384 480H64C28.65 480 0 451.3 0 416V96C0 60.65 28.65 32 64 32H384zM339.8 211.8C350.7 200.9 350.7 183.1 339.8 172.2C328.9 161.3 311.1 161.3 300.2 172.2L192 280.4L147.8 236.2C136.9 225.3 119.1 225.3 108.2 236.2C97.27 247.1 97.27 264.9 108.2 275.8L172.2 339.8C183.1 350.7 200.9 350.7 211.8 339.8L339.8 211.8z"></path></svg> <span class="font-normal">Good</span></span> <!----></div> <div><pre class="torchlight" style="background-color:#011627;--theme-selection-background:#4373c2" data-torchlight-processed="3449c9e5e332f1dbb81505cd739fbf3f"><code data-lang="php"><!-- Syntax highlighted by torchlight.dev --><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">1</span><span style="color:#bec5d4">$user</span><span style="color:#d6deeb"> </span><span style="color:#c792ea">=</span><span style="color:#d6deeb"> </span><span style="color:#ffcb8b">Auth</span><span style="color:#7fdbca">::</span><span style="color:#82aaff">user</span><span style="color:#d6deeb">();</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">2</span><span style="color:#bec5d4">$user</span><span style="color:#7fdbca">-></span><span style="color:#bec5d4">email</span><span style="color:#d6deeb">;</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">3</span> </div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">4</span><span style="color:#bec5d4">$userId</span><span style="color:#d6deeb"> </span><span style="color:#c792ea">=</span><span style="color:#d6deeb"> </span><span style="color:#ffcb8b">Auth</span><span style="color:#7fdbca">::</span><span style="color:#82aaff">id</span><span style="color:#d6deeb">();</span></div><textarea data-torchlight-original="true" style="display:none!important">$user = Auth::user();
$user->email;

$userId = Auth::id();
</textarea></code></pre>
</div></div> <a href="https://torchlight.dev" target="_blank" rel="nofollow noopener noreferrer" class="absolute bottom-3 sm:bottom-1 right-2 text-xs text-white dark:text-white text-opacity-20 dark:text-opacity-20 hover:text-white dark:hover:text-white hover:text-opacity-40 dark:hover:text-opacity-40 select-none">
    highlight by torchlight.dev
  </a> <button title="Copy to Clipboard" class="absolute top-1 sm:top-2 right-3 text-white dark:text-brand-secondary-dark text-opacity-20 dark:text-opacity-30 hover:text-opacity-70 dark:hover:text-opacity-70"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="clipboard" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512" class="svg-inline--fa fa-clipboard"><path fill="currentColor" d="M336 64h-53.88C268.9 26.8 233.7 0 192 0S115.1 26.8 101.9 64H48C21.5 64 0 85.48 0 112v352C0 490.5 21.5 512 48 512h288c26.5 0 48-21.48 48-48v-352C384 85.48 362.5 64 336 64zM192 64c17.67 0 32 14.33 32 32c0 17.67-14.33 32-32 32S160 113.7 160 96C160 78.33 174.3 64 192 64zM272 224h-160C103.2 224 96 216.8 96 208C96 199.2 103.2 192 112 192h160C280.8 192 288 199.2 288 208S280.8 224 272 224z"></path></svg></button></div>
<div class="py-3" data-v-5fea1d61><h4 class="mb-2 text-lg sm:text-xl italic" data-v-5fea1d61>
    Обрати внимание:
  </h4> <ul class="ml-4 list-disc list-inside" data-v-5fea1d61>
  <li data-v-5fea1d61>
    Если пользователь не авторизирован,
    то <span class="bit code" data-v-5fea1d61>Auth::user()</span>
    вернёт <span class="bit special-value" data-v-5fea1d61>null</span>
  </li>
  <li data-v-5fea1d61>
    Фасад <span class="bit code" data-v-5fea1d61>Auth</span>
    и хелпер <span class="bit code" data-v-5fea1d61>auth()</span>
    эквивалентны
  </li>
</ul></div></div></div><div class="simple-card"><div id="model-update" class="anchor" data-v-6837b121></div> <h3 class="relative mb-2 inline-block text-xl sm:text-2xl text-brand-heading-light dark:text-brand-heading-dark"><a href="#model-update">
      # Обновление данных
    </a> <span class="absolute ml-1 -top-3.5 right-0 sm:top-0 sm:left-full text-xs text-shadow-none select-none">
      minor
    </span></h3> <div class="nuxt-content"><p>
  Чтобы обновить данные, часто можно встретить такой код:
</p>
<div data-fetch-key="CodeChips:15" class="relative"><div class="pre relative"><!----> <div><pre class="torchlight" style="background-color:#011627;--theme-selection-background:#4373c2" data-torchlight-processed="3449c9e5e332f1dbb81505cd739fbf3f"><code data-lang="php"><!-- Syntax highlighted by torchlight.dev --><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">1</span><span style="color:#bec5d4">$post</span><span style="color:#d6deeb"> </span><span style="color:#c792ea">=</span><span style="color:#d6deeb"> </span><span style="color:#ffcb8b">Post</span><span style="color:#7fdbca">::</span><span style="color:#82aaff">find</span><span style="color:#d6deeb">(</span><span style="color:#bec5d4">$id</span><span style="color:#d6deeb">);</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">2</span> </div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">3</span><span style="color:#bec5d4">$post</span><span style="color:#7fdbca">-></span><span style="color:#82aaff">update</span><span style="color:#d6deeb">(</span><span style="color:#bec5d4">$data</span><span style="color:#d6deeb">);</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">4</span><span style="color:#637777">//</span><span style="color:#637777"> or</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">5</span><span style="color:#bec5d4">$post</span><span style="color:#7fdbca">-></span><span style="color:#82aaff">fill</span><span style="color:#d6deeb">(</span><span style="color:#bec5d4">$data</span><span style="color:#d6deeb">);</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">6</span><span style="color:#bec5d4">$post</span><span style="color:#7fdbca">-></span><span style="color:#82aaff">save</span><span style="color:#d6deeb">();</span></div><textarea data-torchlight-original="true" style="display:none!important">$post = Post::find($id);

$post->update($data);
// or
$post->fill($data);
$post->save();
</textarea></code></pre>
</div></div> <a href="https://torchlight.dev" target="_blank" rel="nofollow noopener noreferrer" class="absolute bottom-3 sm:bottom-1 right-2 text-xs text-white dark:text-white text-opacity-20 dark:text-opacity-20 hover:text-white dark:hover:text-white hover:text-opacity-40 dark:hover:text-opacity-40 select-none">
    highlight by torchlight.dev
  </a> <button title="Copy to Clipboard" class="absolute top-1 sm:top-2 right-3 text-white dark:text-brand-secondary-dark text-opacity-20 dark:text-opacity-30 hover:text-opacity-70 dark:hover:text-opacity-70"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="clipboard" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512" class="svg-inline--fa fa-clipboard"><path fill="currentColor" d="M336 64h-53.88C268.9 26.8 233.7 0 192 0S115.1 26.8 101.9 64H48C21.5 64 0 85.48 0 112v352C0 490.5 21.5 512 48 512h288c26.5 0 48-21.48 48-48v-352C384 85.48 362.5 64 336 64zM192 64c17.67 0 32 14.33 32 32c0 17.67-14.33 32-32 32S160 113.7 160 96C160 78.33 174.3 64 192 64zM272 224h-160C103.2 224 96 216.8 96 208C96 199.2 103.2 192 112 192h160C280.8 192 288 199.2 288 208S280.8 224 272 224z"></path></svg></button></div>
<p>
  В данном примере нет проблем, если получаемые данные нужны для каких-либо действий,
  например, для ответа клиенту.
</p>
<p>
  Если же задача просто обновить данные в БД, то <span class="bit code">Post::find()</span>
  не нужен, т.к. это лишний <span class="bit">SELECT</span> запрос.
  Достаточно выполнить <span class="bit">UPDATE</span> запрос напрямую, без выборки:
</p>
<div data-fetch-key="CodeChips:16" class="relative"><div class="pre relative"><!----> <div><pre class="torchlight" style="background-color:#011627;--theme-selection-background:#4373c2" data-torchlight-processed="3449c9e5e332f1dbb81505cd739fbf3f"><code data-lang="php"><!-- Syntax highlighted by torchlight.dev --><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">1</span><span style="color:#ffcb8b">Post</span><span style="color:#7fdbca">::</span><span style="color:#82aaff">where</span><span style="color:#d6deeb">(</span><span style="color:#d9f5dd">'</span><span style="color:#ecc48d">id</span><span style="color:#d9f5dd">'</span><span style="color:#d6deeb">, </span><span style="color:#bec5d4">$id</span><span style="color:#d6deeb">)</span><span style="color:#7fdbca">-></span><span style="color:#82aaff">update</span><span style="color:#d6deeb">(</span><span style="color:#bec5d4">$data</span><span style="color:#d6deeb">);</span></div><textarea data-torchlight-original="true" style="display:none!important">Post::where('id', $id)->update($data);</textarea></code></pre>
</div></div> <a href="https://torchlight.dev" target="_blank" rel="nofollow noopener noreferrer" class="absolute bottom-3 sm:bottom-1 right-2 text-xs text-white dark:text-white text-opacity-20 dark:text-opacity-20 hover:text-white dark:hover:text-white hover:text-opacity-40 dark:hover:text-opacity-40 select-none">
    highlight by torchlight.dev
  </a> <button title="Copy to Clipboard" class="absolute top-1 sm:top-2 right-3 text-white dark:text-brand-secondary-dark text-opacity-20 dark:text-opacity-30 hover:text-opacity-70 dark:hover:text-opacity-70"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="clipboard" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512" class="svg-inline--fa fa-clipboard"><path fill="currentColor" d="M336 64h-53.88C268.9 26.8 233.7 0 192 0S115.1 26.8 101.9 64H48C21.5 64 0 85.48 0 112v352C0 490.5 21.5 512 48 512h288c26.5 0 48-21.48 48-48v-352C384 85.48 362.5 64 336 64zM192 64c17.67 0 32 14.33 32 32c0 17.67-14.33 32-32 32S160 113.7 160 96C160 78.33 174.3 64 192 64zM272 224h-160C103.2 224 96 216.8 96 208C96 199.2 103.2 192 112 192h160C280.8 192 288 199.2 288 208S280.8 224 272 224z"></path></svg></button></div>
<p>
  Следует различать методы модели и билдера:
</p>
<p>
  <a href="https://laravel.com/api/10.x/Illuminate/Database/Eloquent/Model.html#method_update" target="_blank" rel="nofollow noopener noreferrer" class="inline-flex items-center external-link ml-3"><!----> <span>Illuminate/Database/Eloquent/Model::update</span> <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="arrow-up-right-from-square" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="ml-1 w-2 text-gray-500 dark:text-gray-300 dark:text-opacity-60 svg-inline--fa fa-arrow-up-right-from-square"><path fill="currentColor" d="M256 64C256 46.33 270.3 32 288 32H415.1C415.1 32 415.1 32 415.1 32C420.3 32 424.5 32.86 428.2 34.43C431.1 35.98 435.5 38.27 438.6 41.3C438.6 41.35 438.6 41.4 438.7 41.44C444.9 47.66 447.1 55.78 448 63.9C448 63.94 448 63.97 448 64V192C448 209.7 433.7 224 416 224C398.3 224 384 209.7 384 192V141.3L214.6 310.6C202.1 323.1 181.9 323.1 169.4 310.6C156.9 298.1 156.9 277.9 169.4 265.4L338.7 96H288C270.3 96 256 81.67 256 64V64zM0 128C0 92.65 28.65 64 64 64H160C177.7 64 192 78.33 192 96C192 113.7 177.7 128 160 128H64V416H352V320C352 302.3 366.3 288 384 288C401.7 288 416 302.3 416 320V416C416 451.3 387.3 480 352 480H64C28.65 480 0 451.3 0 416V128z"></path></svg></a>
  <br>
  <a href="https://laravel.com/api/10.x/Illuminate/Database/Eloquent/Builder.html#method_update" target="_blank" rel="nofollow noopener noreferrer" class="inline-flex items-center external-link ml-3"><!----> <span>Illuminate/Database/Eloquent/Builder::update</span> <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="arrow-up-right-from-square" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="ml-1 w-2 text-gray-500 dark:text-gray-300 dark:text-opacity-60 svg-inline--fa fa-arrow-up-right-from-square"><path fill="currentColor" d="M256 64C256 46.33 270.3 32 288 32H415.1C415.1 32 415.1 32 415.1 32C420.3 32 424.5 32.86 428.2 34.43C431.1 35.98 435.5 38.27 438.6 41.3C438.6 41.35 438.6 41.4 438.7 41.44C444.9 47.66 447.1 55.78 448 63.9C448 63.94 448 63.97 448 64V192C448 209.7 433.7 224 416 224C398.3 224 384 209.7 384 192V141.3L214.6 310.6C202.1 323.1 181.9 323.1 169.4 310.6C156.9 298.1 156.9 277.9 169.4 265.4L338.7 96H288C270.3 96 256 81.67 256 64V64zM0 128C0 92.65 28.65 64 64 64H160C177.7 64 192 78.33 192 96C192 113.7 177.7 128 160 128H64V416H352V320C352 302.3 366.3 288 384 288C401.7 288 416 302.3 416 320V416C416 451.3 387.3 480 352 480H64C28.65 480 0 451.3 0 416V128z"></path></svg></a>
</p>
<p>
  В первом примере используется метод модели, во втором - билдера.
  Оба варианта правильные, но второй предпочтителен, если нужно только обновить данные. Стоит отметить,
  что <b>события, при таком обновлении, не будут вызваны</b>.
</p></div></div><div class="simple-card"><div id="mass-assignment" class="anchor" data-v-6837b121></div> <h3 class="relative mb-2 inline-block text-xl sm:text-2xl text-brand-heading-light dark:text-brand-heading-dark"><a href="#mass-assignment">
      # Mass assignment
    </a> <span class="absolute ml-1 -top-3.5 right-0 sm:top-0 sm:left-full text-xs text-shadow-none select-none">
      minor
    </span></h3> <div class="nuxt-content"><p>
  Немного спорный вопрос, балансирующий между "краткостью" и "контролем".
</p>
<p>
  В первом примере заполнение полей происходит вручную и код выглядит громоздко.
</p>
<div data-fetch-key="CodeChips:17" class="relative"><div class="pre relative"><!----> <div><pre class="torchlight" style="background-color:#011627;--theme-selection-background:#4373c2" data-torchlight-processed="3449c9e5e332f1dbb81505cd739fbf3f"><code data-lang="php"><!-- Syntax highlighted by torchlight.dev --><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">1</span><span style="color:#bec5d4">$post</span><span style="color:#d6deeb"> </span><span style="color:#c792ea">=</span><span style="color:#d6deeb"> </span><span style="color:#7fdbca">new</span><span style="color:#d6deeb"> </span><span style="color:#ffcb8b">Post</span><span style="color:#d6deeb">();</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">2</span><span style="color:#bec5d4">$post</span><span style="color:#7fdbca">-></span><span style="color:#bec5d4">heading</span><span style="color:#d6deeb"> </span><span style="color:#c792ea">=</span><span style="color:#d6deeb"> </span><span style="color:#bec5d4">$request</span><span style="color:#7fdbca">-></span><span style="color:#82aaff">get</span><span style="color:#d6deeb">(</span><span style="color:#d9f5dd">'</span><span style="color:#ecc48d">heading</span><span style="color:#d9f5dd">'</span><span style="color:#d6deeb">);</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">3</span><span style="color:#bec5d4">$post</span><span style="color:#7fdbca">-></span><span style="color:#bec5d4">description</span><span style="color:#d6deeb"> </span><span style="color:#c792ea">=</span><span style="color:#d6deeb"> </span><span style="color:#bec5d4">$request</span><span style="color:#7fdbca">-></span><span style="color:#82aaff">get</span><span style="color:#d6deeb">(</span><span style="color:#d9f5dd">'</span><span style="color:#ecc48d">description</span><span style="color:#d9f5dd">'</span><span style="color:#d6deeb">);</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">4</span><span style="color:#bec5d4">$post</span><span style="color:#7fdbca">-></span><span style="color:#bec5d4">content</span><span style="color:#d6deeb"> </span><span style="color:#c792ea">=</span><span style="color:#d6deeb"> </span><span style="color:#bec5d4">$request</span><span style="color:#7fdbca">-></span><span style="color:#82aaff">get</span><span style="color:#d6deeb">(</span><span style="color:#d9f5dd">'</span><span style="color:#ecc48d">content</span><span style="color:#d9f5dd">'</span><span style="color:#d6deeb">);</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">5</span><span style="color:#bec5d4">$post</span><span style="color:#7fdbca">-></span><span style="color:#82aaff">save</span><span style="color:#d6deeb">();</span></div><textarea data-torchlight-original="true" style="display:none!important">$post = new Post();
$post->heading = $request->get('heading');
$post->description = $request->get('description');
$post->content = $request->get('content');
$post->save();
</textarea></code></pre>
</div></div> <a href="https://torchlight.dev" target="_blank" rel="nofollow noopener noreferrer" class="absolute bottom-3 sm:bottom-1 right-2 text-xs text-white dark:text-white text-opacity-20 dark:text-opacity-20 hover:text-white dark:hover:text-white hover:text-opacity-40 dark:hover:text-opacity-40 select-none">
    highlight by torchlight.dev
  </a> <button title="Copy to Clipboard" class="absolute top-1 sm:top-2 right-3 text-white dark:text-brand-secondary-dark text-opacity-20 dark:text-opacity-30 hover:text-opacity-70 dark:hover:text-opacity-70"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="clipboard" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512" class="svg-inline--fa fa-clipboard"><path fill="currentColor" d="M336 64h-53.88C268.9 26.8 233.7 0 192 0S115.1 26.8 101.9 64H48C21.5 64 0 85.48 0 112v352C0 490.5 21.5 512 48 512h288c26.5 0 48-21.48 48-48v-352C384 85.48 362.5 64 336 64zM192 64c17.67 0 32 14.33 32 32c0 17.67-14.33 32-32 32S160 113.7 160 96C160 78.33 174.3 64 192 64zM272 224h-160C103.2 224 96 216.8 96 208C96 199.2 103.2 192 112 192h160C280.8 192 288 199.2 288 208S280.8 224 272 224z"></path></svg></button></div>
<p>
  Во втором примере используется массовое заполнение и код выглядит компактно.
</p>
<div data-fetch-key="CodeChips:18" class="relative"><div class="pre relative"><!----> <div><pre class="torchlight" style="background-color:#011627;--theme-selection-background:#4373c2" data-torchlight-processed="3449c9e5e332f1dbb81505cd739fbf3f"><code data-lang="php"><!-- Syntax highlighted by torchlight.dev --><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">1</span><span style="color:#bec5d4">$post</span><span style="color:#d6deeb"> </span><span style="color:#c792ea">=</span><span style="color:#d6deeb"> </span><span style="color:#ffcb8b">Post</span><span style="color:#7fdbca">::</span><span style="color:#82aaff">create</span><span style="color:#d6deeb">(</span><span style="color:#bec5d4">$request</span><span style="color:#7fdbca">-></span><span style="color:#82aaff">validated</span><span style="color:#d6deeb">());</span></div><textarea data-torchlight-original="true" style="display:none!important">$post = Post::create($request->validated());
</textarea></code></pre>
</div></div> <a href="https://torchlight.dev" target="_blank" rel="nofollow noopener noreferrer" class="absolute bottom-3 sm:bottom-1 right-2 text-xs text-white dark:text-white text-opacity-20 dark:text-opacity-20 hover:text-white dark:hover:text-white hover:text-opacity-40 dark:hover:text-opacity-40 select-none">
    highlight by torchlight.dev
  </a> <button title="Copy to Clipboard" class="absolute top-1 sm:top-2 right-3 text-white dark:text-brand-secondary-dark text-opacity-20 dark:text-opacity-30 hover:text-opacity-70 dark:hover:text-opacity-70"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="clipboard" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512" class="svg-inline--fa fa-clipboard"><path fill="currentColor" d="M336 64h-53.88C268.9 26.8 233.7 0 192 0S115.1 26.8 101.9 64H48C21.5 64 0 85.48 0 112v352C0 490.5 21.5 512 48 512h288c26.5 0 48-21.48 48-48v-352C384 85.48 362.5 64 336 64zM192 64c17.67 0 32 14.33 32 32c0 17.67-14.33 32-32 32S160 113.7 160 96C160 78.33 174.3 64 192 64zM272 224h-160C103.2 224 96 216.8 96 208C96 199.2 103.2 192 112 192h160C280.8 192 288 199.2 288 208S280.8 224 272 224z"></path></svg></button></div>
<p>
  На практике второй вариант обычно предпочтителен,
  т.к. имеет лаконичный формат и снижает риск опечаток в именах полей.
  Требует указания <span class="bit variable">$fillable</span> в модели.
</p>
<p>
  С другой стороны, первый вариант, более явный, сразу видно какие поля сохраняются
  и удобно добавить новое, но необходимо вручную перечислять все поля.
</p>
<p>
  Можно использовать оба варианта вместе:
</p>
<div data-fetch-key="CodeChips:19" class="relative"><div class="pre relative"><!----> <div><pre class="torchlight" style="background-color:#011627;--theme-selection-background:#4373c2" data-torchlight-processed="3449c9e5e332f1dbb81505cd739fbf3f"><code data-lang="php"><!-- Syntax highlighted by torchlight.dev --><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">1</span><span style="color:#bec5d4">$post</span><span style="color:#d6deeb"> </span><span style="color:#c792ea">=</span><span style="color:#d6deeb"> </span><span style="color:#7fdbca">new</span><span style="color:#d6deeb"> </span><span style="color:#ffcb8b">Post</span><span style="color:#d6deeb">();</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">2</span><span style="color:#bec5d4">$post</span><span style="color:#7fdbca">-></span><span style="color:#82aaff">fill</span><span style="color:#d6deeb">(</span><span style="color:#bec5d4">$request</span><span style="color:#7fdbca">-></span><span style="color:#82aaff">validated</span><span style="color:#d6deeb">());</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">3</span><span style="color:#bec5d4">$post</span><span style="color:#7fdbca">-></span><span style="color:#bec5d4">user_id</span><span style="color:#d6deeb"> </span><span style="color:#c792ea">=</span><span style="color:#d6deeb"> </span><span style="color:#ffcb8b">Auth</span><span style="color:#7fdbca">::</span><span style="color:#82aaff">id</span><span style="color:#d6deeb">();</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">4</span><span style="color:#bec5d4">$post</span><span style="color:#7fdbca">-></span><span style="color:#bec5d4">active</span><span style="color:#d6deeb"> </span><span style="color:#c792ea">=</span><span style="color:#d6deeb"> </span><span style="color:#f78c6c">1</span><span style="color:#d6deeb">;</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">5</span><span style="color:#bec5d4">$post</span><span style="color:#7fdbca">-></span><span style="color:#82aaff">save</span><span style="color:#d6deeb">();</span></div><textarea data-torchlight-original="true" style="display:none!important">$post = new Post();
$post->fill($request->validated());
$post->user_id = Auth::id();
$post->active = 1;
$post->save();
</textarea></code></pre>
</div></div> <a href="https://torchlight.dev" target="_blank" rel="nofollow noopener noreferrer" class="absolute bottom-3 sm:bottom-1 right-2 text-xs text-white dark:text-white text-opacity-20 dark:text-opacity-20 hover:text-white dark:hover:text-white hover:text-opacity-40 dark:hover:text-opacity-40 select-none">
    highlight by torchlight.dev
  </a> <button title="Copy to Clipboard" class="absolute top-1 sm:top-2 right-3 text-white dark:text-brand-secondary-dark text-opacity-20 dark:text-opacity-30 hover:text-opacity-70 dark:hover:text-opacity-70"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="clipboard" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512" class="svg-inline--fa fa-clipboard"><path fill="currentColor" d="M336 64h-53.88C268.9 26.8 233.7 0 192 0S115.1 26.8 101.9 64H48C21.5 64 0 85.48 0 112v352C0 490.5 21.5 512 48 512h288c26.5 0 48-21.48 48-48v-352C384 85.48 362.5 64 336 64zM192 64c17.67 0 32 14.33 32 32c0 17.67-14.33 32-32 32S160 113.7 160 96C160 78.33 174.3 64 192 64zM272 224h-160C103.2 224 96 216.8 96 208C96 199.2 103.2 192 112 192h160C280.8 192 288 199.2 288 208S280.8 224 272 224z"></path></svg></button></div></div></div><div class="simple-card"><div id="heavy-query" class="anchor" data-v-6837b121></div> <h3 class="relative mb-2 inline-block text-xl sm:text-2xl text-brand-heading-light dark:text-brand-heading-dark"><a href="#heavy-query">
      # Тяжелые выборки
    </a> <span class="absolute ml-1 -top-3.5 right-0 sm:top-0 sm:left-full text-xs text-shadow-none select-none">
      major
    </span></h3> <div class="nuxt-content"><p>
  В первом примере код выбирает все записи из БД.
  Это хорошо работает пока в таблице пару десятков или даже сотен записей.
</p>
<div data-fetch-key="CodeChips:20" class="relative"><div class="pre relative"><div class="mb-2"><!----> <span class="text-pink-600"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="face-angry" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="mr-2 text-xl svg-inline--fa fa-face-angry"><path fill="currentColor" d="M512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256zM339.9 373.3C323.8 355.4 295.7 336 256 336C216.3 336 188.2 355.4 172.1 373.3C166.2 379.9 166.7 389.1 173.3 395.9C179.9 401.8 189.1 401.3 195.9 394.7C207.6 381.7 227.5 368 255.1 368C284.5 368 304.4 381.7 316.1 394.7C322 401.3 332.1 401.8 338.7 395.9C345.3 389.1 345.8 379.9 339.9 373.3H339.9zM176.4 272C194 272 208.4 257.7 208.4 240C208.4 238.5 208.3 237 208.1 235.6L218.9 239.2C227.3 241.1 236.4 237.4 239.2 229.1C241.1 220.7 237.4 211.6 229.1 208.8L133.1 176.8C124.7 174 115.6 178.6 112.8 186.9C110 195.3 114.6 204.4 122.9 207.2L153.7 217.4C147.9 223.2 144.4 231.2 144.4 240C144.4 257.7 158.7 272 176.4 272zM358.9 217.2L389.1 207.2C397.4 204.4 401.1 195.3 399.2 186.9C396.4 178.6 387.3 174 378.9 176.8L282.9 208.8C274.6 211.6 270 220.7 272.8 229.1C275.6 237.4 284.7 241.1 293.1 239.2L304.7 235.3C304.5 236.8 304.4 238.4 304.4 240C304.4 257.7 318.7 272 336.4 272C354 272 368.4 257.7 368.4 240C368.4 231.1 364.7 223 358.9 217.2H358.9z"></path></svg> <span class="font-normal">Bad</span></span></div> <div><pre class="torchlight" style="background-color:#011627;--theme-selection-background:#4373c2" data-torchlight-processed="3449c9e5e332f1dbb81505cd739fbf3f"><code data-lang="php"><!-- Syntax highlighted by torchlight.dev --><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">1</span><span style="color:#ffcb8b">Post</span><span style="color:#7fdbca">::</span><span style="color:#82aaff">all</span><span style="color:#d6deeb">();</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">2</span><span style="color:#637777">//</span><span style="color:#637777">or</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">3</span><span style="color:#ffcb8b">Post</span><span style="color:#7fdbca">::</span><span style="color:#82aaff">get</span><span style="color:#d6deeb">();</span></div><textarea data-torchlight-original="true" style="display:none!important">Post::all();
//or
Post::get();
</textarea></code></pre>
</div></div> <a href="https://torchlight.dev" target="_blank" rel="nofollow noopener noreferrer" class="absolute bottom-3 sm:bottom-1 right-2 text-xs text-white dark:text-white text-opacity-20 dark:text-opacity-20 hover:text-white dark:hover:text-white hover:text-opacity-40 dark:hover:text-opacity-40 select-none">
    highlight by torchlight.dev
  </a> <button title="Copy to Clipboard" class="absolute top-1 sm:top-2 right-3 text-white dark:text-brand-secondary-dark text-opacity-20 dark:text-opacity-30 hover:text-opacity-70 dark:hover:text-opacity-70"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="clipboard" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512" class="svg-inline--fa fa-clipboard"><path fill="currentColor" d="M336 64h-53.88C268.9 26.8 233.7 0 192 0S115.1 26.8 101.9 64H48C21.5 64 0 85.48 0 112v352C0 490.5 21.5 512 48 512h288c26.5 0 48-21.48 48-48v-352C384 85.48 362.5 64 336 64zM192 64c17.67 0 32 14.33 32 32c0 17.67-14.33 32-32 32S160 113.7 160 96C160 78.33 174.3 64 192 64zM272 224h-160C103.2 224 96 216.8 96 208C96 199.2 103.2 192 112 192h160C280.8 192 288 199.2 288 208S280.8 224 272 224z"></path></svg></button></div>
<p>
  Но когда количество записей в таблице заметно возрастает, то начинаются проблемы с производительностью
  и такие запросы долго выполняются и потребляют большое количество памяти.
</p>
<p>
  Поэтому рекомендуется не использовать метод <span class="bit code">all()</span>,
  а ограничивать количество записей, например, с помощью пагинации или явно указав лимит.
</p>
<div data-fetch-key="CodeChips:21" class="relative"><div class="pre relative"><div class="mb-2"><span class="text-brand-success-light dark:text-brand-success-dark"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="square-check" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="mr-2 text-xl svg-inline--fa fa-square-check"><path fill="currentColor" d="M384 32C419.3 32 448 60.65 448 96V416C448 451.3 419.3 480 384 480H64C28.65 480 0 451.3 0 416V96C0 60.65 28.65 32 64 32H384zM339.8 211.8C350.7 200.9 350.7 183.1 339.8 172.2C328.9 161.3 311.1 161.3 300.2 172.2L192 280.4L147.8 236.2C136.9 225.3 119.1 225.3 108.2 236.2C97.27 247.1 97.27 264.9 108.2 275.8L172.2 339.8C183.1 350.7 200.9 350.7 211.8 339.8L339.8 211.8z"></path></svg> <span class="font-normal">Good</span></span> <!----></div> <div><pre class="torchlight" style="background-color:#011627;--theme-selection-background:#4373c2" data-torchlight-processed="3449c9e5e332f1dbb81505cd739fbf3f"><code data-lang="php"><!-- Syntax highlighted by torchlight.dev --><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">1</span><span style="color:#ffcb8b">Post</span><span style="color:#7fdbca">::</span><span style="color:#82aaff">paginate</span><span style="color:#d6deeb">(</span><span style="color:#f78c6c">10</span><span style="color:#d6deeb">);</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">2</span><span style="color:#637777">//</span><span style="color:#637777"> or</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">3</span><span style="color:#ffcb8b">Post</span><span style="color:#7fdbca">::</span><span style="color:#82aaff">limit</span><span style="color:#d6deeb">(</span><span style="color:#f78c6c">100</span><span style="color:#d6deeb">)</span><span style="color:#7fdbca">-></span><span style="color:#82aaff">get</span><span style="color:#d6deeb">();</span></div><textarea data-torchlight-original="true" style="display:none!important">Post::paginate(10);
// or
Post::limit(100)->get();
</textarea></code></pre>
</div></div> <a href="https://torchlight.dev" target="_blank" rel="nofollow noopener noreferrer" class="absolute bottom-3 sm:bottom-1 right-2 text-xs text-white dark:text-white text-opacity-20 dark:text-opacity-20 hover:text-white dark:hover:text-white hover:text-opacity-40 dark:hover:text-opacity-40 select-none">
    highlight by torchlight.dev
  </a> <button title="Copy to Clipboard" class="absolute top-1 sm:top-2 right-3 text-white dark:text-brand-secondary-dark text-opacity-20 dark:text-opacity-30 hover:text-opacity-70 dark:hover:text-opacity-70"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="clipboard" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512" class="svg-inline--fa fa-clipboard"><path fill="currentColor" d="M336 64h-53.88C268.9 26.8 233.7 0 192 0S115.1 26.8 101.9 64H48C21.5 64 0 85.48 0 112v352C0 490.5 21.5 512 48 512h288c26.5 0 48-21.48 48-48v-352C384 85.48 362.5 64 336 64zM192 64c17.67 0 32 14.33 32 32c0 17.67-14.33 32-32 32S160 113.7 160 96C160 78.33 174.3 64 192 64zM272 224h-160C103.2 224 96 216.8 96 208C96 199.2 103.2 192 112 192h160C280.8 192 288 199.2 288 208S280.8 224 272 224z"></path></svg></button></div>
<p>
  Иногда действительно необходимо получить все записи из небольшой таблицы,
  например, цвета товара или статусы заказа. Даже в таком случае лучше перестраховаться и ограничить выборку.
</p>
<p>
  Другой вариант используется для выборки всех записей из большой таблицы, например,
  нам необходимо обработать каждую запись или экспортировать в файл.
  Для этого необходимо использовать метод <span class="bit code">chunk()</span>,
  который будет порционно доставать записи, снижая нагрузку на БД и экономя память. Подробнее можно почитать в
  <a href="https://laravel.com/docs/10.x/eloquent#chunking-results" target="_blank" rel="nofollow noopener noreferrer" class="inline-flex items-center external-link"><!----> <span>документации</span> <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="arrow-up-right-from-square" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="ml-1 w-2 text-gray-500 dark:text-gray-300 dark:text-opacity-60 svg-inline--fa fa-arrow-up-right-from-square"><path fill="currentColor" d="M256 64C256 46.33 270.3 32 288 32H415.1C415.1 32 415.1 32 415.1 32C420.3 32 424.5 32.86 428.2 34.43C431.1 35.98 435.5 38.27 438.6 41.3C438.6 41.35 438.6 41.4 438.7 41.44C444.9 47.66 447.1 55.78 448 63.9C448 63.94 448 63.97 448 64V192C448 209.7 433.7 224 416 224C398.3 224 384 209.7 384 192V141.3L214.6 310.6C202.1 323.1 181.9 323.1 169.4 310.6C156.9 298.1 156.9 277.9 169.4 265.4L338.7 96H288C270.3 96 256 81.67 256 64V64zM0 128C0 92.65 28.65 64 64 64H160C177.7 64 192 78.33 192 96C192 113.7 177.7 128 160 128H64V416H352V320C352 302.3 366.3 288 384 288C401.7 288 416 302.3 416 320V416C416 451.3 387.3 480 352 480H64C28.65 480 0 451.3 0 416V128z"></path></svg></a>
</p>
<div data-fetch-key="CodeChips:22" class="relative"><div class="pre relative"><div class="mb-2"><span class="text-brand-success-light dark:text-brand-success-dark"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="square-check" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="mr-2 text-xl svg-inline--fa fa-square-check"><path fill="currentColor" d="M384 32C419.3 32 448 60.65 448 96V416C448 451.3 419.3 480 384 480H64C28.65 480 0 451.3 0 416V96C0 60.65 28.65 32 64 32H384zM339.8 211.8C350.7 200.9 350.7 183.1 339.8 172.2C328.9 161.3 311.1 161.3 300.2 172.2L192 280.4L147.8 236.2C136.9 225.3 119.1 225.3 108.2 236.2C97.27 247.1 97.27 264.9 108.2 275.8L172.2 339.8C183.1 350.7 200.9 350.7 211.8 339.8L339.8 211.8z"></path></svg> <span class="font-normal">Good</span></span> <!----></div> <div><pre class="torchlight" style="background-color:#011627;--theme-selection-background:#4373c2" data-torchlight-processed="3449c9e5e332f1dbb81505cd739fbf3f"><code data-lang="php"><!-- Syntax highlighted by torchlight.dev --><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">1</span><span style="color:#ffcb8b">Post</span><span style="color:#7fdbca">::</span><span style="color:#82aaff">chunk</span><span style="color:#d6deeb">(</span><span style="color:#f78c6c">100</span><span style="color:#d6deeb">, </span><span style="color:#c792ea">static</span><span style="color:#d6deeb"> </span><span style="color:#c792ea">function</span><span style="color:#d6deeb"> </span><span style="color:#d9f5dd">(</span><span style="color:#bec5d4">$posts</span><span style="color:#d9f5dd">)</span><span style="color:#d6deeb"> {</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">2</span><span style="color:#d6deeb">  </span><span style="color:#637777">//</span><span style="color:#637777"> Process the records</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">3</span><span style="color:#d6deeb">  </span><span style="color:#637777">//</span><span style="color:#637777"> $posts->each(...);</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">4</span><span style="color:#d6deeb">});</span></div><textarea data-torchlight-original="true" style="display:none!important">Post::chunk(100, static function ($posts) {
  // Process the records
  // $posts->each(...);
});
</textarea></code></pre>
</div></div> <a href="https://torchlight.dev" target="_blank" rel="nofollow noopener noreferrer" class="absolute bottom-3 sm:bottom-1 right-2 text-xs text-white dark:text-white text-opacity-20 dark:text-opacity-20 hover:text-white dark:hover:text-white hover:text-opacity-40 dark:hover:text-opacity-40 select-none">
    highlight by torchlight.dev
  </a> <button title="Copy to Clipboard" class="absolute top-1 sm:top-2 right-3 text-white dark:text-brand-secondary-dark text-opacity-20 dark:text-opacity-30 hover:text-opacity-70 dark:hover:text-opacity-70"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="clipboard" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512" class="svg-inline--fa fa-clipboard"><path fill="currentColor" d="M336 64h-53.88C268.9 26.8 233.7 0 192 0S115.1 26.8 101.9 64H48C21.5 64 0 85.48 0 112v352C0 490.5 21.5 512 48 512h288c26.5 0 48-21.48 48-48v-352C384 85.48 362.5 64 336 64zM192 64c17.67 0 32 14.33 32 32c0 17.67-14.33 32-32 32S160 113.7 160 96C160 78.33 174.3 64 192 64zM272 224h-160C103.2 224 96 216.8 96 208C96 199.2 103.2 192 112 192h160C280.8 192 288 199.2 288 208S280.8 224 272 224z"></path></svg></button></div></div></div><div class="simple-card"><div id="filter-collection" class="anchor" data-v-6837b121></div> <h3 class="relative mb-2 inline-block text-xl sm:text-2xl text-brand-heading-light dark:text-brand-heading-dark"><a href="#filter-collection">
      # Делегирование выборки на коллекции
    </a> <!----></h3> <div class="nuxt-content"><p>
  Популярная ошибка у новичков, которые не задумываются как работает их код, а смотрят лишь на результат.
  Оба примера ниже дают одинаковый результат, но работают с разной эффективностью.
</p>
<div data-fetch-key="CodeChips:23" class="relative"><div class="pre relative"><div class="mb-2"><!----> <span class="text-pink-600"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="face-angry" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="mr-2 text-xl svg-inline--fa fa-face-angry"><path fill="currentColor" d="M512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256zM339.9 373.3C323.8 355.4 295.7 336 256 336C216.3 336 188.2 355.4 172.1 373.3C166.2 379.9 166.7 389.1 173.3 395.9C179.9 401.8 189.1 401.3 195.9 394.7C207.6 381.7 227.5 368 255.1 368C284.5 368 304.4 381.7 316.1 394.7C322 401.3 332.1 401.8 338.7 395.9C345.3 389.1 345.8 379.9 339.9 373.3H339.9zM176.4 272C194 272 208.4 257.7 208.4 240C208.4 238.5 208.3 237 208.1 235.6L218.9 239.2C227.3 241.1 236.4 237.4 239.2 229.1C241.1 220.7 237.4 211.6 229.1 208.8L133.1 176.8C124.7 174 115.6 178.6 112.8 186.9C110 195.3 114.6 204.4 122.9 207.2L153.7 217.4C147.9 223.2 144.4 231.2 144.4 240C144.4 257.7 158.7 272 176.4 272zM358.9 217.2L389.1 207.2C397.4 204.4 401.1 195.3 399.2 186.9C396.4 178.6 387.3 174 378.9 176.8L282.9 208.8C274.6 211.6 270 220.7 272.8 229.1C275.6 237.4 284.7 241.1 293.1 239.2L304.7 235.3C304.5 236.8 304.4 238.4 304.4 240C304.4 257.7 318.7 272 336.4 272C354 272 368.4 257.7 368.4 240C368.4 231.1 364.7 223 358.9 217.2H358.9z"></path></svg> <span class="font-normal">Bad</span></span></div> <div><pre class="torchlight" style="background-color:#011627;--theme-selection-background:#4373c2" data-torchlight-processed="3449c9e5e332f1dbb81505cd739fbf3f"><code data-lang="php"><!-- Syntax highlighted by torchlight.dev --><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">1</span><span style="color:#ffcb8b">Post</span><span style="color:#7fdbca">::</span><span style="color:#82aaff">get</span><span style="color:#d6deeb">()</span><span style="color:#7fdbca">-></span><span style="color:#82aaff">where</span><span style="color:#d6deeb">(</span><span style="color:#d9f5dd">'</span><span style="color:#ecc48d">user_id</span><span style="color:#d9f5dd">'</span><span style="color:#d6deeb">, </span><span style="color:#ffcb8b">Auth</span><span style="color:#7fdbca">::</span><span style="color:#82aaff">id</span><span style="color:#d6deeb">());</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">2</span><span style="color:#637777">//</span><span style="color:#637777"> or</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">3</span><span style="color:#ffcb8b">Post</span><span style="color:#7fdbca">::</span><span style="color:#82aaff">get</span><span style="color:#d6deeb">()</span><span style="color:#7fdbca">-></span><span style="color:#82aaff">sortBy</span><span style="color:#d6deeb">(</span><span style="color:#d9f5dd">'</span><span style="color:#ecc48d">created_at</span><span style="color:#d9f5dd">'</span><span style="color:#d6deeb">);</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">4</span><span style="color:#637777">//</span><span style="color:#637777"> or</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">5</span><span style="color:#ffcb8b">Post</span><span style="color:#7fdbca">::</span><span style="color:#82aaff">get</span><span style="color:#d6deeb">()</span><span style="color:#7fdbca">-></span><span style="color:#82aaff">first</span><span style="color:#d6deeb">();</span></div><textarea data-torchlight-original="true" style="display:none!important">Post::get()->where('user_id', Auth::id());
// or
Post::get()->sortBy('created_at');
// or
Post::get()->first();
</textarea></code></pre>
</div></div> <a href="https://torchlight.dev" target="_blank" rel="nofollow noopener noreferrer" class="absolute bottom-3 sm:bottom-1 right-2 text-xs text-white dark:text-white text-opacity-20 dark:text-opacity-20 hover:text-white dark:hover:text-white hover:text-opacity-40 dark:hover:text-opacity-40 select-none">
    highlight by torchlight.dev
  </a> <button title="Copy to Clipboard" class="absolute top-1 sm:top-2 right-3 text-white dark:text-brand-secondary-dark text-opacity-20 dark:text-opacity-30 hover:text-opacity-70 dark:hover:text-opacity-70"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="clipboard" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512" class="svg-inline--fa fa-clipboard"><path fill="currentColor" d="M336 64h-53.88C268.9 26.8 233.7 0 192 0S115.1 26.8 101.9 64H48C21.5 64 0 85.48 0 112v352C0 490.5 21.5 512 48 512h288c26.5 0 48-21.48 48-48v-352C384 85.48 362.5 64 336 64zM192 64c17.67 0 32 14.33 32 32c0 17.67-14.33 32-32 32S160 113.7 160 96C160 78.33 174.3 64 192 64zM272 224h-160C103.2 224 96 216.8 96 208C96 199.2 103.2 192 112 192h160C280.8 192 288 199.2 288 208S280.8 224 272 224z"></path></svg></button></div>
<p>
  В первом случае, всё что после методов <span class="bit code">get()</span>
  или <span class="bit code">all()</span> является коллекцией моделей. Запрос к БД уже выполнен.
  Т.е. выбираются все записи из таблицы и затем на уровне php фильтруется/сортируется коллекция.
</p>
<p>
  Правильный вариант - выбирать запросом <b>только необходимые записи</b>
  и сортировать их на уровне БД.
</p>
<div data-fetch-key="CodeChips:24" class="relative"><div class="pre relative"><div class="mb-2"><span class="text-brand-success-light dark:text-brand-success-dark"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="square-check" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="mr-2 text-xl svg-inline--fa fa-square-check"><path fill="currentColor" d="M384 32C419.3 32 448 60.65 448 96V416C448 451.3 419.3 480 384 480H64C28.65 480 0 451.3 0 416V96C0 60.65 28.65 32 64 32H384zM339.8 211.8C350.7 200.9 350.7 183.1 339.8 172.2C328.9 161.3 311.1 161.3 300.2 172.2L192 280.4L147.8 236.2C136.9 225.3 119.1 225.3 108.2 236.2C97.27 247.1 97.27 264.9 108.2 275.8L172.2 339.8C183.1 350.7 200.9 350.7 211.8 339.8L339.8 211.8z"></path></svg> <span class="font-normal">Good</span></span> <!----></div> <div><pre class="torchlight" style="background-color:#011627;--theme-selection-background:#4373c2" data-torchlight-processed="3449c9e5e332f1dbb81505cd739fbf3f"><code data-lang="php"><!-- Syntax highlighted by torchlight.dev --><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">1</span><span style="color:#ffcb8b">Post</span><span style="color:#7fdbca">::</span><span style="color:#82aaff">where</span><span style="color:#d6deeb">(</span><span style="color:#d9f5dd">'</span><span style="color:#ecc48d">user_id</span><span style="color:#d9f5dd">'</span><span style="color:#d6deeb">, </span><span style="color:#ffcb8b">Auth</span><span style="color:#7fdbca">::</span><span style="color:#82aaff">id</span><span style="color:#d6deeb">())</span><span style="color:#7fdbca">-></span><span style="color:#82aaff">get</span><span style="color:#d6deeb">();</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">2</span><span style="color:#637777">//</span><span style="color:#637777"> or</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">3</span><span style="color:#ffcb8b">Post</span><span style="color:#7fdbca">::</span><span style="color:#82aaff">orderBy</span><span style="color:#d6deeb">(</span><span style="color:#d9f5dd">'</span><span style="color:#ecc48d">created_at</span><span style="color:#d9f5dd">'</span><span style="color:#d6deeb">)</span><span style="color:#7fdbca">-></span><span style="color:#82aaff">get</span><span style="color:#d6deeb">();</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">4</span><span style="color:#637777">//</span><span style="color:#637777"> or</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">5</span><span style="color:#ffcb8b">Post</span><span style="color:#7fdbca">::</span><span style="color:#82aaff">first</span><span style="color:#d6deeb">();</span></div><textarea data-torchlight-original="true" style="display:none!important">Post::where('user_id', Auth::id())->get();
// or
Post::orderBy('created_at')->get();
// or
Post::first();
</textarea></code></pre>
</div></div> <a href="https://torchlight.dev" target="_blank" rel="nofollow noopener noreferrer" class="absolute bottom-3 sm:bottom-1 right-2 text-xs text-white dark:text-white text-opacity-20 dark:text-opacity-20 hover:text-white dark:hover:text-white hover:text-opacity-40 dark:hover:text-opacity-40 select-none">
    highlight by torchlight.dev
  </a> <button title="Copy to Clipboard" class="absolute top-1 sm:top-2 right-3 text-white dark:text-brand-secondary-dark text-opacity-20 dark:text-opacity-30 hover:text-opacity-70 dark:hover:text-opacity-70"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="clipboard" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512" class="svg-inline--fa fa-clipboard"><path fill="currentColor" d="M336 64h-53.88C268.9 26.8 233.7 0 192 0S115.1 26.8 101.9 64H48C21.5 64 0 85.48 0 112v352C0 490.5 21.5 512 48 512h288c26.5 0 48-21.48 48-48v-352C384 85.48 362.5 64 336 64zM192 64c17.67 0 32 14.33 32 32c0 17.67-14.33 32-32 32S160 113.7 160 96C160 78.33 174.3 64 192 64zM272 224h-160C103.2 224 96 216.8 96 208C96 199.2 103.2 192 112 192h160C280.8 192 288 199.2 288 208S280.8 224 272 224z"></path></svg></button></div>
<p>
  Всё, что можно сделать на уровне БД, то лучше делать там, т.к. СУБД имеет оптимизированные алгоритмы для таких задач.
  Редкие кейсы со сложными сортировками и группировками,
  которые не позволяет сделать СУБД, можно выполнять на уровне коллекций или массивов в php.
</p></div></div><div class="simple-card"><div id="hardcode" class="anchor" data-v-6837b121></div> <h3 class="relative mb-2 inline-block text-xl sm:text-2xl text-brand-heading-light dark:text-brand-heading-dark"><a href="#hardcode">
      # Хардкод
    </a> <!----></h3> <div class="nuxt-content"><p>Избегай использования жёстко заданных значений прямо в коде.</p>
<div data-fetch-key="CodeChips:25" class="relative"><div class="pre relative"><div class="mb-2"><!----> <span class="text-pink-600"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="face-angry" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="mr-2 text-xl svg-inline--fa fa-face-angry"><path fill="currentColor" d="M512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256zM339.9 373.3C323.8 355.4 295.7 336 256 336C216.3 336 188.2 355.4 172.1 373.3C166.2 379.9 166.7 389.1 173.3 395.9C179.9 401.8 189.1 401.3 195.9 394.7C207.6 381.7 227.5 368 255.1 368C284.5 368 304.4 381.7 316.1 394.7C322 401.3 332.1 401.8 338.7 395.9C345.3 389.1 345.8 379.9 339.9 373.3H339.9zM176.4 272C194 272 208.4 257.7 208.4 240C208.4 238.5 208.3 237 208.1 235.6L218.9 239.2C227.3 241.1 236.4 237.4 239.2 229.1C241.1 220.7 237.4 211.6 229.1 208.8L133.1 176.8C124.7 174 115.6 178.6 112.8 186.9C110 195.3 114.6 204.4 122.9 207.2L153.7 217.4C147.9 223.2 144.4 231.2 144.4 240C144.4 257.7 158.7 272 176.4 272zM358.9 217.2L389.1 207.2C397.4 204.4 401.1 195.3 399.2 186.9C396.4 178.6 387.3 174 378.9 176.8L282.9 208.8C274.6 211.6 270 220.7 272.8 229.1C275.6 237.4 284.7 241.1 293.1 239.2L304.7 235.3C304.5 236.8 304.4 238.4 304.4 240C304.4 257.7 318.7 272 336.4 272C354 272 368.4 257.7 368.4 240C368.4 231.1 364.7 223 358.9 217.2H358.9z"></path></svg> <span class="font-normal">Bad</span></span></div> <div><pre class="torchlight" style="background-color:#011627;--theme-selection-background:#4373c2" data-torchlight-processed="3449c9e5e332f1dbb81505cd739fbf3f"><code data-lang="php"><!-- Syntax highlighted by torchlight.dev --><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">1</span><span style="color:#c792ea">public</span><span style="color:#d6deeb"> </span><span style="color:#c792ea">function</span><span style="color:#d6deeb"> </span><span style="color:#82aaff">update</span><span style="color:#d9f5dd">(</span><span style="color:#ffcb8b">Post</span><span style="color:#d6deeb"> </span><span style="color:#bec5d4">$post</span><span style="color:#d9f5dd">)</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">2</span><span style="color:#d6deeb">{</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">3</span><span style="color:#d6deeb">    </span><span style="color:#bec5d4">$post</span><span style="color:#7fdbca">-></span><span style="color:#bec5d4">status</span><span style="color:#d6deeb"> </span><span style="color:#c792ea">=</span><span style="color:#d6deeb"> </span><span style="color:#d9f5dd">'</span><span style="color:#ecc48d">updated</span><span style="color:#d9f5dd">'</span><span style="color:#d6deeb">;</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">4</span> </div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">5</span><span style="color:#d6deeb">    </span><span style="color:#ffcb8b">Mail</span><span style="color:#7fdbca">::</span><span style="color:#82aaff">to</span><span style="color:#d6deeb">(</span><span style="color:#d9f5dd">'</span><span style="color:#ecc48d">admin@localhost</span><span style="color:#d9f5dd">'</span><span style="color:#d6deeb">)</span><span style="color:#7fdbca">-></span><span style="color:#82aaff">send</span><span style="color:#d6deeb">();</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">6</span> </div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">7</span><span style="color:#d6deeb">    </span><span style="color:#c792ea">return</span><span style="color:#d6deeb"> </span><span style="color:#82aaff">redirect</span><span style="color:#d6deeb">()</span><span style="color:#7fdbca">-></span><span style="color:#82aaff">withSuccess</span><span style="color:#d6deeb">(</span><span style="color:#d9f5dd">'</span><span style="color:#ecc48d">Post successfully updated</span><span style="color:#d9f5dd">'</span><span style="color:#d6deeb">);</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">8</span><span style="color:#d6deeb">}</span></div><textarea data-torchlight-original="true" style="display:none!important">public function update(Post $post)
{
    $post->status = 'updated';

    Mail::to('admin@localhost')->send();

    return redirect()->withSuccess('Post successfully updated');
}
</textarea></code></pre>
</div></div> <a href="https://torchlight.dev" target="_blank" rel="nofollow noopener noreferrer" class="absolute bottom-3 sm:bottom-1 right-2 text-xs text-white dark:text-white text-opacity-20 dark:text-opacity-20 hover:text-white dark:hover:text-white hover:text-opacity-40 dark:hover:text-opacity-40 select-none">
    highlight by torchlight.dev
  </a> <button title="Copy to Clipboard" class="absolute top-1 sm:top-2 right-3 text-white dark:text-brand-secondary-dark text-opacity-20 dark:text-opacity-30 hover:text-opacity-70 dark:hover:text-opacity-70"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="clipboard" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512" class="svg-inline--fa fa-clipboard"><path fill="currentColor" d="M336 64h-53.88C268.9 26.8 233.7 0 192 0S115.1 26.8 101.9 64H48C21.5 64 0 85.48 0 112v352C0 490.5 21.5 512 48 512h288c26.5 0 48-21.48 48-48v-352C384 85.48 362.5 64 336 64zM192 64c17.67 0 32 14.33 32 32c0 17.67-14.33 32-32 32S160 113.7 160 96C160 78.33 174.3 64 192 64zM272 224h-160C103.2 224 96 216.8 96 208C96 199.2 103.2 192 112 192h160C280.8 192 288 199.2 288 208S280.8 224 272 224z"></path></svg></button></div>
<p>
  Выноси значения в конфиги, переводы, константы и базу данных.
</p>
<div data-fetch-key="CodeChips:26" class="relative"><div class="pre relative"><div class="mb-2"><span class="text-brand-success-light dark:text-brand-success-dark"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="square-check" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="mr-2 text-xl svg-inline--fa fa-square-check"><path fill="currentColor" d="M384 32C419.3 32 448 60.65 448 96V416C448 451.3 419.3 480 384 480H64C28.65 480 0 451.3 0 416V96C0 60.65 28.65 32 64 32H384zM339.8 211.8C350.7 200.9 350.7 183.1 339.8 172.2C328.9 161.3 311.1 161.3 300.2 172.2L192 280.4L147.8 236.2C136.9 225.3 119.1 225.3 108.2 236.2C97.27 247.1 97.27 264.9 108.2 275.8L172.2 339.8C183.1 350.7 200.9 350.7 211.8 339.8L339.8 211.8z"></path></svg> <span class="font-normal">Good</span></span> <!----></div> <div><pre class="torchlight" style="background-color:#011627;--theme-selection-background:#4373c2" data-torchlight-processed="3449c9e5e332f1dbb81505cd739fbf3f"><code data-lang="php"><!-- Syntax highlighted by torchlight.dev --><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">1</span><span style="color:#c792ea">public</span><span style="color:#d6deeb"> </span><span style="color:#c792ea">function</span><span style="color:#d6deeb"> </span><span style="color:#82aaff">update</span><span style="color:#d9f5dd">(</span><span style="color:#ffcb8b">Post</span><span style="color:#d6deeb"> </span><span style="color:#bec5d4">$post</span><span style="color:#d9f5dd">)</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">2</span><span style="color:#d6deeb">{</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">3</span><span style="color:#d6deeb">    </span><span style="color:#bec5d4">$post</span><span style="color:#7fdbca">-></span><span style="color:#bec5d4">status</span><span style="color:#d6deeb"> </span><span style="color:#c792ea">=</span><span style="color:#d6deeb"> </span><span style="color:#ffcb8b">Post</span><span style="color:#7fdbca">::</span><span style="color:#82aaff">STATUS_UPDATED</span><span style="color:#d6deeb">;</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">4</span> </div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">5</span><span style="color:#d6deeb">    </span><span style="color:#ffcb8b">Mail</span><span style="color:#7fdbca">::</span><span style="color:#82aaff">to</span><span style="color:#d6deeb">(</span><span style="color:#82aaff">config</span><span style="color:#d6deeb">(</span><span style="color:#d9f5dd">'</span><span style="color:#ecc48d">mail.to.admin</span><span style="color:#d9f5dd">'</span><span style="color:#d6deeb">))</span><span style="color:#7fdbca">-></span><span style="color:#82aaff">send</span><span style="color:#d6deeb">();</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">6</span> </div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">7</span><span style="color:#d6deeb">    </span><span style="color:#c792ea">return</span><span style="color:#d6deeb"> </span><span style="color:#82aaff">redirect</span><span style="color:#d6deeb">()</span><span style="color:#7fdbca">-></span><span style="color:#82aaff">withSuccess</span><span style="color:#d6deeb">(</span><span style="color:#82aaff">__</span><span style="color:#d6deeb">(</span><span style="color:#d9f5dd">'</span><span style="color:#ecc48d">messages.post_updated</span><span style="color:#d9f5dd">'</span><span style="color:#d6deeb">));</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">8</span><span style="color:#d6deeb">}</span></div><textarea data-torchlight-original="true" style="display:none!important">public function update(Post $post)
{
    $post->status = Post::STATUS_UPDATED;

    Mail::to(config('mail.to.admin'))->send();

    return redirect()->withSuccess(__('messages.post_updated'));
}
</textarea></code></pre>
</div></div> <a href="https://torchlight.dev" target="_blank" rel="nofollow noopener noreferrer" class="absolute bottom-3 sm:bottom-1 right-2 text-xs text-white dark:text-white text-opacity-20 dark:text-opacity-20 hover:text-white dark:hover:text-white hover:text-opacity-40 dark:hover:text-opacity-40 select-none">
    highlight by torchlight.dev
  </a> <button title="Copy to Clipboard" class="absolute top-1 sm:top-2 right-3 text-white dark:text-brand-secondary-dark text-opacity-20 dark:text-opacity-30 hover:text-opacity-70 dark:hover:text-opacity-70"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="clipboard" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512" class="svg-inline--fa fa-clipboard"><path fill="currentColor" d="M336 64h-53.88C268.9 26.8 233.7 0 192 0S115.1 26.8 101.9 64H48C21.5 64 0 85.48 0 112v352C0 490.5 21.5 512 48 512h288c26.5 0 48-21.48 48-48v-352C384 85.48 362.5 64 336 64zM192 64c17.67 0 32 14.33 32 32c0 17.67-14.33 32-32 32S160 113.7 160 96C160 78.33 174.3 64 192 64zM272 224h-160C103.2 224 96 216.8 96 208C96 199.2 103.2 192 112 192h160C280.8 192 288 199.2 288 208S280.8 224 272 224z"></path></svg></button></div></div></div><div class="simple-card"><div id="unnamed-routes" class="anchor" data-v-6837b121></div> <h3 class="relative mb-2 inline-block text-xl sm:text-2xl text-brand-heading-light dark:text-brand-heading-dark"><a href="#unnamed-routes">
      # Безымянные маршруты
    </a> <!----></h3> <div class="nuxt-content"><p>
  Данный пункт так же относится к hardcode. Безымянные маршруты приводят к тому, 
  что по проекту появляются жёстко заданные пути и при изменении приходится перебирать весь проект в поисках мест, 
  где использовались адреса.
</p>
<div data-fetch-key="CodeChips:27" class="relative"><div class="pre relative"><div class="mb-2"><!----> <span class="text-pink-600"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="face-angry" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="mr-2 text-xl svg-inline--fa fa-face-angry"><path fill="currentColor" d="M512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256zM339.9 373.3C323.8 355.4 295.7 336 256 336C216.3 336 188.2 355.4 172.1 373.3C166.2 379.9 166.7 389.1 173.3 395.9C179.9 401.8 189.1 401.3 195.9 394.7C207.6 381.7 227.5 368 255.1 368C284.5 368 304.4 381.7 316.1 394.7C322 401.3 332.1 401.8 338.7 395.9C345.3 389.1 345.8 379.9 339.9 373.3H339.9zM176.4 272C194 272 208.4 257.7 208.4 240C208.4 238.5 208.3 237 208.1 235.6L218.9 239.2C227.3 241.1 236.4 237.4 239.2 229.1C241.1 220.7 237.4 211.6 229.1 208.8L133.1 176.8C124.7 174 115.6 178.6 112.8 186.9C110 195.3 114.6 204.4 122.9 207.2L153.7 217.4C147.9 223.2 144.4 231.2 144.4 240C144.4 257.7 158.7 272 176.4 272zM358.9 217.2L389.1 207.2C397.4 204.4 401.1 195.3 399.2 186.9C396.4 178.6 387.3 174 378.9 176.8L282.9 208.8C274.6 211.6 270 220.7 272.8 229.1C275.6 237.4 284.7 241.1 293.1 239.2L304.7 235.3C304.5 236.8 304.4 238.4 304.4 240C304.4 257.7 318.7 272 336.4 272C354 272 368.4 257.7 368.4 240C368.4 231.1 364.7 223 358.9 217.2H358.9z"></path></svg> <span class="font-normal">Bad</span></span></div> <div><pre class="torchlight" style="background-color:#011627;--theme-selection-background:#4373c2" data-torchlight-processed="3449c9e5e332f1dbb81505cd739fbf3f"><code data-lang="php"><!-- Syntax highlighted by torchlight.dev --><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">1</span><span style="color:#ffcb8b">Route</span><span style="color:#7fdbca">::</span><span style="color:#82aaff">get</span><span style="color:#d6deeb">(</span><span style="color:#d9f5dd">'</span><span style="color:#ecc48d">users</span><span style="color:#d9f5dd">'</span><span style="color:#d6deeb">, [</span><span style="color:#ffcb8b">UserController</span><span style="color:#7fdbca">::</span><span style="color:#c792ea">class</span><span style="color:#d6deeb">, </span><span style="color:#d9f5dd">'</span><span style="color:#ecc48d">index</span><span style="color:#d9f5dd">'</span><span style="color:#d6deeb">]);</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">2</span> </div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">3</span><span style="color:#ffcb8b">Route</span><span style="color:#7fdbca">::</span><span style="color:#82aaff">prefix</span><span style="color:#d6deeb">(</span><span style="color:#d9f5dd">'</span><span style="color:#ecc48d">profile</span><span style="color:#d9f5dd">'</span><span style="color:#d6deeb">)</span><span style="color:#7fdbca">-></span><span style="color:#82aaff">group</span><span style="color:#d6deeb">(</span><span style="color:#c792ea">static</span><span style="color:#d6deeb"> </span><span style="color:#c792ea">function</span><span style="color:#d6deeb"> </span><span style="color:#d9f5dd">()</span><span style="color:#d6deeb"> {</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">4</span><span style="color:#d6deeb">  </span><span style="color:#ffcb8b">Route</span><span style="color:#7fdbca">::</span><span style="color:#82aaff">get</span><span style="color:#d6deeb">(</span><span style="color:#d9f5dd">'</span><span style="color:#ecc48d">show</span><span style="color:#d9f5dd">'</span><span style="color:#d6deeb">, [</span><span style="color:#ffcb8b">ProfileController</span><span style="color:#7fdbca">::</span><span style="color:#c792ea">class</span><span style="color:#d6deeb">, </span><span style="color:#d9f5dd">'</span><span style="color:#ecc48d">show</span><span style="color:#d9f5dd">'</span><span style="color:#d6deeb">]);</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">5</span><span style="color:#d6deeb">});</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">6</span><span style="color:#d6deeb">  </span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">7</span><span style="color:#bec5d4">$link</span><span style="color:#d6deeb"> </span><span style="color:#c792ea">=</span><span style="color:#d6deeb"> </span><span style="color:#82aaff">url</span><span style="color:#d6deeb">(</span><span style="color:#d9f5dd">'</span><span style="color:#ecc48d">/profile/show</span><span style="color:#d9f5dd">'</span><span style="color:#d6deeb">); </span><span style="color:#637777">//</span><span style="color:#637777"> hardcoded path</span></div><textarea data-torchlight-original="true" style="display:none!important">Route::get('users', [UserController::class, 'index']);

Route::prefix('profile')->group(static function () {
  Route::get('show', [ProfileController::class, 'show']);
});
  
$link = url('/profile/show'); // hardcoded path
</textarea></code></pre>
</div></div> <a href="https://torchlight.dev" target="_blank" rel="nofollow noopener noreferrer" class="absolute bottom-3 sm:bottom-1 right-2 text-xs text-white dark:text-white text-opacity-20 dark:text-opacity-20 hover:text-white dark:hover:text-white hover:text-opacity-40 dark:hover:text-opacity-40 select-none">
    highlight by torchlight.dev
  </a> <button title="Copy to Clipboard" class="absolute top-1 sm:top-2 right-3 text-white dark:text-brand-secondary-dark text-opacity-20 dark:text-opacity-30 hover:text-opacity-70 dark:hover:text-opacity-70"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="clipboard" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512" class="svg-inline--fa fa-clipboard"><path fill="currentColor" d="M336 64h-53.88C268.9 26.8 233.7 0 192 0S115.1 26.8 101.9 64H48C21.5 64 0 85.48 0 112v352C0 490.5 21.5 512 48 512h288c26.5 0 48-21.48 48-48v-352C384 85.48 362.5 64 336 64zM192 64c17.67 0 32 14.33 32 32c0 17.67-14.33 32-32 32S160 113.7 160 96C160 78.33 174.3 64 192 64zM272 224h-160C103.2 224 96 216.8 96 208C96 199.2 103.2 192 112 192h160C280.8 192 288 199.2 288 208S280.8 224 272 224z"></path></svg></button></div>
<div data-fetch-key="CodeChips:28" class="relative"><div class="pre relative"><div class="mb-2"><span class="text-brand-success-light dark:text-brand-success-dark"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="square-check" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="mr-2 text-xl svg-inline--fa fa-square-check"><path fill="currentColor" d="M384 32C419.3 32 448 60.65 448 96V416C448 451.3 419.3 480 384 480H64C28.65 480 0 451.3 0 416V96C0 60.65 28.65 32 64 32H384zM339.8 211.8C350.7 200.9 350.7 183.1 339.8 172.2C328.9 161.3 311.1 161.3 300.2 172.2L192 280.4L147.8 236.2C136.9 225.3 119.1 225.3 108.2 236.2C97.27 247.1 97.27 264.9 108.2 275.8L172.2 339.8C183.1 350.7 200.9 350.7 211.8 339.8L339.8 211.8z"></path></svg> <span class="font-normal">Good</span></span> <!----></div> <div><pre class="torchlight" style="background-color:#011627;--theme-selection-background:#4373c2" data-torchlight-processed="3449c9e5e332f1dbb81505cd739fbf3f"><code data-lang="php"><!-- Syntax highlighted by torchlight.dev --><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">1</span><span style="color:#ffcb8b">Route</span><span style="color:#7fdbca">::</span><span style="color:#82aaff">get</span><span style="color:#d6deeb">(</span><span style="color:#d9f5dd">'</span><span style="color:#ecc48d">users</span><span style="color:#d9f5dd">'</span><span style="color:#d6deeb">, [</span><span style="color:#ffcb8b">UserController</span><span style="color:#7fdbca">::</span><span style="color:#c792ea">class</span><span style="color:#d6deeb">, </span><span style="color:#d9f5dd">'</span><span style="color:#ecc48d">index</span><span style="color:#d9f5dd">'</span><span style="color:#d6deeb">])</span><span style="color:#7fdbca">-></span><span style="color:#82aaff">name</span><span style="color:#d6deeb">(</span><span style="color:#d9f5dd">'</span><span style="color:#ecc48d">users.index</span><span style="color:#d9f5dd">'</span><span style="color:#d6deeb">);</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">2</span><span style="color:#d6deeb">  </span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">3</span><span style="color:#ffcb8b">Route</span><span style="color:#7fdbca">::</span><span style="color:#82aaff">prefix</span><span style="color:#d6deeb">(</span><span style="color:#d9f5dd">'</span><span style="color:#ecc48d">profile</span><span style="color:#d9f5dd">'</span><span style="color:#d6deeb">)</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">4</span><span style="color:#d6deeb">  </span><span style="color:#7fdbca">-></span><span style="color:#82aaff">as</span><span style="color:#d6deeb">(</span><span style="color:#d9f5dd">'</span><span style="color:#ecc48d">profile.</span><span style="color:#d9f5dd">'</span><span style="color:#d6deeb">)</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">5</span><span style="color:#d6deeb">  </span><span style="color:#7fdbca">-></span><span style="color:#82aaff">group</span><span style="color:#d6deeb">(</span><span style="color:#c792ea">static</span><span style="color:#d6deeb"> </span><span style="color:#c792ea">function</span><span style="color:#d6deeb"> </span><span style="color:#d9f5dd">()</span><span style="color:#d6deeb"> {</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">6</span><span style="color:#d6deeb">    </span><span style="color:#ffcb8b">Route</span><span style="color:#7fdbca">::</span><span style="color:#82aaff">get</span><span style="color:#d6deeb">(</span><span style="color:#d9f5dd">'</span><span style="color:#ecc48d">show</span><span style="color:#d9f5dd">'</span><span style="color:#d6deeb">, [</span><span style="color:#ffcb8b">ProfileController</span><span style="color:#7fdbca">::</span><span style="color:#c792ea">class</span><span style="color:#d6deeb">, </span><span style="color:#d9f5dd">'</span><span style="color:#ecc48d">show</span><span style="color:#d9f5dd">'</span><span style="color:#d6deeb">])</span><span style="color:#7fdbca">-></span><span style="color:#82aaff">name</span><span style="color:#d6deeb">(</span><span style="color:#d9f5dd">'</span><span style="color:#ecc48d">show</span><span style="color:#d9f5dd">'</span><span style="color:#d6deeb">);</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">7</span><span style="color:#d6deeb">});</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">8</span><span style="color:#d6deeb">  </span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">9</span><span style="color:#bec5d4">$link</span><span style="color:#d6deeb"> </span><span style="color:#c792ea">=</span><span style="color:#d6deeb"> </span><span style="color:#82aaff">route</span><span style="color:#d6deeb">(</span><span style="color:#d9f5dd">'</span><span style="color:#ecc48d">profile.show</span><span style="color:#d9f5dd">'</span><span style="color:#d6deeb">);</span></div><textarea data-torchlight-original="true" style="display:none!important">Route::get('users', [UserController::class, 'index'])->name('users.index');
  
Route::prefix('profile')
  ->as('profile.')
  ->group(static function () {
    Route::get('show', [ProfileController::class, 'show'])->name('show');
});
  
$link = route('profile.show');
</textarea></code></pre>
</div></div> <a href="https://torchlight.dev" target="_blank" rel="nofollow noopener noreferrer" class="absolute bottom-3 sm:bottom-1 right-2 text-xs text-white dark:text-white text-opacity-20 dark:text-opacity-20 hover:text-white dark:hover:text-white hover:text-opacity-40 dark:hover:text-opacity-40 select-none">
    highlight by torchlight.dev
  </a> <button title="Copy to Clipboard" class="absolute top-1 sm:top-2 right-3 text-white dark:text-brand-secondary-dark text-opacity-20 dark:text-opacity-30 hover:text-opacity-70 dark:hover:text-opacity-70"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="clipboard" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512" class="svg-inline--fa fa-clipboard"><path fill="currentColor" d="M336 64h-53.88C268.9 26.8 233.7 0 192 0S115.1 26.8 101.9 64H48C21.5 64 0 85.48 0 112v352C0 490.5 21.5 512 48 512h288c26.5 0 48-21.48 48-48v-352C384 85.48 362.5 64 336 64zM192 64c17.67 0 32 14.33 32 32c0 17.67-14.33 32-32 32S160 113.7 160 96C160 78.33 174.3 64 192 64zM272 224h-160C103.2 224 96 216.8 96 208C96 199.2 103.2 192 112 192h160C280.8 192 288 199.2 288 208S280.8 224 272 224z"></path></svg></button></div>
<p>
  Помимо жёстко заданных значений, при большом количестве вложенных маршрутов, 
  становится неудобно искать нужный маршрут по path и сверяться в каком порядке расположены сегменты, 
  вместо того чтобы просто указать его имя и передать ассоциативный массив аргументов в хелпер 
  <span class="bit">route()</span>. Даже если прямо сейчас тебе не нужно обращаться на маршруты, 
  то это может понадобиться "завтра", поэтому лучше сразу дай имена всем маршрутам.
</p>
<p>
  Также смотри <a href="/conventions/#route-name">«соглашения именования маршрутов».</a>
</p></div></div><div class="simple-card"><div id="config" class="anchor" data-v-6837b121></div> <h3 class="relative mb-2 inline-block text-xl sm:text-2xl text-brand-heading-light dark:text-brand-heading-dark"><a href="#config">
      # Использование env()
    </a> <span class="absolute ml-1 -top-3.5 right-0 sm:top-0 sm:left-full text-xs text-shadow-none select-none">
      critical
    </span></h3> <div class="nuxt-content"><p>
  Использовать хелпер <span class="bit code">env()</span>
  следует только в файлах конфигурации.
</p>
<p>
  Это связано с тем, что после кэширования конфига, <span class="bit code">env()</span>
  не будет возвращать значения из файла <span class="bit path">.env</span>
</p>
<p>
  Об этом говорится в
  <a href="https://laravel.com/docs/10.x/configuration#configuration-caching" target="_blank" rel="nofollow noopener noreferrer" class="inline-flex items-center external-link"><!----> <span>документации</span> <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="arrow-up-right-from-square" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="ml-1 w-2 text-gray-500 dark:text-gray-300 dark:text-opacity-60 svg-inline--fa fa-arrow-up-right-from-square"><path fill="currentColor" d="M256 64C256 46.33 270.3 32 288 32H415.1C415.1 32 415.1 32 415.1 32C420.3 32 424.5 32.86 428.2 34.43C431.1 35.98 435.5 38.27 438.6 41.3C438.6 41.35 438.6 41.4 438.7 41.44C444.9 47.66 447.1 55.78 448 63.9C448 63.94 448 63.97 448 64V192C448 209.7 433.7 224 416 224C398.3 224 384 209.7 384 192V141.3L214.6 310.6C202.1 323.1 181.9 323.1 169.4 310.6C156.9 298.1 156.9 277.9 169.4 265.4L338.7 96H288C270.3 96 256 81.67 256 64V64zM0 128C0 92.65 28.65 64 64 64H160C177.7 64 192 78.33 192 96C192 113.7 177.7 128 160 128H64V416H352V320C352 302.3 366.3 288 384 288C401.7 288 416 302.3 416 320V416C416 451.3 387.3 480 352 480H64C28.65 480 0 451.3 0 416V128z"></path></svg></a>,
  но к сожалению, часто упускается новичками.
</p>
<p>
  Получать значения необходимо только через <span class="bit code">config()</span>
</p></div></div><div class="simple-card"><div id="di" class="anchor" data-v-6837b121></div> <h3 class="relative mb-2 inline-block text-xl sm:text-2xl text-brand-heading-light dark:text-brand-heading-dark"><a href="#di">
      # Высокая связанность / High coupling
    </a> <span class="absolute ml-1 -top-3.5 right-0 sm:top-0 sm:left-full text-xs text-shadow-none select-none">
      major
    </span></h3> <div class="nuxt-content"><p class="italic">
  <b>«Качественный дизайн должен обладать слабой связанностью (low coupling) и сильной связностью (high cohesion)»</b>
</p>
<p>
  Тема IoC (Inversion of Control) достаточна обширна и выходит за рамки данного ресурса,
  поэтому если не знаком, то рекомендую поскорее закрыть этот пробел, хотя бы в общих чертах.
  <br>Также необходимо ознакомиться с документацией
  <a href="https://laravel.com/docs/10.x/container#introduction" target="_blank" rel="nofollow noopener noreferrer" class="inline-flex items-center external-link"><!----> <span>Service Container</span> <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="arrow-up-right-from-square" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="ml-1 w-2 text-gray-500 dark:text-gray-300 dark:text-opacity-60 svg-inline--fa fa-arrow-up-right-from-square"><path fill="currentColor" d="M256 64C256 46.33 270.3 32 288 32H415.1C415.1 32 415.1 32 415.1 32C420.3 32 424.5 32.86 428.2 34.43C431.1 35.98 435.5 38.27 438.6 41.3C438.6 41.35 438.6 41.4 438.7 41.44C444.9 47.66 447.1 55.78 448 63.9C448 63.94 448 63.97 448 64V192C448 209.7 433.7 224 416 224C398.3 224 384 209.7 384 192V141.3L214.6 310.6C202.1 323.1 181.9 323.1 169.4 310.6C156.9 298.1 156.9 277.9 169.4 265.4L338.7 96H288C270.3 96 256 81.67 256 64V64zM0 128C0 92.65 28.65 64 64 64H160C177.7 64 192 78.33 192 96C192 113.7 177.7 128 160 128H64V416H352V320C352 302.3 366.3 288 384 288C401.7 288 416 302.3 416 320V416C416 451.3 387.3 480 352 480H64C28.65 480 0 451.3 0 416V128z"></path></svg></a>.
</p>
<p>Рассмотрим простой метод:</p>
<div data-fetch-key="CodeChips:29" class="relative"><div class="pre relative"><div class="mb-2"><!----> <span class="text-pink-600"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="face-angry" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="mr-2 text-xl svg-inline--fa fa-face-angry"><path fill="currentColor" d="M512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256zM339.9 373.3C323.8 355.4 295.7 336 256 336C216.3 336 188.2 355.4 172.1 373.3C166.2 379.9 166.7 389.1 173.3 395.9C179.9 401.8 189.1 401.3 195.9 394.7C207.6 381.7 227.5 368 255.1 368C284.5 368 304.4 381.7 316.1 394.7C322 401.3 332.1 401.8 338.7 395.9C345.3 389.1 345.8 379.9 339.9 373.3H339.9zM176.4 272C194 272 208.4 257.7 208.4 240C208.4 238.5 208.3 237 208.1 235.6L218.9 239.2C227.3 241.1 236.4 237.4 239.2 229.1C241.1 220.7 237.4 211.6 229.1 208.8L133.1 176.8C124.7 174 115.6 178.6 112.8 186.9C110 195.3 114.6 204.4 122.9 207.2L153.7 217.4C147.9 223.2 144.4 231.2 144.4 240C144.4 257.7 158.7 272 176.4 272zM358.9 217.2L389.1 207.2C397.4 204.4 401.1 195.3 399.2 186.9C396.4 178.6 387.3 174 378.9 176.8L282.9 208.8C274.6 211.6 270 220.7 272.8 229.1C275.6 237.4 284.7 241.1 293.1 239.2L304.7 235.3C304.5 236.8 304.4 238.4 304.4 240C304.4 257.7 318.7 272 336.4 272C354 272 368.4 257.7 368.4 240C368.4 231.1 364.7 223 358.9 217.2H358.9z"></path></svg> <span class="font-normal">Bad</span></span></div> <div><pre class="torchlight" style="background-color:#011627;--theme-selection-background:#4373c2" data-torchlight-processed="3449c9e5e332f1dbb81505cd739fbf3f"><code data-lang="php"><!-- Syntax highlighted by torchlight.dev --><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">1</span><span style="color:#c792ea">public</span><span style="color:#d6deeb"> </span><span style="color:#c792ea">function</span><span style="color:#d6deeb"> </span><span style="color:#82aaff">index</span><span style="color:#d9f5dd">()</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">2</span><span style="color:#d6deeb">{</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">3</span><span style="color:#d6deeb">    </span><span style="color:#bec5d4">$myService</span><span style="color:#d6deeb"> </span><span style="color:#c792ea">=</span><span style="color:#d6deeb"> </span><span style="color:#7fdbca">new</span><span style="color:#d6deeb"> </span><span style="color:#ffcb8b">MyService</span><span style="color:#d6deeb">();</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">4</span><span style="color:#d6deeb">    </span><span style="color:#bec5d4">$myService</span><span style="color:#7fdbca">-></span><span style="color:#82aaff">handle</span><span style="color:#d6deeb">();</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">5</span><span style="color:#d6deeb">}</span></div><textarea data-torchlight-original="true" style="display:none!important">public function index()
{
    $myService = new MyService();
    $myService->handle();
}
</textarea></code></pre>
</div></div> <a href="https://torchlight.dev" target="_blank" rel="nofollow noopener noreferrer" class="absolute bottom-3 sm:bottom-1 right-2 text-xs text-white dark:text-white text-opacity-20 dark:text-opacity-20 hover:text-white dark:hover:text-white hover:text-opacity-40 dark:hover:text-opacity-40 select-none">
    highlight by torchlight.dev
  </a> <button title="Copy to Clipboard" class="absolute top-1 sm:top-2 right-3 text-white dark:text-brand-secondary-dark text-opacity-20 dark:text-opacity-30 hover:text-opacity-70 dark:hover:text-opacity-70"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="clipboard" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512" class="svg-inline--fa fa-clipboard"><path fill="currentColor" d="M336 64h-53.88C268.9 26.8 233.7 0 192 0S115.1 26.8 101.9 64H48C21.5 64 0 85.48 0 112v352C0 490.5 21.5 512 48 512h288c26.5 0 48-21.48 48-48v-352C384 85.48 362.5 64 336 64zM192 64c17.67 0 32 14.33 32 32c0 17.67-14.33 32-32 32S160 113.7 160 96C160 78.33 174.3 64 192 64zM272 224h-160C103.2 224 96 216.8 96 208C96 199.2 103.2 192 112 192h160C280.8 192 288 199.2 288 208S280.8 224 272 224z"></path></svg></button></div>
<p>
  Проблема данного кода, что он имеет высокую связанность, т.к. в нем создаётся новый объект.
  Ситуация усугубляется ещё больше, когда данный сервис начинает требовать какие-либо зависимости,
  а те зависимости, в свою очередь, требуют свои зависимости и так далее...
</p>
<p>Также такой код будет затруднительно тестировать, т.к. сервис нельзя "замокать".</p>
<p>Вместо прямого создания объекта необходимо использовать DI, реализация которого уже есть в Laravel:</p>
<div data-fetch-key="CodeChips:30" class="relative"><div class="pre relative"><div class="mb-2"><span class="text-brand-success-light dark:text-brand-success-dark"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="square-check" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="mr-2 text-xl svg-inline--fa fa-square-check"><path fill="currentColor" d="M384 32C419.3 32 448 60.65 448 96V416C448 451.3 419.3 480 384 480H64C28.65 480 0 451.3 0 416V96C0 60.65 28.65 32 64 32H384zM339.8 211.8C350.7 200.9 350.7 183.1 339.8 172.2C328.9 161.3 311.1 161.3 300.2 172.2L192 280.4L147.8 236.2C136.9 225.3 119.1 225.3 108.2 236.2C97.27 247.1 97.27 264.9 108.2 275.8L172.2 339.8C183.1 350.7 200.9 350.7 211.8 339.8L339.8 211.8z"></path></svg> <span class="font-normal">Good</span></span> <!----></div> <div><pre class="torchlight" style="background-color:#011627;--theme-selection-background:#4373c2" data-torchlight-processed="3449c9e5e332f1dbb81505cd739fbf3f"><code data-lang="php"><!-- Syntax highlighted by torchlight.dev --><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">1</span><span style="color:#c792ea">public</span><span style="color:#d6deeb"> </span><span style="color:#c792ea">function</span><span style="color:#d6deeb"> </span><span style="color:#82aaff">index</span><span style="color:#d9f5dd">(</span><span style="color:#ffcb8b">MyService</span><span style="color:#d6deeb"> </span><span style="color:#bec5d4">$myService</span><span style="color:#d9f5dd">)</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">2</span><span style="color:#d6deeb">{</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">3</span><span style="color:#d6deeb">    </span><span style="color:#bec5d4">$myService</span><span style="color:#7fdbca">-></span><span style="color:#82aaff">handle</span><span style="color:#d6deeb">();</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">4</span><span style="color:#d6deeb">}</span></div><textarea data-torchlight-original="true" style="display:none!important">public function index(MyService $myService)
{
    $myService->handle();
}
</textarea></code></pre>
</div></div> <a href="https://torchlight.dev" target="_blank" rel="nofollow noopener noreferrer" class="absolute bottom-3 sm:bottom-1 right-2 text-xs text-white dark:text-white text-opacity-20 dark:text-opacity-20 hover:text-white dark:hover:text-white hover:text-opacity-40 dark:hover:text-opacity-40 select-none">
    highlight by torchlight.dev
  </a> <button title="Copy to Clipboard" class="absolute top-1 sm:top-2 right-3 text-white dark:text-brand-secondary-dark text-opacity-20 dark:text-opacity-30 hover:text-opacity-70 dark:hover:text-opacity-70"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="clipboard" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512" class="svg-inline--fa fa-clipboard"><path fill="currentColor" d="M336 64h-53.88C268.9 26.8 233.7 0 192 0S115.1 26.8 101.9 64H48C21.5 64 0 85.48 0 112v352C0 490.5 21.5 512 48 512h288c26.5 0 48-21.48 48-48v-352C384 85.48 362.5 64 336 64zM192 64c17.67 0 32 14.33 32 32c0 17.67-14.33 32-32 32S160 113.7 160 96C160 78.33 174.3 64 192 64zM272 224h-160C103.2 224 96 216.8 96 208C96 199.2 103.2 192 112 192h160C280.8 192 288 199.2 288 208S280.8 224 272 224z"></path></svg></button></div>
<p>
  И если следовать букве D из «SOLID», то в данном примере
  <span class="bit code">MyService</span> должен быть абстракцией, а не конкретным классом (реализацией).
</p></div></div><div class="simple-card"><div id="scopes" class="anchor" data-v-6837b121></div> <h3 class="relative mb-2 inline-block text-xl sm:text-2xl text-brand-heading-light dark:text-brand-heading-dark"><a href="#scopes">
      # Дублирование частей QueryBuilder-а
    </a> <!----></h3> <div class="nuxt-content"><p>
  Часто необходимо выбирать данные из БД по одинаковым условиям.
  Чтобы избежать дублирования кода, используются <a href="https://laravel.com/docs/10.x/eloquent#query-scopes" target="_blank" rel="nofollow noopener noreferrer" class="inline-flex items-center external-link"><!----> <span>«Scopes»</span> <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="arrow-up-right-from-square" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="ml-1 w-2 text-gray-500 dark:text-gray-300 dark:text-opacity-60 svg-inline--fa fa-arrow-up-right-from-square"><path fill="currentColor" d="M256 64C256 46.33 270.3 32 288 32H415.1C415.1 32 415.1 32 415.1 32C420.3 32 424.5 32.86 428.2 34.43C431.1 35.98 435.5 38.27 438.6 41.3C438.6 41.35 438.6 41.4 438.7 41.44C444.9 47.66 447.1 55.78 448 63.9C448 63.94 448 63.97 448 64V192C448 209.7 433.7 224 416 224C398.3 224 384 209.7 384 192V141.3L214.6 310.6C202.1 323.1 181.9 323.1 169.4 310.6C156.9 298.1 156.9 277.9 169.4 265.4L338.7 96H288C270.3 96 256 81.67 256 64V64zM0 128C0 92.65 28.65 64 64 64H160C177.7 64 192 78.33 192 96C192 113.7 177.7 128 160 128H64V416H352V320C352 302.3 366.3 288 384 288C401.7 288 416 302.3 416 320V416C416 451.3 387.3 480 352 480H64C28.65 480 0 451.3 0 416V128z"></path></svg></a>
</p>
<div data-fetch-key="CodeChips:31" class="relative"><div class="pre relative"><div class="mb-2"><!----> <span class="text-pink-600"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="face-angry" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="mr-2 text-xl svg-inline--fa fa-face-angry"><path fill="currentColor" d="M512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256zM339.9 373.3C323.8 355.4 295.7 336 256 336C216.3 336 188.2 355.4 172.1 373.3C166.2 379.9 166.7 389.1 173.3 395.9C179.9 401.8 189.1 401.3 195.9 394.7C207.6 381.7 227.5 368 255.1 368C284.5 368 304.4 381.7 316.1 394.7C322 401.3 332.1 401.8 338.7 395.9C345.3 389.1 345.8 379.9 339.9 373.3H339.9zM176.4 272C194 272 208.4 257.7 208.4 240C208.4 238.5 208.3 237 208.1 235.6L218.9 239.2C227.3 241.1 236.4 237.4 239.2 229.1C241.1 220.7 237.4 211.6 229.1 208.8L133.1 176.8C124.7 174 115.6 178.6 112.8 186.9C110 195.3 114.6 204.4 122.9 207.2L153.7 217.4C147.9 223.2 144.4 231.2 144.4 240C144.4 257.7 158.7 272 176.4 272zM358.9 217.2L389.1 207.2C397.4 204.4 401.1 195.3 399.2 186.9C396.4 178.6 387.3 174 378.9 176.8L282.9 208.8C274.6 211.6 270 220.7 272.8 229.1C275.6 237.4 284.7 241.1 293.1 239.2L304.7 235.3C304.5 236.8 304.4 238.4 304.4 240C304.4 257.7 318.7 272 336.4 272C354 272 368.4 257.7 368.4 240C368.4 231.1 364.7 223 358.9 217.2H358.9z"></path></svg> <span class="font-normal">Bad</span></span></div> <div><pre class="torchlight" style="background-color:#011627;--theme-selection-background:#4373c2" data-torchlight-processed="3449c9e5e332f1dbb81505cd739fbf3f"><code data-lang="php"><!-- Syntax highlighted by torchlight.dev --><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">1</span><span style="color:#c792ea">public</span><span style="color:#d6deeb"> </span><span style="color:#c792ea">function</span><span style="color:#d6deeb"> </span><span style="color:#82aaff">index</span><span style="color:#d9f5dd">()</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">2</span><span style="color:#d6deeb">{</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">3</span><span style="color:#d6deeb">    </span><span style="color:#ffcb8b">Post</span><span style="color:#7fdbca">::</span><span style="color:#82aaff">where</span><span style="color:#d6deeb">(</span><span style="color:#d9f5dd">'</span><span style="color:#ecc48d">active</span><span style="color:#d9f5dd">'</span><span style="color:#d6deeb">, </span><span style="color:#f78c6c">1</span><span style="color:#d6deeb">)</span><span style="color:#7fdbca">-></span><span style="color:#82aaff">get</span><span style="color:#d6deeb">();</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">4</span><span style="color:#d6deeb">}</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">5</span> </div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">6</span><span style="color:#c792ea">public</span><span style="color:#d6deeb"> </span><span style="color:#c792ea">function</span><span style="color:#d6deeb"> </span><span style="color:#82aaff">show</span><span style="color:#d9f5dd">()</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">7</span><span style="color:#d6deeb">{</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">8</span><span style="color:#d6deeb">    </span><span style="color:#ffcb8b">Post</span><span style="color:#7fdbca">::</span><span style="color:#82aaff">where</span><span style="color:#d6deeb">(</span><span style="color:#d9f5dd">'</span><span style="color:#ecc48d">active</span><span style="color:#d9f5dd">'</span><span style="color:#d6deeb">, </span><span style="color:#f78c6c">1</span><span style="color:#d6deeb">)</span><span style="color:#7fdbca">-></span><span style="color:#82aaff">first</span><span style="color:#d6deeb">();</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">9</span><span style="color:#d6deeb">}</span></div><textarea data-torchlight-original="true" style="display:none!important">public function index()
{
    Post::where('active', 1)->get();
}

public function show()
{
    Post::where('active', 1)->first();
}
</textarea></code></pre>
</div></div> <a href="https://torchlight.dev" target="_blank" rel="nofollow noopener noreferrer" class="absolute bottom-3 sm:bottom-1 right-2 text-xs text-white dark:text-white text-opacity-20 dark:text-opacity-20 hover:text-white dark:hover:text-white hover:text-opacity-40 dark:hover:text-opacity-40 select-none">
    highlight by torchlight.dev
  </a> <button title="Copy to Clipboard" class="absolute top-1 sm:top-2 right-3 text-white dark:text-brand-secondary-dark text-opacity-20 dark:text-opacity-30 hover:text-opacity-70 dark:hover:text-opacity-70"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="clipboard" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512" class="svg-inline--fa fa-clipboard"><path fill="currentColor" d="M336 64h-53.88C268.9 26.8 233.7 0 192 0S115.1 26.8 101.9 64H48C21.5 64 0 85.48 0 112v352C0 490.5 21.5 512 48 512h288c26.5 0 48-21.48 48-48v-352C384 85.48 362.5 64 336 64zM192 64c17.67 0 32 14.33 32 32c0 17.67-14.33 32-32 32S160 113.7 160 96C160 78.33 174.3 64 192 64zM272 224h-160C103.2 224 96 216.8 96 208C96 199.2 103.2 192 112 192h160C280.8 192 288 199.2 288 208S280.8 224 272 224z"></path></svg></button></div>
<p>
  Кроме дублирования, скоупы повышают читаемость запроса (если правильно именованы).
</p>
<div data-fetch-key="CodeChips:32" class="relative"><div class="pre relative"><div class="mb-2"><span class="text-brand-success-light dark:text-brand-success-dark"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="square-check" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="mr-2 text-xl svg-inline--fa fa-square-check"><path fill="currentColor" d="M384 32C419.3 32 448 60.65 448 96V416C448 451.3 419.3 480 384 480H64C28.65 480 0 451.3 0 416V96C0 60.65 28.65 32 64 32H384zM339.8 211.8C350.7 200.9 350.7 183.1 339.8 172.2C328.9 161.3 311.1 161.3 300.2 172.2L192 280.4L147.8 236.2C136.9 225.3 119.1 225.3 108.2 236.2C97.27 247.1 97.27 264.9 108.2 275.8L172.2 339.8C183.1 350.7 200.9 350.7 211.8 339.8L339.8 211.8z"></path></svg> <span class="font-normal">Good</span></span> <!----></div> <div><pre class="torchlight" style="background-color:#011627;--theme-selection-background:#4373c2" data-torchlight-processed="3449c9e5e332f1dbb81505cd739fbf3f"><code data-lang="php"><!-- Syntax highlighted by torchlight.dev --><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number"> 1</span><span style="color:#c792ea">public</span><span style="color:#d6deeb"> </span><span style="color:#c792ea">function</span><span style="color:#d6deeb"> </span><span style="color:#82aaff">index</span><span style="color:#d9f5dd">()</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number"> 2</span><span style="color:#d6deeb">{</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number"> 3</span><span style="color:#d6deeb">    </span><span style="color:#ffcb8b">Post</span><span style="color:#7fdbca">::</span><span style="color:#82aaff">active</span><span style="color:#d6deeb">()</span><span style="color:#7fdbca">-></span><span style="color:#82aaff">get</span><span style="color:#d6deeb">();</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number"> 4</span><span style="color:#d6deeb">}</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number"> 5</span> </div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number"> 6</span><span style="color:#c792ea">public</span><span style="color:#d6deeb"> </span><span style="color:#c792ea">function</span><span style="color:#d6deeb"> </span><span style="color:#82aaff">show</span><span style="color:#d9f5dd">()</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number"> 7</span><span style="color:#d6deeb">{</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number"> 8</span><span style="color:#d6deeb">    </span><span style="color:#ffcb8b">Post</span><span style="color:#7fdbca">::</span><span style="color:#82aaff">active</span><span style="color:#d6deeb">()</span><span style="color:#7fdbca">-></span><span style="color:#82aaff">first</span><span style="color:#d6deeb">();</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number"> 9</span><span style="color:#d6deeb">}</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">10</span> </div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">11</span><span style="color:#637777">//</span><span style="color:#637777"> App\Models\Post</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">12</span><span style="color:#c792ea">public</span><span style="color:#d6deeb"> </span><span style="color:#c792ea">function</span><span style="color:#d6deeb"> </span><span style="color:#82aaff">scopeActive</span><span style="color:#d9f5dd">(</span><span style="color:#ffcb8b">Builder</span><span style="color:#d6deeb"> </span><span style="color:#bec5d4">$query</span><span style="color:#d9f5dd">)</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">13</span><span style="color:#d6deeb">{</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">14</span><span style="color:#d6deeb">    </span><span style="color:#bec5d4">$query</span><span style="color:#7fdbca">-></span><span style="color:#82aaff">where</span><span style="color:#d6deeb">(</span><span style="color:#d9f5dd">'</span><span style="color:#ecc48d">active</span><span style="color:#d9f5dd">'</span><span style="color:#d6deeb">, </span><span style="color:#f78c6c">1</span><span style="color:#d6deeb">);</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">15</span><span style="color:#d6deeb">}</span></div><textarea data-torchlight-original="true" style="display:none!important">public function index()
{
    Post::active()->get();
}

public function show()
{
    Post::active()->first();
}

// App\Models\Post
public function scopeActive(Builder $query)
{
    $query->where('active', 1);
}
</textarea></code></pre>
</div></div> <a href="https://torchlight.dev" target="_blank" rel="nofollow noopener noreferrer" class="absolute bottom-3 sm:bottom-1 right-2 text-xs text-white dark:text-white text-opacity-20 dark:text-opacity-20 hover:text-white dark:hover:text-white hover:text-opacity-40 dark:hover:text-opacity-40 select-none">
    highlight by torchlight.dev
  </a> <button title="Copy to Clipboard" class="absolute top-1 sm:top-2 right-3 text-white dark:text-brand-secondary-dark text-opacity-20 dark:text-opacity-30 hover:text-opacity-70 dark:hover:text-opacity-70"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="clipboard" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512" class="svg-inline--fa fa-clipboard"><path fill="currentColor" d="M336 64h-53.88C268.9 26.8 233.7 0 192 0S115.1 26.8 101.9 64H48C21.5 64 0 85.48 0 112v352C0 490.5 21.5 512 48 512h288c26.5 0 48-21.48 48-48v-352C384 85.48 362.5 64 336 64zM192 64c17.67 0 32 14.33 32 32c0 17.67-14.33 32-32 32S160 113.7 160 96C160 78.33 174.3 64 192 64zM272 224h-160C103.2 224 96 216.8 96 208C96 199.2 103.2 192 112 192h160C280.8 192 288 199.2 288 208S280.8 224 272 224z"></path></svg></button></div>
<p>
  Также можно использовать глобальные скоупы, которые будут применяться ко всем запросам автоматически.
  Это может быть удобно, чтобы гарантировать выборку только активных записей
  (по такому принципу работает soft delete).
  Но рекомендую прежде подумать, что будет выгоднее для твоего приложения,
  прописывать везде скоупы или <span class="bit code">withoutGlobalScope()</span>.
  Также глобальные скоупы снижают очевидность запроса,
  т.е. сложно, посмотрев на QB, сказать какие записи выбираются без проверки глобальных скоупов
  и этот момент придётся держать в памяти.
</p></div></div><div class="simple-card"><div id="files" class="anchor" data-v-6837b121></div> <h3 class="relative mb-2 inline-block text-xl sm:text-2xl text-brand-heading-light dark:text-brand-heading-dark"><a href="#files">
      # Хранение файлов в public
    </a> <!----></h3> <div class="nuxt-content"><p>
  По непонятным причинам многие новички пишут пользовательские файлы в <span class="bit path">public</span>
  директорию.<br>
  Согласно <a href="https://laravel.com/docs/10.x/structure#the-storage-directory" target="_blank" rel="nofollow noopener noreferrer" class="inline-flex items-center external-link"><!----> <span>документации</span> <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="arrow-up-right-from-square" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="ml-1 w-2 text-gray-500 dark:text-gray-300 dark:text-opacity-60 svg-inline--fa fa-arrow-up-right-from-square"><path fill="currentColor" d="M256 64C256 46.33 270.3 32 288 32H415.1C415.1 32 415.1 32 415.1 32C420.3 32 424.5 32.86 428.2 34.43C431.1 35.98 435.5 38.27 438.6 41.3C438.6 41.35 438.6 41.4 438.7 41.44C444.9 47.66 447.1 55.78 448 63.9C448 63.94 448 63.97 448 64V192C448 209.7 433.7 224 416 224C398.3 224 384 209.7 384 192V141.3L214.6 310.6C202.1 323.1 181.9 323.1 169.4 310.6C156.9 298.1 156.9 277.9 169.4 265.4L338.7 96H288C270.3 96 256 81.67 256 64V64zM0 128C0 92.65 28.65 64 64 64H160C177.7 64 192 78.33 192 96C192 113.7 177.7 128 160 128H64V416H352V320C352 302.3 366.3 288 384 288C401.7 288 416 302.3 416 320V416C416 451.3 387.3 480 352 480H64C28.65 480 0 451.3 0 416V128z"></path></svg></a>, для хранения файлов
  есть директории <span class="bit path">/storage/app</span> для приватных файлов и <span class="bit path">storage/app/public</span>
  для общедоступных.
</p>
<p>
  Технической проблемы "хранения в public" нет, кроме того факта, что все файлы будут всегда доступны напрямую,
  и нельзя программно контролировать их доступ, например, по временной ссылке.
  Также это не интуитивный момент для других разработчиков, они, как и сторонние пакеты, будут использовать
  <span class="bit path">storage/app</span> и в проекте появится двойственность,
  одни файлы будут в storage, другие в public.
</p>
<p>
  В Laravel есть <a href="https://laravel.com/docs/10.x/filesystem#introduction" target="_blank" rel="nofollow noopener noreferrer" class="inline-flex items-center external-link"><!----> <span>система</span> <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="arrow-up-right-from-square" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="ml-1 w-2 text-gray-500 dark:text-gray-300 dark:text-opacity-60 svg-inline--fa fa-arrow-up-right-from-square"><path fill="currentColor" d="M256 64C256 46.33 270.3 32 288 32H415.1C415.1 32 415.1 32 415.1 32C420.3 32 424.5 32.86 428.2 34.43C431.1 35.98 435.5 38.27 438.6 41.3C438.6 41.35 438.6 41.4 438.7 41.44C444.9 47.66 447.1 55.78 448 63.9C448 63.94 448 63.97 448 64V192C448 209.7 433.7 224 416 224C398.3 224 384 209.7 384 192V141.3L214.6 310.6C202.1 323.1 181.9 323.1 169.4 310.6C156.9 298.1 156.9 277.9 169.4 265.4L338.7 96H288C270.3 96 256 81.67 256 64V64zM0 128C0 92.65 28.65 64 64 64H160C177.7 64 192 78.33 192 96C192 113.7 177.7 128 160 128H64V416H352V320C352 302.3 366.3 288 384 288C401.7 288 416 302.3 416 320V416C416 451.3 387.3 480 352 480H64C28.65 480 0 451.3 0 416V128z"></path></svg></a> по работе с файлами,
  с конфигурацией на <span class="bit path">storage/app</span> и которую легко можно изменить
  под собственные нужды, вплоть до написания собственного драйвера.
</p>
<p>
  Ещё одна популярная ошибка это использование хелпера <span class="bit code">storage_path()</span> вместо фасада
  <span class="bit code">Storage</span>.
  Вся нужная информация есть в <a href="https://laravel.com/docs/10.x/filesystem" target="_blank" rel="nofollow noopener noreferrer" class="inline-flex items-center external-link"><!----> <span>документации</span> <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="arrow-up-right-from-square" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="ml-1 w-2 text-gray-500 dark:text-gray-300 dark:text-opacity-60 svg-inline--fa fa-arrow-up-right-from-square"><path fill="currentColor" d="M256 64C256 46.33 270.3 32 288 32H415.1C415.1 32 415.1 32 415.1 32C420.3 32 424.5 32.86 428.2 34.43C431.1 35.98 435.5 38.27 438.6 41.3C438.6 41.35 438.6 41.4 438.7 41.44C444.9 47.66 447.1 55.78 448 63.9C448 63.94 448 63.97 448 64V192C448 209.7 433.7 224 416 224C398.3 224 384 209.7 384 192V141.3L214.6 310.6C202.1 323.1 181.9 323.1 169.4 310.6C156.9 298.1 156.9 277.9 169.4 265.4L338.7 96H288C270.3 96 256 81.67 256 64V64zM0 128C0 92.65 28.65 64 64 64H160C177.7 64 192 78.33 192 96C192 113.7 177.7 128 160 128H64V416H352V320C352 302.3 366.3 288 384 288C401.7 288 416 302.3 416 320V416C416 451.3 387.3 480 352 480H64C28.65 480 0 451.3 0 416V128z"></path></svg></a>
  и рекомендую почитать простую инструкцию
  <a href="/storage/">
    «Как работать с файлами»
  </a>.
</p></div></div><div class="simple-card"><div id="force-https" class="anchor" data-v-6837b121></div> <h3 class="relative mb-2 inline-block text-xl sm:text-2xl text-brand-heading-light dark:text-brand-heading-dark"><a href="#force-https">
      # Форсирование протокола
    </a> <!----></h3> <div class="nuxt-content"><p>
  Иногда начинающие сталкиваются с проблемой
  <a href="https://developer.mozilla.org/en-US/docs/Web/Security/Mixed_content" target="_blank" rel="nofollow noopener noreferrer" class="inline-flex items-center external-link"><!----> <span>mixed content</span> <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="arrow-up-right-from-square" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="ml-1 w-2 text-gray-500 dark:text-gray-300 dark:text-opacity-60 svg-inline--fa fa-arrow-up-right-from-square"><path fill="currentColor" d="M256 64C256 46.33 270.3 32 288 32H415.1C415.1 32 415.1 32 415.1 32C420.3 32 424.5 32.86 428.2 34.43C431.1 35.98 435.5 38.27 438.6 41.3C438.6 41.35 438.6 41.4 438.7 41.44C444.9 47.66 447.1 55.78 448 63.9C448 63.94 448 63.97 448 64V192C448 209.7 433.7 224 416 224C398.3 224 384 209.7 384 192V141.3L214.6 310.6C202.1 323.1 181.9 323.1 169.4 310.6C156.9 298.1 156.9 277.9 169.4 265.4L338.7 96H288C270.3 96 256 81.67 256 64V64zM0 128C0 92.65 28.65 64 64 64H160C177.7 64 192 78.33 192 96C192 113.7 177.7 128 160 128H64V416H352V320C352 302.3 366.3 288 384 288C401.7 288 416 302.3 416 320V416C416 451.3 387.3 480 352 480H64C28.65 480 0 451.3 0 416V128z"></path></svg></a>. 
  Проблема может решиться указанием схемы в <span class="bit">APP_URL</span>, 
  но данный параметр используется далеко не везде и не влияет на генерацию ссылок, например, для маршрутов.
</p>
<p>
  Вместо того чтобы разобраться как генерируются ссылки и почему фреймворк не использует текущую схему,
  начинающие находят на StackOverflow простой обходной путь:
</p>
<div data-fetch-key="CodeChips:33" class="relative"><div class="pre relative"><div class="mb-2"><!----> <span class="text-pink-600"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="face-angry" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="mr-2 text-xl svg-inline--fa fa-face-angry"><path fill="currentColor" d="M512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256zM339.9 373.3C323.8 355.4 295.7 336 256 336C216.3 336 188.2 355.4 172.1 373.3C166.2 379.9 166.7 389.1 173.3 395.9C179.9 401.8 189.1 401.3 195.9 394.7C207.6 381.7 227.5 368 255.1 368C284.5 368 304.4 381.7 316.1 394.7C322 401.3 332.1 401.8 338.7 395.9C345.3 389.1 345.8 379.9 339.9 373.3H339.9zM176.4 272C194 272 208.4 257.7 208.4 240C208.4 238.5 208.3 237 208.1 235.6L218.9 239.2C227.3 241.1 236.4 237.4 239.2 229.1C241.1 220.7 237.4 211.6 229.1 208.8L133.1 176.8C124.7 174 115.6 178.6 112.8 186.9C110 195.3 114.6 204.4 122.9 207.2L153.7 217.4C147.9 223.2 144.4 231.2 144.4 240C144.4 257.7 158.7 272 176.4 272zM358.9 217.2L389.1 207.2C397.4 204.4 401.1 195.3 399.2 186.9C396.4 178.6 387.3 174 378.9 176.8L282.9 208.8C274.6 211.6 270 220.7 272.8 229.1C275.6 237.4 284.7 241.1 293.1 239.2L304.7 235.3C304.5 236.8 304.4 238.4 304.4 240C304.4 257.7 318.7 272 336.4 272C354 272 368.4 257.7 368.4 240C368.4 231.1 364.7 223 358.9 217.2H358.9z"></path></svg> <span class="font-normal">Bad</span></span></div> <div><pre class="torchlight" style="background-color:#011627;--theme-selection-background:#4373c2" data-torchlight-processed="3449c9e5e332f1dbb81505cd739fbf3f"><code data-lang="php"><!-- Syntax highlighted by torchlight.dev --><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">1</span><span style="color:#637777">//</span><span style="color:#637777"> App\Providers\AppServiceProvider</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">2</span><span style="color:#c792ea">public</span><span style="color:#d6deeb"> </span><span style="color:#c792ea">function</span><span style="color:#d6deeb"> </span><span style="color:#82aaff">boot</span><span style="color:#d9f5dd">()</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">3</span><span style="color:#d6deeb">{</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">4</span><span style="color:#d6deeb">  </span><span style="color:#c792ea">if</span><span style="color:#d6deeb"> (</span><span style="color:#7fdbca">$this-></span><span style="color:#bec5d4">app</span><span style="color:#7fdbca">-></span><span style="color:#82aaff">isProduction</span><span style="color:#d6deeb">()) {</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">5</span><span style="color:#d6deeb">    </span><span style="color:#ffcb8b">URL</span><span style="color:#7fdbca">::</span><span style="color:#82aaff">forceScheme</span><span style="color:#d6deeb">(</span><span style="color:#d9f5dd">'</span><span style="color:#ecc48d">https</span><span style="color:#d9f5dd">'</span><span style="color:#d6deeb">);</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">6</span><span style="color:#d6deeb">    </span><span style="color:#637777">//</span><span style="color:#637777"> or 11+</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">7</span><span style="color:#d6deeb">    </span><span style="color:#ffcb8b">URL</span><span style="color:#7fdbca">::</span><span style="color:#82aaff">forceHttps</span><span style="color:#d6deeb">();</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">8</span><span style="color:#d6deeb">  }</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">9</span><span style="color:#d6deeb">}</span></div><textarea data-torchlight-original="true" style="display:none!important">// App\Providers\AppServiceProvider
public function boot()
{
  if ($this->app->isProduction()) {
    URL::forceScheme('https');
    // or 11+
    URL::forceHttps();
  }
}
</textarea></code></pre>
</div></div> <a href="https://torchlight.dev" target="_blank" rel="nofollow noopener noreferrer" class="absolute bottom-3 sm:bottom-1 right-2 text-xs text-white dark:text-white text-opacity-20 dark:text-opacity-20 hover:text-white dark:hover:text-white hover:text-opacity-40 dark:hover:text-opacity-40 select-none">
    highlight by torchlight.dev
  </a> <button title="Copy to Clipboard" class="absolute top-1 sm:top-2 right-3 text-white dark:text-brand-secondary-dark text-opacity-20 dark:text-opacity-30 hover:text-opacity-70 dark:hover:text-opacity-70"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="clipboard" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512" class="svg-inline--fa fa-clipboard"><path fill="currentColor" d="M336 64h-53.88C268.9 26.8 233.7 0 192 0S115.1 26.8 101.9 64H48C21.5 64 0 85.48 0 112v352C0 490.5 21.5 512 48 512h288c26.5 0 48-21.48 48-48v-352C384 85.48 362.5 64 336 64zM192 64c17.67 0 32 14.33 32 32c0 17.67-14.33 32-32 32S160 113.7 160 96C160 78.33 174.3 64 192 64zM272 224h-160C103.2 224 96 216.8 96 208C96 199.2 103.2 192 112 192h160C280.8 192 288 199.2 288 208S280.8 224 272 224z"></path></svg></button></div>
<p>
  Это избыточный костыль без которого можно легко обойтись.
</p>
<p>
  Схема определяется с помощью
  <a href="https://github.com/symfony/http-foundation/blob/e88a66c3997859532bc2ddd6dd8f35aba2711744/Request.php#L1059" target="_blank" rel="nofollow noopener noreferrer" class="inline-flex items-center external-link"><!----> <span>Symfony\Component\HttpFoundation\Request::isSecure()</span> <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="arrow-up-right-from-square" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="ml-1 w-2 text-gray-500 dark:text-gray-300 dark:text-opacity-60 svg-inline--fa fa-arrow-up-right-from-square"><path fill="currentColor" d="M256 64C256 46.33 270.3 32 288 32H415.1C415.1 32 415.1 32 415.1 32C420.3 32 424.5 32.86 428.2 34.43C431.1 35.98 435.5 38.27 438.6 41.3C438.6 41.35 438.6 41.4 438.7 41.44C444.9 47.66 447.1 55.78 448 63.9C448 63.94 448 63.97 448 64V192C448 209.7 433.7 224 416 224C398.3 224 384 209.7 384 192V141.3L214.6 310.6C202.1 323.1 181.9 323.1 169.4 310.6C156.9 298.1 156.9 277.9 169.4 265.4L338.7 96H288C270.3 96 256 81.67 256 64V64zM0 128C0 92.65 28.65 64 64 64H160C177.7 64 192 78.33 192 96C192 113.7 177.7 128 160 128H64V416H352V320C352 302.3 366.3 288 384 288C401.7 288 416 302.3 416 320V416C416 451.3 387.3 480 352 480H64C28.65 480 0 451.3 0 416V128z"></path></svg></a>,
  где проверяются заголовки <span class="bit">X-Forwarded-Proto</span> и <span class="bit">HTTPS</span>.
  Следовательно необходимо чтобы промежуточное ПО сообщало, что используется защищенное соединение.
</p>
<p>
  Чаще всего проблема вызвана наличием прокси серверов, которые не передают все необходимые заголовки.
  Если используется nginx как reverse proxy, то необходимо пробросить заголовки:
</p>
<div data-fetch-key="CodeChips:34" class="relative"><div class="pre relative"><div class="mb-2"><span class="text-brand-success-light dark:text-brand-success-dark"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="square-check" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="mr-2 text-xl svg-inline--fa fa-square-check"><path fill="currentColor" d="M384 32C419.3 32 448 60.65 448 96V416C448 451.3 419.3 480 384 480H64C28.65 480 0 451.3 0 416V96C0 60.65 28.65 32 64 32H384zM339.8 211.8C350.7 200.9 350.7 183.1 339.8 172.2C328.9 161.3 311.1 161.3 300.2 172.2L192 280.4L147.8 236.2C136.9 225.3 119.1 225.3 108.2 236.2C97.27 247.1 97.27 264.9 108.2 275.8L172.2 339.8C183.1 350.7 200.9 350.7 211.8 339.8L339.8 211.8z"></path></svg> <span class="font-normal">Good</span></span> <!----></div> <div><pre class="torchlight" style="background-color:#011627;--theme-selection-background:#4373c2" data-torchlight-processed="3449c9e5e332f1dbb81505cd739fbf3f"><code data-lang="nginx"><!-- Syntax highlighted by torchlight.dev --><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">1</span><span style="color:#c792ea">location</span><span style="color:#d6deeb"> / {</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">2</span><span style="color:#d6deeb"> </span><span style="color:#c792ea"> proxy_pass </span><span style="color:#d6deeb">http://127.0.0.1:8080;</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">3</span><span style="color:#d6deeb"> </span><span style="color:#c792ea"> proxy_set_header </span><span style="color:#d6deeb">X-Forwarded-Proto $</span><span style="color:#c5e478">scheme</span><span style="color:#d6deeb">;</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">4</span><span style="color:#d6deeb"> </span><span style="color:#c792ea"> proxy_set_header </span><span style="color:#d6deeb">Host $</span><span style="color:#c5e478">host</span><span style="color:#d6deeb">;</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">5</span><span style="color:#d6deeb">}</span></div><textarea data-torchlight-original="true" style="display:none!important">location / {
  proxy_pass http://127.0.0.1:8080;
  proxy_set_header X-Forwarded-Proto $scheme;
  proxy_set_header Host $host;
}
</textarea></code></pre>
</div></div> <a href="https://torchlight.dev" target="_blank" rel="nofollow noopener noreferrer" class="absolute bottom-3 sm:bottom-1 right-2 text-xs text-white dark:text-white text-opacity-20 dark:text-opacity-20 hover:text-white dark:hover:text-white hover:text-opacity-40 dark:hover:text-opacity-40 select-none">
    highlight by torchlight.dev
  </a> <button title="Copy to Clipboard" class="absolute top-1 sm:top-2 right-3 text-white dark:text-brand-secondary-dark text-opacity-20 dark:text-opacity-30 hover:text-opacity-70 dark:hover:text-opacity-70"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="clipboard" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512" class="svg-inline--fa fa-clipboard"><path fill="currentColor" d="M336 64h-53.88C268.9 26.8 233.7 0 192 0S115.1 26.8 101.9 64H48C21.5 64 0 85.48 0 112v352C0 490.5 21.5 512 48 512h288c26.5 0 48-21.48 48-48v-352C384 85.48 362.5 64 336 64zM192 64c17.67 0 32 14.33 32 32c0 17.67-14.33 32-32 32S160 113.7 160 96C160 78.33 174.3 64 192 64zM272 224h-160C103.2 224 96 216.8 96 208C96 199.2 103.2 192 112 192h160C280.8 192 288 199.2 288 208S280.8 224 272 224z"></path></svg></button></div>
<p>
  Если приложение работает за балансировщиком нагрузки или CDN (например, Cloudflare, Traefik),
  то необходимо дополнительно перечислить разрешенные сети и заголовки, смотри документацию по
  <a href="https://laravel.com/docs/10.x/requests#configuring-trusted-proxies" target="_blank" rel="nofollow noopener noreferrer" class="inline-flex items-center external-link"><!----> <span>«Configuring Trusted Proxies»</span> <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="arrow-up-right-from-square" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="ml-1 w-2 text-gray-500 dark:text-gray-300 dark:text-opacity-60 svg-inline--fa fa-arrow-up-right-from-square"><path fill="currentColor" d="M256 64C256 46.33 270.3 32 288 32H415.1C415.1 32 415.1 32 415.1 32C420.3 32 424.5 32.86 428.2 34.43C431.1 35.98 435.5 38.27 438.6 41.3C438.6 41.35 438.6 41.4 438.7 41.44C444.9 47.66 447.1 55.78 448 63.9C448 63.94 448 63.97 448 64V192C448 209.7 433.7 224 416 224C398.3 224 384 209.7 384 192V141.3L214.6 310.6C202.1 323.1 181.9 323.1 169.4 310.6C156.9 298.1 156.9 277.9 169.4 265.4L338.7 96H288C270.3 96 256 81.67 256 64V64zM0 128C0 92.65 28.65 64 64 64H160C177.7 64 192 78.33 192 96C192 113.7 177.7 128 160 128H64V416H352V320C352 302.3 366.3 288 384 288C401.7 288 416 302.3 416 320V416C416 451.3 387.3 480 352 480H64C28.65 480 0 451.3 0 416V128z"></path></svg></a>
</p></div></div><div class="simple-card"><div id="native-datetime" class="anchor" data-v-6837b121></div> <h3 class="relative mb-2 inline-block text-xl sm:text-2xl text-brand-heading-light dark:text-brand-heading-dark"><a href="#native-datetime">
      # Нативная работа с датами
    </a> <!----></h3> <div class="nuxt-content"><p>
  По умолчанию, в Laravel используется мощный пакет для работы с датами
  <a href="https://carbon.nesbot.com/docs/" target="_blank" rel="nofollow noopener noreferrer" class="inline-flex items-center external-link"><!----> <span>Carbon</span> <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="arrow-up-right-from-square" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="ml-1 w-2 text-gray-500 dark:text-gray-300 dark:text-opacity-60 svg-inline--fa fa-arrow-up-right-from-square"><path fill="currentColor" d="M256 64C256 46.33 270.3 32 288 32H415.1C415.1 32 415.1 32 415.1 32C420.3 32 424.5 32.86 428.2 34.43C431.1 35.98 435.5 38.27 438.6 41.3C438.6 41.35 438.6 41.4 438.7 41.44C444.9 47.66 447.1 55.78 448 63.9C448 63.94 448 63.97 448 64V192C448 209.7 433.7 224 416 224C398.3 224 384 209.7 384 192V141.3L214.6 310.6C202.1 323.1 181.9 323.1 169.4 310.6C156.9 298.1 156.9 277.9 169.4 265.4L338.7 96H288C270.3 96 256 81.67 256 64V64zM0 128C0 92.65 28.65 64 64 64H160C177.7 64 192 78.33 192 96C192 113.7 177.7 128 160 128H64V416H352V320C352 302.3 366.3 288 384 288C401.7 288 416 302.3 416 320V416C416 451.3 387.3 480 352 480H64C28.65 480 0 451.3 0 416V128z"></path></svg></a>, который наследуется от нативного
  <a href="https://www.php.net/manual/ru/class.datetime.php" target="_blank" rel="nofollow noopener noreferrer" class="inline-flex items-center external-link"><!----> <span>DateTime</span> <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="arrow-up-right-from-square" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="ml-1 w-2 text-gray-500 dark:text-gray-300 dark:text-opacity-60 svg-inline--fa fa-arrow-up-right-from-square"><path fill="currentColor" d="M256 64C256 46.33 270.3 32 288 32H415.1C415.1 32 415.1 32 415.1 32C420.3 32 424.5 32.86 428.2 34.43C431.1 35.98 435.5 38.27 438.6 41.3C438.6 41.35 438.6 41.4 438.7 41.44C444.9 47.66 447.1 55.78 448 63.9C448 63.94 448 63.97 448 64V192C448 209.7 433.7 224 416 224C398.3 224 384 209.7 384 192V141.3L214.6 310.6C202.1 323.1 181.9 323.1 169.4 310.6C156.9 298.1 156.9 277.9 169.4 265.4L338.7 96H288C270.3 96 256 81.67 256 64V64zM0 128C0 92.65 28.65 64 64 64H160C177.7 64 192 78.33 192 96C192 113.7 177.7 128 160 128H64V416H352V320C352 302.3 366.3 288 384 288C401.7 288 416 302.3 416 320V416C416 451.3 387.3 480 352 480H64C28.65 480 0 451.3 0 416V128z"></path></svg></a>.
</p>
<p>
  Поля модели такие как <span class="bit">created_at</span>,
  <span class="bit">updated_at</span>,
  <span class="bit">deleted_at</span>
  и другие, которые имеют каст, содержат не строку, а объект <span class="bit">\Carbon\Carbon</span>,
  поэтому нет смысла и необходимости повторно оборачивать в <span class="bit">\DateTime</span>
</p>
<div data-fetch-key="CodeChips:35" class="relative"><div class="pre relative"><div class="mb-2"><!----> <span class="text-pink-600"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="face-angry" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="mr-2 text-xl svg-inline--fa fa-face-angry"><path fill="currentColor" d="M512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256zM339.9 373.3C323.8 355.4 295.7 336 256 336C216.3 336 188.2 355.4 172.1 373.3C166.2 379.9 166.7 389.1 173.3 395.9C179.9 401.8 189.1 401.3 195.9 394.7C207.6 381.7 227.5 368 255.1 368C284.5 368 304.4 381.7 316.1 394.7C322 401.3 332.1 401.8 338.7 395.9C345.3 389.1 345.8 379.9 339.9 373.3H339.9zM176.4 272C194 272 208.4 257.7 208.4 240C208.4 238.5 208.3 237 208.1 235.6L218.9 239.2C227.3 241.1 236.4 237.4 239.2 229.1C241.1 220.7 237.4 211.6 229.1 208.8L133.1 176.8C124.7 174 115.6 178.6 112.8 186.9C110 195.3 114.6 204.4 122.9 207.2L153.7 217.4C147.9 223.2 144.4 231.2 144.4 240C144.4 257.7 158.7 272 176.4 272zM358.9 217.2L389.1 207.2C397.4 204.4 401.1 195.3 399.2 186.9C396.4 178.6 387.3 174 378.9 176.8L282.9 208.8C274.6 211.6 270 220.7 272.8 229.1C275.6 237.4 284.7 241.1 293.1 239.2L304.7 235.3C304.5 236.8 304.4 238.4 304.4 240C304.4 257.7 318.7 272 336.4 272C354 272 368.4 257.7 368.4 240C368.4 231.1 364.7 223 358.9 217.2H358.9z"></path></svg> <span class="font-normal">Bad</span></span></div> <div><pre class="torchlight" style="background-color:#011627;--theme-selection-background:#4373c2" data-torchlight-processed="3449c9e5e332f1dbb81505cd739fbf3f"><code data-lang="php"><!-- Syntax highlighted by torchlight.dev --><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">1</span><span style="color:#bec5d4">$date</span><span style="color:#d6deeb"> </span><span style="color:#c792ea">=</span><span style="color:#d6deeb"> </span><span style="color:#7fdbca">new</span><span style="color:#d6deeb"> </span><span style="color:#c5e478">\DateTime</span><span style="color:#d6deeb">(</span><span style="color:#bec5d4">$post</span><span style="color:#7fdbca">-></span><span style="color:#bec5d4">created_at</span><span style="color:#d6deeb">);</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">2</span><span style="color:#bec5d4">$date</span><span style="color:#7fdbca">-></span><span style="color:#82aaff">add</span><span style="color:#d6deeb">(</span><span style="color:#7fdbca">new</span><span style="color:#d6deeb"> </span><span style="color:#c5e478">\DateInterval</span><span style="color:#d6deeb">(</span><span style="color:#d9f5dd">'</span><span style="color:#ecc48d">P1D</span><span style="color:#d9f5dd">'</span><span style="color:#d6deeb">));</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">3</span><span style="color:#bec5d4">$date</span><span style="color:#7fdbca">-></span><span style="color:#82aaff">format</span><span style="color:#d6deeb">(</span><span style="color:#d9f5dd">'</span><span style="color:#ecc48d">Y-m-d</span><span style="color:#d9f5dd">'</span><span style="color:#d6deeb">);</span></div><textarea data-torchlight-original="true" style="display:none!important">$date = new \DateTime($post->created_at);
$date->add(new \DateInterval('P1D'));
$date->format('Y-m-d');
</textarea></code></pre>
</div></div> <a href="https://torchlight.dev" target="_blank" rel="nofollow noopener noreferrer" class="absolute bottom-3 sm:bottom-1 right-2 text-xs text-white dark:text-white text-opacity-20 dark:text-opacity-20 hover:text-white dark:hover:text-white hover:text-opacity-40 dark:hover:text-opacity-40 select-none">
    highlight by torchlight.dev
  </a> <button title="Copy to Clipboard" class="absolute top-1 sm:top-2 right-3 text-white dark:text-brand-secondary-dark text-opacity-20 dark:text-opacity-30 hover:text-opacity-70 dark:hover:text-opacity-70"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="clipboard" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512" class="svg-inline--fa fa-clipboard"><path fill="currentColor" d="M336 64h-53.88C268.9 26.8 233.7 0 192 0S115.1 26.8 101.9 64H48C21.5 64 0 85.48 0 112v352C0 490.5 21.5 512 48 512h288c26.5 0 48-21.48 48-48v-352C384 85.48 362.5 64 336 64zM192 64c17.67 0 32 14.33 32 32c0 17.67-14.33 32-32 32S160 113.7 160 96C160 78.33 174.3 64 192 64zM272 224h-160C103.2 224 96 216.8 96 208C96 199.2 103.2 192 112 192h160C280.8 192 288 199.2 288 208S280.8 224 272 224z"></path></svg></button></div>
<p>
  Код выше работает, потому что <span class="bit code">$post->created_at</span> имеет метод
  <span class="bit code">toString()</span>. В результате объект конвертируется в строку,
  чтобы создать новый объект, но уже нативный, а не <span class="bit">Carbon</span>
</p>
<p>
  Вместо этого сразу можно работать с датой как с объектом:
</p>
<div data-fetch-key="CodeChips:36" class="relative"><div class="pre relative"><div class="mb-2"><span class="text-brand-success-light dark:text-brand-success-dark"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="square-check" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="mr-2 text-xl svg-inline--fa fa-square-check"><path fill="currentColor" d="M384 32C419.3 32 448 60.65 448 96V416C448 451.3 419.3 480 384 480H64C28.65 480 0 451.3 0 416V96C0 60.65 28.65 32 64 32H384zM339.8 211.8C350.7 200.9 350.7 183.1 339.8 172.2C328.9 161.3 311.1 161.3 300.2 172.2L192 280.4L147.8 236.2C136.9 225.3 119.1 225.3 108.2 236.2C97.27 247.1 97.27 264.9 108.2 275.8L172.2 339.8C183.1 350.7 200.9 350.7 211.8 339.8L339.8 211.8z"></path></svg> <span class="font-normal">Good</span></span> <!----></div> <div><pre class="torchlight" style="background-color:#011627;--theme-selection-background:#4373c2" data-torchlight-processed="3449c9e5e332f1dbb81505cd739fbf3f"><code data-lang="php"><!-- Syntax highlighted by torchlight.dev --><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">1</span><span style="color:#bec5d4">$date</span><span style="color:#d6deeb"> </span><span style="color:#c792ea">=</span><span style="color:#d6deeb"> </span><span style="color:#bec5d4">$post</span><span style="color:#7fdbca">-></span><span style="color:#bec5d4">created_at</span><span style="color:#7fdbca">-></span><span style="color:#82aaff">addDay</span><span style="color:#d6deeb">();</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">2</span><span style="color:#bec5d4">$date</span><span style="color:#7fdbca">-></span><span style="color:#82aaff">format</span><span style="color:#d6deeb">(</span><span style="color:#d9f5dd">'</span><span style="color:#ecc48d">Y-m-d</span><span style="color:#d9f5dd">'</span><span style="color:#d6deeb">);</span></div><textarea data-torchlight-original="true" style="display:none!important">$date = $post->created_at->addDay();
$date->format('Y-m-d');
</textarea></code></pre>
</div></div> <a href="https://torchlight.dev" target="_blank" rel="nofollow noopener noreferrer" class="absolute bottom-3 sm:bottom-1 right-2 text-xs text-white dark:text-white text-opacity-20 dark:text-opacity-20 hover:text-white dark:hover:text-white hover:text-opacity-40 dark:hover:text-opacity-40 select-none">
    highlight by torchlight.dev
  </a> <button title="Copy to Clipboard" class="absolute top-1 sm:top-2 right-3 text-white dark:text-brand-secondary-dark text-opacity-20 dark:text-opacity-30 hover:text-opacity-70 dark:hover:text-opacity-70"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="clipboard" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512" class="svg-inline--fa fa-clipboard"><path fill="currentColor" d="M336 64h-53.88C268.9 26.8 233.7 0 192 0S115.1 26.8 101.9 64H48C21.5 64 0 85.48 0 112v352C0 490.5 21.5 512 48 512h288c26.5 0 48-21.48 48-48v-352C384 85.48 362.5 64 336 64zM192 64c17.67 0 32 14.33 32 32c0 17.67-14.33 32-32 32S160 113.7 160 96C160 78.33 174.3 64 192 64zM272 224h-160C103.2 224 96 216.8 96 208C96 199.2 103.2 192 112 192h160C280.8 192 288 199.2 288 208S280.8 224 272 224z"></path></svg></button></div></div></div><div class="simple-card"><div id="document-root" class="anchor" data-v-6837b121></div> <h3 class="relative mb-2 inline-block text-xl sm:text-2xl text-brand-heading-light dark:text-brand-heading-dark"><a href="#document-root">
      # Настройка document_root
    </a> <span class="absolute ml-1 -top-3.5 right-0 sm:top-0 sm:left-full text-xs text-shadow-none select-none">
      critical
    </span></h3> <div class="nuxt-content"><p>
  Популярная ошибка у невнимательно читающих
  <a href="https://laravel.com/docs/10.x/deployment#server-configuration" target="_blank" rel="nofollow noopener noreferrer" class="inline-flex items-center external-link"><!----> <span>документацию</span> <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="arrow-up-right-from-square" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="ml-1 w-2 text-gray-500 dark:text-gray-300 dark:text-opacity-60 svg-inline--fa fa-arrow-up-right-from-square"><path fill="currentColor" d="M256 64C256 46.33 270.3 32 288 32H415.1C415.1 32 415.1 32 415.1 32C420.3 32 424.5 32.86 428.2 34.43C431.1 35.98 435.5 38.27 438.6 41.3C438.6 41.35 438.6 41.4 438.7 41.44C444.9 47.66 447.1 55.78 448 63.9C448 63.94 448 63.97 448 64V192C448 209.7 433.7 224 416 224C398.3 224 384 209.7 384 192V141.3L214.6 310.6C202.1 323.1 181.9 323.1 169.4 310.6C156.9 298.1 156.9 277.9 169.4 265.4L338.7 96H288C270.3 96 256 81.67 256 64V64zM0 128C0 92.65 28.65 64 64 64H160C177.7 64 192 78.33 192 96C192 113.7 177.7 128 160 128H64V416H352V320C352 302.3 366.3 288 384 288C401.7 288 416 302.3 416 320V416C416 451.3 387.3 480 352 480H64C28.65 480 0 451.3 0 416V128z"></path></svg></a>,
  в которой сказано, что запросы должны приходить в <span class="bit path">public/index.php</span>
</p>
<p>
  Чаще всего проблема вызвана попыткой завести лару на виртуальном хостинге (shared hosting),
  который не позволяет управлять корневой директорией web-сервера.
</p>
<p>
  В результате начинающие перемещают <span class="bit path">index.php</span> в корень фреймворка и/или размещают
  <span class="bit path">.htaccess</span> в котором настраивают перенаправление в <span class="bit path">public</span>
</p>
<div data-fetch-key="CodeChips:37" class="relative"><div class="pre relative"><div class="mb-2"><!----> <span class="text-pink-600"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="face-angry" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="mr-2 text-xl svg-inline--fa fa-face-angry"><path fill="currentColor" d="M512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256zM339.9 373.3C323.8 355.4 295.7 336 256 336C216.3 336 188.2 355.4 172.1 373.3C166.2 379.9 166.7 389.1 173.3 395.9C179.9 401.8 189.1 401.3 195.9 394.7C207.6 381.7 227.5 368 255.1 368C284.5 368 304.4 381.7 316.1 394.7C322 401.3 332.1 401.8 338.7 395.9C345.3 389.1 345.8 379.9 339.9 373.3H339.9zM176.4 272C194 272 208.4 257.7 208.4 240C208.4 238.5 208.3 237 208.1 235.6L218.9 239.2C227.3 241.1 236.4 237.4 239.2 229.1C241.1 220.7 237.4 211.6 229.1 208.8L133.1 176.8C124.7 174 115.6 178.6 112.8 186.9C110 195.3 114.6 204.4 122.9 207.2L153.7 217.4C147.9 223.2 144.4 231.2 144.4 240C144.4 257.7 158.7 272 176.4 272zM358.9 217.2L389.1 207.2C397.4 204.4 401.1 195.3 399.2 186.9C396.4 178.6 387.3 174 378.9 176.8L282.9 208.8C274.6 211.6 270 220.7 272.8 229.1C275.6 237.4 284.7 241.1 293.1 239.2L304.7 235.3C304.5 236.8 304.4 238.4 304.4 240C304.4 257.7 318.7 272 336.4 272C354 272 368.4 257.7 368.4 240C368.4 231.1 364.7 223 358.9 217.2H358.9z"></path></svg> <span class="font-normal">Bad</span></span></div> <div><pre class="torchlight" style="background-color:#011627;--theme-selection-background:#4373c2" data-torchlight-processed="3449c9e5e332f1dbb81505cd739fbf3f"><code data-lang="apache"><!-- Syntax highlighted by torchlight.dev --><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">1</span><span style="color:#637777"># .htaccess</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">2</span><span style="color:#c792ea">RewriteRule</span><span style="color:#d6deeb"> </span><span style="color:#5ca7e4">^$</span><span style="color:#d6deeb"> </span><span style="color:#ecc48d">public/index.php</span><span style="color:#d6deeb"> [L]</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">3</span><span style="color:#c792ea">RewriteRule</span><span style="color:#d6deeb"> </span><span style="color:#5ca7e4">^(.*)$</span><span style="color:#d6deeb"> </span><span style="color:#ecc48d">public/$1</span><span style="color:#d6deeb"> [L]</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">4</span><span style="color:#637777"># or any variants</span></div><textarea data-torchlight-original="true" style="display:none!important"># .htaccess
RewriteRule ^$ public/index.php [L]
RewriteRule ^(.*)$ public/$1 [L]
# or any variants
</textarea></code></pre>
</div></div> <a href="https://torchlight.dev" target="_blank" rel="nofollow noopener noreferrer" class="absolute bottom-3 sm:bottom-1 right-2 text-xs text-white dark:text-white text-opacity-20 dark:text-opacity-20 hover:text-white dark:hover:text-white hover:text-opacity-40 dark:hover:text-opacity-40 select-none">
    highlight by torchlight.dev
  </a> <button title="Copy to Clipboard" class="absolute top-1 sm:top-2 right-3 text-white dark:text-brand-secondary-dark text-opacity-20 dark:text-opacity-30 hover:text-opacity-70 dark:hover:text-opacity-70"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="clipboard" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512" class="svg-inline--fa fa-clipboard"><path fill="currentColor" d="M336 64h-53.88C268.9 26.8 233.7 0 192 0S115.1 26.8 101.9 64H48C21.5 64 0 85.48 0 112v352C0 490.5 21.5 512 48 512h288c26.5 0 48-21.48 48-48v-352C384 85.48 362.5 64 336 64zM192 64c17.67 0 32 14.33 32 32c0 17.67-14.33 32-32 32S160 113.7 160 96C160 78.33 174.3 64 192 64zM272 224h-160C103.2 224 96 216.8 96 208C96 199.2 103.2 192 112 192h160C280.8 192 288 199.2 288 208S280.8 224 272 224z"></path></svg></button></div>
<p>
  Это серьёзная проблема безопасности, а в случае с Apache ещё страдает и производительность.
  Приложение должно находиться за пределами публичной директории, а web-сервер "смотреть"
  в <span class="bit path">public</span>
</p>
<div data-fetch-key="CodeChips:38" class="relative"><div class="pre relative"><div class="mb-2"><span class="text-brand-success-light dark:text-brand-success-dark"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="square-check" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="mr-2 text-xl svg-inline--fa fa-square-check"><path fill="currentColor" d="M384 32C419.3 32 448 60.65 448 96V416C448 451.3 419.3 480 384 480H64C28.65 480 0 451.3 0 416V96C0 60.65 28.65 32 64 32H384zM339.8 211.8C350.7 200.9 350.7 183.1 339.8 172.2C328.9 161.3 311.1 161.3 300.2 172.2L192 280.4L147.8 236.2C136.9 225.3 119.1 225.3 108.2 236.2C97.27 247.1 97.27 264.9 108.2 275.8L172.2 339.8C183.1 350.7 200.9 350.7 211.8 339.8L339.8 211.8z"></path></svg> <span class="font-normal">Good</span></span> <!----></div> <div><pre class="torchlight" style="background-color:#011627;--theme-selection-background:#4373c2" data-torchlight-processed="3449c9e5e332f1dbb81505cd739fbf3f"><code data-lang="nginx"><!-- Syntax highlighted by torchlight.dev --><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">1</span><span style="color:#637777"># Nginx</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">2</span><span style="color:#c792ea">server</span><span style="color:#d6deeb"> {</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">3</span><span style="color:#d6deeb"> </span><span style="color:#c792ea"> root </span><span style="color:#d6deeb">/srv/example.com/public;</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">4</span><span style="color:#d6deeb">}</span></div><textarea data-torchlight-original="true" style="display:none!important"># Nginx
server {
  root /srv/example.com/public;
}
</textarea></code></pre>
<pre class="torchlight" style="background-color:#011627;--theme-selection-background:#4373c2" data-torchlight-processed="3449c9e5e332f1dbb81505cd739fbf3f"><code data-lang="apache"><!-- Syntax highlighted by torchlight.dev --><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">1</span><span style="color:#637777"># Apache</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">2</span><span style="color:#7fdbca">&lt;</span><span style="color:#d6deeb">VirtualHost</span><span style="color:#7fdbca">></span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">3</span><span style="color:#d6deeb">  </span><span style="color:#c792ea">DocumentRoot</span><span style="color:#d6deeb"> /srv/example.com/public</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">4</span><span style="color:#7fdbca">&lt;/</span><span style="color:#d6deeb">VirtualHost</span><span style="color:#7fdbca">></span></div><textarea data-torchlight-original="true" style="display:none!important"># Apache
&lt;VirtualHost>
  DocumentRoot /srv/example.com/public
&lt;/VirtualHost>
</textarea></code></pre>
</div></div> <a href="https://torchlight.dev" target="_blank" rel="nofollow noopener noreferrer" class="absolute bottom-3 sm:bottom-1 right-2 text-xs text-white dark:text-white text-opacity-20 dark:text-opacity-20 hover:text-white dark:hover:text-white hover:text-opacity-40 dark:hover:text-opacity-40 select-none">
    highlight by torchlight.dev
  </a> <button title="Copy to Clipboard" class="absolute top-1 sm:top-2 right-3 text-white dark:text-brand-secondary-dark text-opacity-20 dark:text-opacity-30 hover:text-opacity-70 dark:hover:text-opacity-70"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="clipboard" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512" class="svg-inline--fa fa-clipboard"><path fill="currentColor" d="M336 64h-53.88C268.9 26.8 233.7 0 192 0S115.1 26.8 101.9 64H48C21.5 64 0 85.48 0 112v352C0 490.5 21.5 512 48 512h288c26.5 0 48-21.48 48-48v-352C384 85.48 362.5 64 336 64zM192 64c17.67 0 32 14.33 32 32c0 17.67-14.33 32-32 32S160 113.7 160 96C160 78.33 174.3 64 192 64zM272 224h-160C103.2 224 96 216.8 96 208C96 199.2 103.2 192 112 192h160C280.8 192 288 199.2 288 208S280.8 224 272 224z"></path></svg></button></div>
<p>
  Если нет возможности изменить document_root,
  то читай <a href="/shared-hosting/">«Как установить Laravel на хостинг»</a>.
</p></div></div><div class="simple-card"><div id="naming" class="anchor" data-v-6837b121></div> <h3 class="relative mb-2 inline-block text-xl sm:text-2xl text-brand-heading-light dark:text-brand-heading-dark"><a href="#naming">
      # Именования
    </a> <!----></h3> <div class="nuxt-content"><p>
  Данная тема не относится к самому фреймворку и вроде всё понятно и нечего обсуждать,
  но каждый день в чатах скидывают код, в котором совершены одни и те же ошибки именования.
</p>
<div data-fetch-key="CodeChips:39" class="relative"><div class="pre relative"><div class="mb-2"><!----> <span class="text-pink-600"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="face-angry" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="mr-2 text-xl svg-inline--fa fa-face-angry"><path fill="currentColor" d="M512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256zM339.9 373.3C323.8 355.4 295.7 336 256 336C216.3 336 188.2 355.4 172.1 373.3C166.2 379.9 166.7 389.1 173.3 395.9C179.9 401.8 189.1 401.3 195.9 394.7C207.6 381.7 227.5 368 255.1 368C284.5 368 304.4 381.7 316.1 394.7C322 401.3 332.1 401.8 338.7 395.9C345.3 389.1 345.8 379.9 339.9 373.3H339.9zM176.4 272C194 272 208.4 257.7 208.4 240C208.4 238.5 208.3 237 208.1 235.6L218.9 239.2C227.3 241.1 236.4 237.4 239.2 229.1C241.1 220.7 237.4 211.6 229.1 208.8L133.1 176.8C124.7 174 115.6 178.6 112.8 186.9C110 195.3 114.6 204.4 122.9 207.2L153.7 217.4C147.9 223.2 144.4 231.2 144.4 240C144.4 257.7 158.7 272 176.4 272zM358.9 217.2L389.1 207.2C397.4 204.4 401.1 195.3 399.2 186.9C396.4 178.6 387.3 174 378.9 176.8L282.9 208.8C274.6 211.6 270 220.7 272.8 229.1C275.6 237.4 284.7 241.1 293.1 239.2L304.7 235.3C304.5 236.8 304.4 238.4 304.4 240C304.4 257.7 318.7 272 336.4 272C354 272 368.4 257.7 368.4 240C368.4 231.1 364.7 223 358.9 217.2H358.9z"></path></svg> <span class="font-normal">Bad</span></span></div> <div><pre class="torchlight" style="background-color:#011627;--theme-selection-background:#4373c2" data-torchlight-processed="3449c9e5e332f1dbb81505cd739fbf3f"><code data-lang="php"><!-- Syntax highlighted by torchlight.dev --><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">1</span><span style="color:#bec5d4">$post</span><span style="color:#d6deeb"> </span><span style="color:#c792ea">=</span><span style="color:#d6deeb"> </span><span style="color:#ffcb8b">Post</span><span style="color:#7fdbca">::</span><span style="color:#82aaff">get</span><span style="color:#d6deeb">(); </span><span style="color:#637777">//</span><span style="color:#637777"> Collection</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">2</span> </div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">3</span><span style="color:#bec5d4">$model</span><span style="color:#d6deeb"> </span><span style="color:#c792ea">=</span><span style="color:#d6deeb"> </span><span style="color:#ffcb8b">Post</span><span style="color:#7fdbca">::</span><span style="color:#82aaff">first</span><span style="color:#d6deeb">(); </span><span style="color:#637777">//</span><span style="color:#637777"> Model</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">4</span> </div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">5</span><span style="color:#bec5d4">$user</span><span style="color:#d6deeb"> </span><span style="color:#c792ea">=</span><span style="color:#d6deeb"> </span><span style="color:#ffcb8b">Auth</span><span style="color:#7fdbca">::</span><span style="color:#82aaff">id</span><span style="color:#d6deeb">(); </span><span style="color:#637777">//</span><span style="color:#637777"> integer</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">6</span> </div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">7</span><span style="color:#bec5d4">$data</span><span style="color:#d6deeb"> </span><span style="color:#c792ea">=</span><span style="color:#d6deeb"> </span><span style="color:#bec5d4">$user</span><span style="color:#7fdbca">-></span><span style="color:#82aaff">getPathArray</span><span style="color:#d6deeb">(); </span><span style="color:#637777">//</span><span style="color:#637777"> array</span></div><textarea data-torchlight-original="true" style="display:none!important">$post = Post::get(); // Collection

$model = Post::first(); // Model

$user = Auth::id(); // integer

$data = $user->getPathArray(); // array
</textarea></code></pre>
</div></div> <a href="https://torchlight.dev" target="_blank" rel="nofollow noopener noreferrer" class="absolute bottom-3 sm:bottom-1 right-2 text-xs text-white dark:text-white text-opacity-20 dark:text-opacity-20 hover:text-white dark:hover:text-white hover:text-opacity-40 dark:hover:text-opacity-40 select-none">
    highlight by torchlight.dev
  </a> <button title="Copy to Clipboard" class="absolute top-1 sm:top-2 right-3 text-white dark:text-brand-secondary-dark text-opacity-20 dark:text-opacity-30 hover:text-opacity-70 dark:hover:text-opacity-70"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="clipboard" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512" class="svg-inline--fa fa-clipboard"><path fill="currentColor" d="M336 64h-53.88C268.9 26.8 233.7 0 192 0S115.1 26.8 101.9 64H48C21.5 64 0 85.48 0 112v352C0 490.5 21.5 512 48 512h288c26.5 0 48-21.48 48-48v-352C384 85.48 362.5 64 336 64zM192 64c17.67 0 32 14.33 32 32c0 17.67-14.33 32-32 32S160 113.7 160 96C160 78.33 174.3 64 192 64zM272 224h-160C103.2 224 96 216.8 96 208C96 199.2 103.2 192 112 192h160C280.8 192 288 199.2 288 208S280.8 224 272 224z"></path></svg></button></div>
<p>
  Принцип простой - названия переменных, методов, классов и т.п.
  должны отражать содержимое или предназначение.
  Обрати внимание, что <b>"содержимое" это не тип данных</b>.
</p>
<p>
  Если переменная содержит много элементов (массив, коллекция), то имя во множественном числе, иначе в единственном.
</p>
<div data-fetch-key="CodeChips:40" class="relative"><div class="pre relative"><div class="mb-2"><span class="text-brand-success-light dark:text-brand-success-dark"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="square-check" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="mr-2 text-xl svg-inline--fa fa-square-check"><path fill="currentColor" d="M384 32C419.3 32 448 60.65 448 96V416C448 451.3 419.3 480 384 480H64C28.65 480 0 451.3 0 416V96C0 60.65 28.65 32 64 32H384zM339.8 211.8C350.7 200.9 350.7 183.1 339.8 172.2C328.9 161.3 311.1 161.3 300.2 172.2L192 280.4L147.8 236.2C136.9 225.3 119.1 225.3 108.2 236.2C97.27 247.1 97.27 264.9 108.2 275.8L172.2 339.8C183.1 350.7 200.9 350.7 211.8 339.8L339.8 211.8z"></path></svg> <span class="font-normal">Good</span></span> <!----></div> <div><pre class="torchlight" style="background-color:#011627;--theme-selection-background:#4373c2" data-torchlight-processed="3449c9e5e332f1dbb81505cd739fbf3f"><code data-lang="php"><!-- Syntax highlighted by torchlight.dev --><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">1</span><span style="color:#bec5d4">$posts</span><span style="color:#d6deeb"> </span><span style="color:#c792ea">=</span><span style="color:#d6deeb"> </span><span style="color:#ffcb8b">Post</span><span style="color:#7fdbca">::</span><span style="color:#82aaff">get</span><span style="color:#d6deeb">(); </span><span style="color:#637777">//</span><span style="color:#637777"> Collection</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">2</span> </div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">3</span><span style="color:#bec5d4">$post</span><span style="color:#d6deeb"> </span><span style="color:#c792ea">=</span><span style="color:#d6deeb"> </span><span style="color:#ffcb8b">Post</span><span style="color:#7fdbca">::</span><span style="color:#82aaff">first</span><span style="color:#d6deeb">(); </span><span style="color:#637777">//</span><span style="color:#637777"> Model</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">4</span> </div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">5</span><span style="color:#bec5d4">$userId</span><span style="color:#d6deeb"> </span><span style="color:#c792ea">=</span><span style="color:#d6deeb"> </span><span style="color:#ffcb8b">Auth</span><span style="color:#7fdbca">::</span><span style="color:#82aaff">id</span><span style="color:#d6deeb">(); </span><span style="color:#637777">//</span><span style="color:#637777"> integer</span></div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">6</span> </div><div class="line"><span style="color:#4b6479;text-align:right;-webkit-user-select:none;user-select:none" class="line-number">7</span><span style="color:#bec5d4">$userPhotos</span><span style="color:#d6deeb"> </span><span style="color:#c792ea">=</span><span style="color:#d6deeb"> </span><span style="color:#bec5d4">$user</span><span style="color:#7fdbca">-></span><span style="color:#82aaff">getPhotos</span><span style="color:#d6deeb">(); </span><span style="color:#637777">//</span><span style="color:#637777"> array</span></div><textarea data-torchlight-original="true" style="display:none!important">$posts = Post::get(); // Collection

$post = Post::first(); // Model

$userId = Auth::id(); // integer

$userPhotos = $user->getPhotos(); // array
</textarea></code></pre>
</div></div> <a href="https://torchlight.dev" target="_blank" rel="nofollow noopener noreferrer" class="absolute bottom-3 sm:bottom-1 right-2 text-xs text-white dark:text-white text-opacity-20 dark:text-opacity-20 hover:text-white dark:hover:text-white hover:text-opacity-40 dark:hover:text-opacity-40 select-none">
    highlight by torchlight.dev
  </a> <button title="Copy to Clipboard" class="absolute top-1 sm:top-2 right-3 text-white dark:text-brand-secondary-dark text-opacity-20 dark:text-opacity-30 hover:text-opacity-70 dark:hover:text-opacity-70"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="clipboard" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512" class="svg-inline--fa fa-clipboard"><path fill="currentColor" d="M336 64h-53.88C268.9 26.8 233.7 0 192 0S115.1 26.8 101.9 64H48C21.5 64 0 85.48 0 112v352C0 490.5 21.5 512 48 512h288c26.5 0 48-21.48 48-48v-352C384 85.48 362.5 64 336 64zM192 64c17.67 0 32 14.33 32 32c0 17.67-14.33 32-32 32S160 113.7 160 96C160 78.33 174.3 64 192 64zM272 224h-160C103.2 224 96 216.8 96 208C96 199.2 103.2 192 112 192h160C280.8 192 288 199.2 288 208S280.8 224 272 224z"></path></svg></button></div></div></div></div></div></main></div> <div class="sidebar" data-v-95132b46 data-v-ec9c0286><!----> <div class="nav-buttons" data-v-95132b46><!----> <button disabled aria-label="Scroll" class="nav-button scroll-to" data-v-95132b46><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="arrow-up" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512" class="transition svg-inline--fa fa-arrow-up"><path fill="currentColor" d="M374.6 246.6C368.4 252.9 360.2 256 352 256s-16.38-3.125-22.62-9.375L224 141.3V448c0 17.69-14.33 31.1-31.1 31.1S160 465.7 160 448V141.3L54.63 246.6c-12.5 12.5-32.75 12.5-45.25 0s-12.5-32.75 0-45.25l160-160c12.5-12.5 32.75-12.5 45.25 0l160 160C387.1 213.9 387.1 234.1 374.6 246.6z"></path></svg></button> <a href="https://github.com/Laraway/laraway.github.io/issues/new" target="_blank" rel="nofollow noopener noreferrer" title="Сообщить об ошибке" class="nav-button" data-v-95132b46><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="bug" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="svg-inline--fa fa-bug" data-v-95132b46 data-v-95132b46><path fill="currentColor" d="M352 96V99.56C352 115.3 339.3 128 323.6 128H188.4C172.7 128 159.1 115.3 159.1 99.56V96C159.1 42.98 202.1 0 255.1 0C309 0 352 42.98 352 96zM41.37 105.4C53.87 92.88 74.13 92.88 86.63 105.4L150.6 169.4C151.3 170 151.9 170.7 152.5 171.4C166.8 164.1 182.9 160 199.1 160H312C329.1 160 345.2 164.1 359.5 171.4C360.1 170.7 360.7 170 361.4 169.4L425.4 105.4C437.9 92.88 458.1 92.88 470.6 105.4C483.1 117.9 483.1 138.1 470.6 150.6L406.6 214.6C405.1 215.3 405.3 215.9 404.6 216.5C410.7 228.5 414.6 241.9 415.7 256H480C497.7 256 512 270.3 512 288C512 305.7 497.7 320 480 320H416C416 344.6 410.5 367.8 400.6 388.6C402.7 389.9 404.8 391.5 406.6 393.4L470.6 457.4C483.1 469.9 483.1 490.1 470.6 502.6C458.1 515.1 437.9 515.1 425.4 502.6L362.3 439.6C337.8 461.4 306.5 475.8 272 479.2V240C272 231.2 264.8 224 255.1 224C247.2 224 239.1 231.2 239.1 240V479.2C205.5 475.8 174.2 461.4 149.7 439.6L86.63 502.6C74.13 515.1 53.87 515.1 41.37 502.6C28.88 490.1 28.88 469.9 41.37 457.4L105.4 393.4C107.2 391.5 109.3 389.9 111.4 388.6C101.5 367.8 96 344.6 96 320H32C14.33 320 0 305.7 0 288C0 270.3 14.33 256 32 256H96.3C97.38 241.9 101.3 228.5 107.4 216.5C106.7 215.9 106 215.3 105.4 214.6L41.37 150.6C28.88 138.1 28.88 117.9 41.37 105.4H41.37z" data-v-95132b46 data-v-95132b46></path></svg></a> <a href="https://t.me/laravel_web" target="_blank" rel="nofollow noopener noreferrer" title="Остались вопросы по Laravel?" class="nav-button" data-v-95132b46><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="telegram" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512" class="svg-inline--fa fa-telegram" data-v-95132b46 data-v-95132b46><path fill="currentColor" d="M248 8C111 8 0 119 0 256S111 504 248 504 496 392.1 496 256 384.1 8 248 8zM362.1 176.7c-3.732 39.22-19.88 134.4-28.1 178.3-3.476 18.58-10.32 24.82-16.95 25.42-14.4 1.326-25.34-9.517-39.29-18.66-21.83-14.31-34.16-23.22-55.35-37.18-24.49-16.14-8.612-25 5.342-39.5 3.652-3.793 67.11-61.51 68.33-66.75 .153-.655 .3-3.1-1.154-4.384s-3.59-.849-5.135-.5q-3.283 .746-104.6 69.14-14.85 10.19-26.89 9.934c-8.855-.191-25.89-5.006-38.55-9.123-15.53-5.048-27.88-7.717-26.8-16.29q.84-6.7 18.45-13.7 108.4-47.25 144.6-62.3c68.87-28.65 83.18-33.62 92.51-33.79 2.052-.034 6.639 .474 9.61 2.885a10.45 10.45 0 0 1 3.53 6.716A43.76 43.76 0 0 1 362.1 176.7z" data-v-95132b46 data-v-95132b46></path></svg></a></div></div></div></div> <div class="row-container" data-v-ec9c0286><div class="py-10" data-v-4e83c450 data-v-ec9c0286><div class="h-separator" data-v-4e83c450></div> <footer class="flex justify-between py-3 dark:text-yellow-100 dark:text-opacity-50 text-sm italic" data-v-4e83c450><div data-v-4e83c450><span data-v-4e83c450>Crafted with</span> <a href="/about/" data-v-4e83c450><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="heart" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="ml-1 fa-beat svg-inline--fa fa-heart" data-v-4e83c450><path fill="currentColor" d="M0 190.9V185.1C0 115.2 50.52 55.58 119.4 44.1C164.1 36.51 211.4 51.37 244 84.02L256 96L267.1 84.02C300.6 51.37 347 36.51 392.6 44.1C461.5 55.58 512 115.2 512 185.1V190.9C512 232.4 494.8 272.1 464.4 300.4L283.7 469.1C276.2 476.1 266.3 480 256 480C245.7 480 235.8 476.1 228.3 469.1L47.59 300.4C17.23 272.1 .0003 232.4 .0003 190.9L0 190.9z" data-v-4e83c450></path></svg></a></div> <div class="support-cell" data-v-4e83c450><a href="https://t.me/laravel_web" target="_blank" rel="nofollow noopener noreferrer" title="Остались вопросы по Laravel?" data-v-4e83c450><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="telegram" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512" class="svg-inline--fa fa-telegram" data-v-4e83c450 data-v-4e83c450><path fill="currentColor" d="M248 8C111 8 0 119 0 256S111 504 248 504 496 392.1 496 256 384.1 8 248 8zM362.1 176.7c-3.732 39.22-19.88 134.4-28.1 178.3-3.476 18.58-10.32 24.82-16.95 25.42-14.4 1.326-25.34-9.517-39.29-18.66-21.83-14.31-34.16-23.22-55.35-37.18-24.49-16.14-8.612-25 5.342-39.5 3.652-3.793 67.11-61.51 68.33-66.75 .153-.655 .3-3.1-1.154-4.384s-3.59-.849-5.135-.5q-3.283 .746-104.6 69.14-14.85 10.19-26.89 9.934c-8.855-.191-25.89-5.006-38.55-9.123-15.53-5.048-27.88-7.717-26.8-16.29q.84-6.7 18.45-13.7 108.4-47.25 144.6-62.3c68.87-28.65 83.18-33.62 92.51-33.79 2.052-.034 6.639 .474 9.61 2.885a10.45 10.45 0 0 1 3.53 6.716A43.76 43.76 0 0 1 362.1 176.7z" data-v-4e83c450 data-v-4e83c450></path></svg></a></div> <div data-v-4e83c450><a href="https://github.com/Laraway/laraway.github.io/issues/new" target="_blank" rel="nofollow noopener noreferrer" class="inline-flex items-center external-link" data-v-4e83c450><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="bug" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="mr-1 dark:opacity-60 svg-inline--fa fa-bug"><path fill="currentColor" d="M352 96V99.56C352 115.3 339.3 128 323.6 128H188.4C172.7 128 159.1 115.3 159.1 99.56V96C159.1 42.98 202.1 0 255.1 0C309 0 352 42.98 352 96zM41.37 105.4C53.87 92.88 74.13 92.88 86.63 105.4L150.6 169.4C151.3 170 151.9 170.7 152.5 171.4C166.8 164.1 182.9 160 199.1 160H312C329.1 160 345.2 164.1 359.5 171.4C360.1 170.7 360.7 170 361.4 169.4L425.4 105.4C437.9 92.88 458.1 92.88 470.6 105.4C483.1 117.9 483.1 138.1 470.6 150.6L406.6 214.6C405.1 215.3 405.3 215.9 404.6 216.5C410.7 228.5 414.6 241.9 415.7 256H480C497.7 256 512 270.3 512 288C512 305.7 497.7 320 480 320H416C416 344.6 410.5 367.8 400.6 388.6C402.7 389.9 404.8 391.5 406.6 393.4L470.6 457.4C483.1 469.9 483.1 490.1 470.6 502.6C458.1 515.1 437.9 515.1 425.4 502.6L362.3 439.6C337.8 461.4 306.5 475.8 272 479.2V240C272 231.2 264.8 224 255.1 224C247.2 224 239.1 231.2 239.1 240V479.2C205.5 475.8 174.2 461.4 149.7 439.6L86.63 502.6C74.13 515.1 53.87 515.1 41.37 502.6C28.88 490.1 28.88 469.9 41.37 457.4L105.4 393.4C107.2 391.5 109.3 389.9 111.4 388.6C101.5 367.8 96 344.6 96 320H32C14.33 320 0 305.7 0 288C0 270.3 14.33 256 32 256H96.3C97.38 241.9 101.3 228.5 107.4 216.5C106.7 215.9 106 215.3 105.4 214.6L41.37 150.6C28.88 138.1 28.88 117.9 41.37 105.4H41.37z"></path></svg> <span>Bug report</span> <!----></a></div></footer></div></div></div></div></div><script defer src="/_nuxt/static/1734457967/bad-practices/state.js"></script><script src="/_nuxt/6dfa931.js" defer></script><script src="/_nuxt/df2754e.js" defer></script><script src="/_nuxt/873f925.js" defer></script><script src="/_nuxt/ab33a62.js" defer></script><script src="/_nuxt/f4c67f5.js" defer></script><script src="/_nuxt/2f8a5f0.js" defer></script><script src="/_nuxt/deabe50.js" defer></script>
  </body>
</html>

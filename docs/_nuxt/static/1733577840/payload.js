__NUXT_JSONP__("/", (function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_,$,aa,ab,ac,ad,ae,af,ag,ah,ai,aj,ak,al,am,an,ao,ap,aq,ar,as,at,au,av,aw,ax,ay,az,aA,aB,aC,aD,aE,aF,aG,aH,aI,aJ,aK,aL,aM,aN,aO,aP,aQ,aR,aS,aT,aU,aV,aW,aX,aY,aZ,a_,a$,ba,bb,bc,bd,be,bf,bg,bh,bi,bj,bk,bl,bm,bn,bo,bp,bq,br,bs,bt,bu,bv,bw,bx,by,bz,bA,bB,bC,bD,bE,bF,bG,bH,bI,bJ,bK,bL,bM,bN,bO,bP,bQ,bR,bS,bT,bU,bV,bW,bX,bY,bZ,b_,b$,ca,cb,cc,cd,ce,cf,cg,ch,ci,cj,ck,cl,cm,cn,co,cp,cq,cr,cs,ct,cu,cv,cw,cx,cy,cz,cA,cB,cC,cD,cE,cF,cG,cH,cI,cJ,cK,cL,cM,cN,cO,cP,cQ,cR,cS,cT,cU,cV,cW,cX,cY,cZ,c_,c$,da,db,dc,dd,de,df,dg,dh,di,dj,dk,dl,dm,dn,do0,dp,dq,dr,ds,dt,du,dv,dw,dx,dy,dz,dA,dB,dC,dD,dE,dF,dG,dH,dI,dJ,dK,dL,dM,dN,dO,dP,dQ,dR,dS,dT,dU,dV,dW,dX,dY,dZ,d_,d$,ea,eb,ec,ed,ee,ef){return {data:[{content:[{slug:"api-headers",description:"Отправь application\u002Fjson в заголовках Accept и Content-Type",heading:"Заголовки для API",altHeadings:"как вернуть json",toc:[],body:{type:o,children:[{type:b,tag:i,props:{heading:A,id:B},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:aP},{type:b,tag:v,props:{},children:[]},{type:a,value:aQ}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:aR},{type:b,tag:w,props:{title:aS,uri:aT},children:[]},{type:a,value:aU}]},{type:a,value:e}]},{type:a,value:e},{type:a,value:e},{type:b,tag:i,props:{heading:aq,id:K},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    Laravel может автоматически возвращать json для обычных или XHR запросов.\n    Поведение управляется с помощью заголовков:\n  "}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:h},{type:b,tag:l,props:{title:"Accept",link:"https:\u002F\u002Fdeveloper.mozilla.org\u002Fru\u002Fdocs\u002FWeb\u002FHTTP\u002FHeaders\u002FAccept"},children:[]},{type:a,value:"\n    сообщает приложению какой тип данных ожидается в ответе.\n    "},{type:b,tag:v,props:{},children:[]},{type:a,value:h},{type:b,tag:l,props:{title:"Content-Type",link:"https:\u002F\u002Fdeveloper.mozilla.org\u002Fru\u002Fdocs\u002FWeb\u002FHTTP\u002FHeaders\u002FContent-Type"},children:[]},{type:a,value:"\n    сообщает о типе данных в запросе или ответе.\n  "}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:i,props:{heading:X,id:W},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    Таким образом, необходимо с клиента отправить правильные заголовки для json:\n  "}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:h},{type:b,tag:f,props:{className:[g]},children:[{type:a,value:"Accept: application\u002Fjson"}]},{type:a,value:h},{type:b,tag:v,props:{},children:[]},{type:a,value:h},{type:b,tag:f,props:{className:[g]},children:[{type:a,value:"Content-Type: application\u002Fjson"}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:ag},{type:b,tag:w,props:{title:L,uri:"requests#retrieving-json-input-values"},children:[]},{type:a,value:"\n    Content-Type укажет фреймворку, что входящие данные являются json\n    и таким образом можно будет работать с ними как с обычными\n    или массивом, не прибегая к предварительному декодированию с помощью\n    "},{type:b,tag:f,props:{className:[g,n]},children:[{type:a,value:"json_decode()"}]},{type:a,value:c}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:i,props:{heading:"Ответ приложения",id:"response"},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:ag},{type:b,tag:w,props:{title:L,uri:"responses#json-responses"},children:[]},{type:a,value:"\n    метод "},{type:b,tag:f,props:{className:[g,n]},children:[{type:a,value:"response()-\u003Ejson()"}]},{type:a,value:"\n    автоматически конвертирует данные в json и устанавливает необходимые заголовки,\n    поэтому никаких дополнительных действий не требуется.\n  "}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:i,props:{heading:"Всегда json",id:"only-json"},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    Если Laravel используется как API и всегда запрос\u002Fответ должны быть в json, то можно установить заголовки в middleware:\n  "}]},{type:a,value:c},{type:b,tag:p,props:{name:"cases\u002Fapi-headers\u002Fmiddleware-set"},children:[]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    Это позволит клиентам не устанавливать заголовки, но вопрос "},{type:b,tag:j,props:{},children:[{type:a,value:"действительно ли это так необходимо"}]},{type:a,value:"?\n  "}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    Другой вариант - проверять в middleware заголовки и возвращать\n    "},{type:b,tag:l,props:{title:"406 Not Acceptable",link:"https:\u002F\u002Fdeveloper.mozilla.org\u002Fru\u002Fdocs\u002FWeb\u002FHTTP\u002FStatus\u002F406"},children:[]},{type:a,value:",\n    или любой другой код ошибки.\n    "},{type:b,tag:j,props:{},children:[{type:a,value:aV}]},{type:a,value:", так будет правильнее.\n  "}]},{type:a,value:c},{type:b,tag:p,props:{name:"cases\u002Fapi-headers\u002Fmiddleware-check"},children:[]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    А ещё лучше это сделать на уровне nginx (web-сервера), а не php.\n  "}]},{type:a,value:c},{type:b,tag:p,props:{name:"cases\u002Fapi-headers\u002Fnginx-check"},children:[]},{type:a,value:e}]}]},excerpt:{type:o,children:[{type:b,tag:i,props:{heading:A,id:B},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:aP},{type:b,tag:v,props:{},children:[]},{type:a,value:aQ}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:aR},{type:b,tag:w,props:{title:aS,uri:aT},children:[]},{type:a,value:aU}]},{type:a,value:e}]}]},dir:x,path:"\u002Fcases\u002Fapi-headers",extension:y,createdAt:ar,updatedAt:"2024-02-21T11:34:04.984Z"},{slug:"artisan-not-working",description:aW,heading:"Не работает Artisan",altHeadings:D,toc:[],body:{type:o,children:[{type:b,tag:i,props:{heading:A,id:B},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:aX},{type:b,tag:f,props:{className:[g,n]},children:[{type:a,value:aY}]},{type:a,value:aZ}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:a_},{type:b,tag:l,props:{title:a$,link:ba},children:[]},{type:a,value:c}]},{type:a,value:e}]},{type:a,value:e},{type:a,value:e},{type:b,tag:i,props:{heading:"С чего начать",id:"where"},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    Все ошибки должны быть в логах, проверь\n    "},{type:b,tag:f,props:{className:[g,k]},children:[{type:a,value:ah}]},{type:a,value:"\n    (также смотри "},{type:b,tag:E,props:{to:ai},children:[{type:a,value:as}]},{type:a,value:")\n  "}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:i,props:{heading:"Популярные причины",id:K},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    Причин может быть много, поэтому ищи ошибки в логах, но вот самые популярные:\n  "}]},{type:a,value:c},{type:b,tag:M,props:{className:[N,G]},children:[{type:a,value:h},{type:b,tag:q,props:{},children:[{type:a,value:"неподдерживаемая версия php cli: "},{type:b,tag:f,props:{className:[g]},children:[{type:a,value:"php -v"}]}]},{type:a,value:h},{type:b,tag:q,props:{},children:[{type:a,value:"ошибки в роутах (например, не найден контроллер)"}]},{type:a,value:h},{type:b,tag:q,props:{},children:[{type:a,value:"ошибки в "},{type:b,tag:f,props:{className:[g]},children:[{type:a,value:"AppServiceProvider"}]},{type:a,value:" (например, запросы к БД)"}]},{type:a,value:c}]},{type:a,value:e}]}]},excerpt:{type:o,children:[{type:b,tag:i,props:{heading:A,id:B},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:aX},{type:b,tag:f,props:{className:[g,n]},children:[{type:a,value:aY}]},{type:a,value:aZ}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:a_},{type:b,tag:l,props:{title:a$,link:ba},children:[]},{type:a,value:c}]},{type:a,value:e}]}]},dir:x,path:"\u002Fcases\u002Fartisan-not-working",extension:y,createdAt:z,updatedAt:aa},{slug:"backend-frontend",description:"Ajax, переменная в script или html-атрибут",heading:"Передача данных в JS",altHeadings:D,toc:[],body:{type:o,children:[{type:b,tag:d,props:{},children:[{type:a,value:bb},{type:b,tag:f,props:{className:[C]},children:[{type:a,value:bc}]},{type:a,value:bd}]},{type:a,value:e},{type:a,value:e},{type:b,tag:i,props:{heading:"AJAX",id:"ajax"},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    Самый очевидный и популярный способ, это сделать AJAX-запрос на api,\n    в ответе получим необходимые данные, например, в json или html.\n  "}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    Подходит если данные не нужны во время первого выполнения и мы можем получить их позже в фоне.\n  "}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    Один из популярных примеров - это фильтр товаров. Поскольку выборка из базы данных может занять некоторое время,\n    то для ускорения загрузки основной страницы (первого ответа сервера)\n    такие запросы откладывают и запрашивают список товаров асинхронно.\n  "}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:i,props:{heading:"Тег \u003Cscript\u003E",id:"script"},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    Данный способ подходит, когда данные на frontend необходимы сразу. В html можно использовать тег\n    "},{type:b,tag:l,props:{title:"\u003Cscript\u003E",link:"https:\u002F\u002Fdeveloper.mozilla.org\u002Fru\u002Fdocs\u002FWeb\u002FHTML\u002FElement\u002Fscript"},children:[]},{type:a,value:"\n    код внутри которого будет выполнен сразу после того как будет прочитан клиентом.\n  "}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    Данный код обычно располагают в "},{type:b,tag:f,props:{className:[g]},children:[{type:a,value:"\u003Chead\u003E"}]},{type:a,value:" до подключения остальных скриптов.\n  "}]},{type:a,value:c},{type:b,tag:p,props:{name:"cases\u002Fbackend-frontend\u002Fscript"},children:[]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    Фасад "},{type:b,tag:f,props:{className:[g]},children:[{type:a,value:"Illuminate\\Support\\Js"}]},{type:a,value:" доступен начиная с 8.x версии,\n    подробнее читай в "},{type:b,tag:w,props:{title:L,uri:"blade#rendering-json"},children:[]},{type:a,value:H}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n   Без хелпера необходимо вручную контролировать значения по умолчанию и следить за экранированием:\n  "}]},{type:a,value:c},{type:b,tag:p,props:{name:"cases\u002Fbackend-frontend\u002Fscript-old"},children:[]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:h},{type:b,tag:j,props:{},children:[{type:a,value:P}]},{type:a,value:", что такие переменные являются\n    "},{type:b,tag:l,props:{title:"глобальными",link:"https:\u002F\u002Flearn.javascript.ru\u002Fglobal-object"},children:[]},{type:a,value:",\n    а это bad-практика.\n    Тем не менее, если приходится использовать данный способ, то рекомендую свести количество переменных к минимуму\n    и дать уникальное имя, например с префиксом имени проекта, а обращаться к ним через "},{type:b,tag:f,props:{className:[g,Y]},children:[{type:a,value:"window"}]},{type:a,value:c}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:i,props:{heading:"HTML-атрибут",id:"attr"},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    Аналогично предыдущему способу, только вместо JS переменной передаём значение в data-* атрибут тега, а затем, после\n    загрузки DOM, читаем атрибут тега.\n  "}]},{type:a,value:c},{type:b,tag:p,props:{name:"cases\u002Fbackend-frontend\u002Fhtml-attr-value"},children:[]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    Или как массив\u002Fобъект:\n  "}]},{type:a,value:c},{type:b,tag:p,props:{name:"cases\u002Fbackend-frontend\u002Fhtml-attr-json"},children:[]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    Способ подходит лучше для передачи мелких, локальных (не глобальных) данных, например, адрес,\n    куда необходимо отправить данные после выполнения каких-либо асинхронных действий, вызываемых по клику на элемент.\n    Ещё один пример - передача параметров для слайдера, модального окна или любого другого компонента, которые могут\n    контролироваться backend-ом.\n  "}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:i,props:{heading:"Готовые решения",id:"packages"},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:h},{type:b,tag:l,props:{title:"tighten\u002Fziggy",link:"https:\u002F\u002Fgithub.com\u002Ftighten\u002Fziggy"},children:[]},{type:a,value:h},{type:b,tag:v,props:{},children:[]},{type:a,value:"Если необходимо пробросить маршруты в JS.\n  "}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:h},{type:b,tag:l,props:{title:"rmariuzzo\u002FLaravel-JS-Localization",link:"https:\u002F\u002Fgithub.com\u002Frmariuzzo\u002FLaravel-JS-Localization"},children:[]},{type:a,value:h},{type:b,tag:v,props:{},children:[]},{type:a,value:"Если необходимо пробросить переводы (локализацию) в JS.\n  "}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:h},{type:b,tag:l,props:{title:"Inertiajs",link:"https:\u002F\u002Finertiajs.com"},children:[]},{type:a,value:h},{type:b,tag:v,props:{},children:[]},{type:a,value:"Глобальный пакет для монолитного SPA, который использует вариант с HTML-атрибутом, описанный выше.\n    Не стоит использовать для простого проброса данных, а только для цельных приложений,\n    например, хорошо подходит для админок.\n  "}]},{type:a,value:e}]}]},excerpt:{type:o,children:[{type:b,tag:d,props:{},children:[{type:a,value:bb},{type:b,tag:f,props:{className:[C]},children:[{type:a,value:bc}]},{type:a,value:bd}]}]},dir:x,path:"\u002Fcases\u002Fbackend-frontend",extension:y,createdAt:z,updatedAt:I},{slug:"controller-does-not-exist",description:"Укажи правильный namespace к контроллеру",heading:"Target class Controller does not exist",altHeadings:D,toc:[],body:{type:o,children:[{type:b,tag:d,props:{},children:[{type:a,value:be},{type:b,tag:w,props:{title:bf,uri:bg},children:[]},{type:a,value:bh}]},{type:a,value:e},{type:b,tag:d,props:{className:[t,u]},children:[{type:a,value:bi}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:bj}]},{type:a,value:e},{type:a,value:e},{type:b,tag:p,props:{name:"cases\u002Fcontroller-does-not-exist\u002Fold"},children:[]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"\n  С 8-ой версии используется «callable syntax»:\n"}]},{type:a,value:e},{type:b,tag:p,props:{name:"cases\u002Fcontroller-does-not-exist\u002Fnew"},children:[]},{type:a,value:e},{type:b,tag:d,props:{className:["alert-remark",S]},children:[{type:a,value:"\n  Важно: Не забудь указать "},{type:b,tag:f,props:{className:[g,n]},children:[{type:a,value:"use"}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"\n  Оба варианта рабочие, но в новых версиях был удалён корневой namespace "},{type:b,tag:f,props:{className:[g]},children:[{type:a,value:"App\\Http\\Controllers"}]},{type:a,value:",\n  а значит теперь необходимо указывать полный namespace.\n  Более подробно можно почитать в\n  "},{type:b,tag:w,props:{title:bk,uri:"upgrade#automatic-controller-namespace-prefixing",version:"8.x"},children:[]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:d,props:{className:["pt-2"]},children:[{type:a,value:"\n  Это опциональное изменение для улучшенной поддержки IDE, можно продолжать использовать старый вариант\n  указав полный namespace к классу или указав корневой "},{type:b,tag:f,props:{className:[g,Y]},children:[{type:a,value:"$namespace"}]},{type:a,value:"\n  в "},{type:b,tag:f,props:{className:[g]},children:[{type:a,value:"App\\Providers\\RouteServiceProvider"}]},{type:a,value:", как было в предыдущих версиях,\n  но в этом нет никаких преимуществ и "},{type:b,tag:j,props:{},children:[{type:a,value:"лучше перейти к новому варианту"}]},{type:a,value:T}]}]},excerpt:{type:o,children:[{type:b,tag:d,props:{},children:[{type:a,value:be},{type:b,tag:w,props:{title:bf,uri:bg},children:[]},{type:a,value:bh}]},{type:a,value:e},{type:b,tag:d,props:{className:[t,u]},children:[{type:a,value:bi}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:bj}]}]},dir:x,path:"\u002Fcases\u002Fcontroller-does-not-exist",extension:y,createdAt:z,updatedAt:I},{slug:"cors",description:"Убедись, что нет 500 ошибки или dd(), настрой config\u002Fcors.php или proxy-сервер.",heading:"Blocked by CORS policy",altHeadings:D,toc:[],body:{type:o,children:[{type:b,tag:d,props:{},children:[{type:a,value:bl}]},{type:a,value:e},{type:b,tag:i,props:{heading:A,id:B},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:bm}]},{type:a,value:c},{type:b,tag:d,props:{className:[t,u]},children:[{type:a,value:bn}]},{type:a,value:e}]},{type:a,value:e},{type:a,value:e},{type:b,tag:i,props:{heading:aq,id:K},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:h},{type:b,tag:l,props:{title:"CORS (Cross-Origin Resource Sharing)",link:"https:\u002F\u002Fdeveloper.mozilla.org\u002Fru\u002Fdocs\u002FWeb\u002FHTTP\u002FCORS"},children:[]},{type:a,value:"\n    простыми словами - механизм безопасности, который ограничивает кросс-доменные запросы согласно политике\n    "},{type:b,tag:l,props:{title:"«Same-origin policy»",link:"https:\u002F\u002Fdeveloper.mozilla.org\u002Fru\u002Fdocs\u002FWeb\u002FSecurity\u002FSame-origin_policy"},children:[]},{type:a,value:H}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    Статьи по ссылкам "},{type:b,tag:j,props:{},children:[{type:a,value:"обязательны к осмысленному прочтению"}]},{type:a,value:" всем web-разработчикам.\n  "}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:i,props:{heading:"Localhost",id:bo},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:h},{type:b,tag:f,props:{className:[C]},children:[{type:a,value:"«У меня везде localhost, почему не работает?»"}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    Адреса считаются разными, если у них отличается хотя бы что-то одно:\n  "}]},{type:a,value:c},{type:b,tag:M,props:{className:[N,G]},children:[{type:a,value:h},{type:b,tag:q,props:{},children:[{type:a,value:"домен"}]},{type:a,value:h},{type:b,tag:q,props:{},children:[{type:a,value:"порт"}]},{type:a,value:h},{type:b,tag:q,props:{},children:[{type:a,value:"протокол"}]},{type:a,value:c}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:i,props:{heading:"Postman",id:"postman"},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:h},{type:b,tag:f,props:{className:[C]},children:[{type:a,value:"«А почему у меня в postman работает?»"}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    В postman отключены CORS, он не следует заголовкам и не ограничивает свои запросы,\n    т.к. это инструмент разработки, а не браузер. Тоже самое касается любого клиента, который не следует SOP.\n  "}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:i,props:{heading:X,id:W},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    Необходимо настроить CORS со стороны backend-приложения.\n    "},{type:b,tag:j,props:{},children:[{type:a,value:"Не надо пытаться отключить или \"обойти\" проблему, даже для локальной разработки"}]},{type:a,value:H}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    Начиная с 7 версии, Laravel "},{type:b,tag:w,props:{title:"поддерживает CORS",uri:"routing#cors"},children:[]},{type:a,value:" из коробки.\n    Настройки в "},{type:b,tag:f,props:{className:[g,k]},children:[{type:a,value:"config\u002Fcors.php"}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    По умолчанию разрешены любые запросы с любых источников на "},{type:b,tag:f,props:{className:[g]},children:[{type:a,value:"\u002Fapi\u002F*"}]},{type:a,value:bp},{type:b,tag:f,props:{className:[g]},children:[{type:a,value:"GET http:\u002F\u002Flocalhost:8000\u002Fapi\u002Fusers"}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    Проблемы при локальной разработке возникают чаще всего из-за того, что запросы приходят не на \u002Fapi,\n    поэтому необходимо или отправлять запросы на \u002Fapi, или добавить необходимые пути в конфиг. \n    В "},{type:b,tag:f,props:{className:[g]},children:[{type:a,value:"paths"}]},{type:a,value:" указываются относительные пути без домена.\n  "}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    Для реального приложения рекомендуется настроить более точно, с каких конкретных ресурсов разрешены запросы.\n  "}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:i,props:{heading:"Middleware",id:"middleware"},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    Так же проблема может быть из-за не подключенного middleware в "},{type:b,tag:f,props:{className:[g]},children:[{type:a,value:"App\\Http\\Kernel"}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    Проверь свойство "},{type:b,tag:f,props:{className:[g,Y]},children:[{type:a,value:"$middleware"}]},{type:a,value:", \n    в нем должен быть указан один из следующих классов:\n  "}]},{type:a,value:c},{type:b,tag:M,props:{className:[N,G]},children:[{type:a,value:h},{type:b,tag:q,props:{},children:[{type:a,value:r},{type:b,tag:f,props:{className:[g]},children:[{type:a,value:bq}]},{type:a,value:" для 9.2+\n    "}]},{type:a,value:h},{type:b,tag:q,props:{},children:[{type:a,value:r},{type:b,tag:f,props:{className:[g]},children:[{type:a,value:"\\Fruitcake\\Cors\\HandleCors"}]},{type:a,value:" для 8.x и ниже, при использовании пакета\n      "},{type:b,tag:l,props:{title:at,link:au},children:[]},{type:a,value:h}]},{type:a,value:c}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:i,props:{heading:"Старые версии",id:"old-version"},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    Для более ранних версий (8.x и ниже) необходим пакет\n    "},{type:b,tag:l,props:{title:at,link:au},children:[]},{type:a,value:"\n    (в 7.x и 8.x он установлен по умолчанию)\n    или собственная реализация.\n  "}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    Если фреймворк обновлялся до версии 9.2 или выше, то пакет\n    "},{type:b,tag:l,props:{title:at,link:au},children:[]},{type:a,value:"\n    необходимо удалить, а middleware заменить на "},{type:b,tag:f,props:{className:[g]},children:[{type:a,value:bq}]},{type:a,value:",\n    подробнее смотри в "},{type:b,tag:l,props:{title:"PR",link:"https:\u002F\u002Fgithub.com\u002Flaravel\u002Flaravel\u002Fpull\u002F5825\u002Ffiles"},children:[]},{type:a,value:H}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:i,props:{heading:"Потеря заголовков",id:"proxy-loss"},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    Прокси-сервер может влиять на возвращаемые заголовки и не передавать нужные заголовки для CORS.\n    Убедись, что любое промежуточное ПО не блокирует передачу заголовков клиенту,\n    для этого обратись к соответствующей документации ПО или системному администратору.\n  "}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:i,props:{heading:"Решение с proxy",id:"proxy"},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    Альтернативный вариант - это отправлять запросы на тот же адрес,\n    с которого работает frontend ("},{type:b,tag:f,props:{className:[C]},children:[{type:a,value:"внезапно"}]},{type:a,value:"), как это и происходит в монолитных приложениях.\n  "}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    Если frontend и backend расположены на разных доменах, поддоменах, ip-адресах или портах, \n    то можно сделать проксирование запросов, т.е. отправлять с клиента запрос на текущий адрес,\n    а далее он будет перенаправлен сервером на реальный адрес backend-а. Например:\n  "}]},{type:a,value:c},{type:b,tag:M,props:{className:[N,G]},children:[{type:a,value:h},{type:b,tag:q,props:{},children:[{type:a,value:"\n      для Nuxt\n      "},{type:b,tag:l,props:{title:"proxy-module",link:"https:\u002F\u002Fgithub.com\u002Fnuxt-community\u002Fproxy-module"},children:[]},{type:a,value:h}]},{type:a,value:h},{type:b,tag:q,props:{},children:[{type:a,value:"\n      для React\n      "},{type:b,tag:l,props:{title:"http-proxy-middleware",link:"https:\u002F\u002Fgithub.com\u002Fchimurai\u002Fhttp-proxy-middleware"},children:[]},{type:a,value:h}]},{type:a,value:h},{type:b,tag:q,props:{},children:[{type:a,value:"\n      для Nginx\n      "},{type:b,tag:l,props:{title:"proxy_pass",link:"https:\u002F\u002Fnginx.org\u002Fru\u002Fdocs\u002Fhttp\u002Fngx_http_proxy_module.html#proxy_pass"},children:[]},{type:a,value:h}]},{type:a,value:h},{type:b,tag:q,props:{},children:[{type:a,value:"\n      для Apache\n      "},{type:b,tag:l,props:{title:"mod_proxy",link:"https:\u002F\u002Fhttpd.apache.org\u002Fdocs\u002F2.4\u002Fmod\u002Fmod_proxy.html"},children:[]},{type:a,value:h}]},{type:a,value:c}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:i,props:{heading:"CORS и Server Errors",id:"errors"},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:h},{type:b,tag:j,props:{},children:[{type:a,value:P}]},{type:a,value:", что если на сервере произойдёт критическая ошибка (500),\n    то необходимые заголовки не будут отправлены и браузер запретит запрос,\n    при этом узнать об ошибке на сервере можно будет только в логах или в системе мониторинга.\n  "}]},{type:a,value:e}]}]},excerpt:{type:o,children:[{type:b,tag:d,props:{},children:[{type:a,value:bl}]},{type:a,value:e},{type:b,tag:i,props:{heading:A,id:B},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:bm}]},{type:a,value:c},{type:b,tag:d,props:{className:[t,u]},children:[{type:a,value:bn}]},{type:a,value:e}]}]},dir:x,path:"\u002Fcases\u002Fcors",extension:y,createdAt:z,updatedAt:"2024-11-21T23:05:22.929Z"},{slug:"database-driver",description:"Установи расширения php-pdo и php-mysql\u002Fphp-pgsql\u002Fphp-sqlite",heading:"Could not find driver",altHeadings:D,toc:[],body:{type:o,children:[{type:b,tag:i,props:{heading:A,id:B},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:br}]},{type:a,value:c},{type:b,tag:d,props:{className:[t,u]},children:[{type:a,value:bs}]},{type:a,value:c},{type:b,tag:d,props:{className:[t,u]},children:[{type:a,value:bt}]},{type:a,value:e}]},{type:a,value:e},{type:a,value:e},{type:b,tag:i,props:{heading:Z,id:K},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    В окружении не установлены или не подключены расширения для базы данных.\n    Посмотреть список установленных модулей можно командой "},{type:b,tag:f,props:{className:[g]},children:[{type:a,value:"php -m"}]},{type:a,value:c}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:i,props:{heading:X,id:W},children:[{type:a,value:c},{type:b,tag:d,props:{className:[S]},children:[{type:a,value:"\n    Установить расширение "},{type:b,tag:f,props:{className:[g]},children:[{type:a,value:"php-pdo"}]},{type:a,value:" и\n    "},{type:b,tag:v,props:{},children:[]},{type:a,value:h},{type:b,tag:f,props:{className:[g]},children:[{type:a,value:"php-mysql"}]},{type:a,value:" для MySQL\n    "},{type:b,tag:v,props:{},children:[]},{type:a,value:h},{type:b,tag:f,props:{className:[g]},children:[{type:a,value:"php-pgsql"}]},{type:a,value:" для PostgreSQL\n    "},{type:b,tag:v,props:{},children:[]},{type:a,value:h},{type:b,tag:f,props:{className:[g]},children:[{type:a,value:"php-sqlite"}]},{type:a,value:" для SQLite\n  "}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    Для конкретной версии, например, 8.1:\n  "}]},{type:a,value:c},{type:b,tag:p,props:{name:"cases\u002Fdatabase-driver\u002Finstall-version"},children:[]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    Или автоматически для текущей:\n  "}]},{type:a,value:c},{type:b,tag:p,props:{name:"cases\u002Fdatabase-driver\u002Finstall-current"},children:[]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    Возможно понадобится перезапуск web-сервера. Обычно больше ничего не требуется, но если модули по какой-то причине\n    не подключились автоматически, то можно активировать вручную:\n  "}]},{type:a,value:c},{type:b,tag:p,props:{name:"cases\u002Fdatabase-driver\u002Fenmod"},children:[]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:i,props:{heading:"Решение для Windows",id:"solution-windows"},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    Для Windows смысл тот же,\n    необходимо "},{type:b,tag:l,props:{title:"скачать",link:"https:\u002F\u002Fwindows.php.net\u002Fdownload"},children:[]},{type:a,value:"\n    dll в директорию "},{type:b,tag:f,props:{className:[g,k]},children:[{type:a,value:"ext"}]},{type:a,value:" с расширениями,\n    но скорей всего необходимые модули уже присутствуют в сборке,\n    осталось только их подключить в "},{type:b,tag:f,props:{className:[g,k]},children:[{type:a,value:"php.ini"}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    Для этого необходимо удалить символ "},{type:b,tag:f,props:{className:[g]},children:[{type:a,value:";"}]},{type:a,value:" в начале строк:\n  "}]},{type:a,value:c},{type:b,tag:p,props:{name:"cases\u002Fdatabase-driver\u002Fwindows-ini"},children:[]},{type:a,value:e}]}]},excerpt:{type:o,children:[{type:b,tag:i,props:{heading:A,id:B},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:br}]},{type:a,value:c},{type:b,tag:d,props:{className:[t,u]},children:[{type:a,value:bs}]},{type:a,value:c},{type:b,tag:d,props:{className:[t,u]},children:[{type:a,value:bt}]},{type:a,value:e}]}]},dir:x,path:"\u002Fcases\u002Fdatabase-driver",extension:y,createdAt:z,updatedAt:I},{slug:"datetime",description:"Храни и обрабатывай даты в UTC",heading:"Работа с датой и временем",altHeadings:D,toc:[],body:{type:o,children:[{type:b,tag:d,props:{},children:[{type:a,value:bu}]},{type:a,value:e},{type:b,tag:d,props:{className:[av]},children:[{type:a,value:c},{type:b,tag:j,props:{},children:[{type:a,value:bv}]},{type:a,value:e}]},{type:a,value:e},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"\n  Часто разработчик использует зону в которой находится он сам или его сервер и поначалу всё работает отлично.\n  Но как только появляются пользователи с другой временной зоной, то возникает вопрос, как с этим работать?\n"}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"\n  Предположим, что на сайте публикуется online-мероприятие, например, вебинар, у которого есть дата и время проведения.\n  Участниками могут быть люди со всего мира и указать для всех 10 декабря 20:00 нельзя,\n  потому что для каждого часового пояса время будет разное, надеюсь \"почему\" объяснять не надо.\n"}]},{type:a,value:e},{type:b,tag:d,props:{className:["text-xl"]},children:[{type:a,value:"\n  Как это обычно работает:\n"}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"\n  На сервере все даты хранятся в UTC, независимо от временной зоны пользователя и сервера\n  (речь про физическое расположение, а не настройки сервера).\n  Любые манипуляции с датами происходят именно в этой зоне.\n"}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"\n  Далее есть два варианта:\n"}]},{type:a,value:e},{type:b,tag:M,props:{className:[N,G,"ml-2",ab]},children:[{type:a,value:c},{type:b,tag:q,props:{},children:[{type:a,value:"\n    если API, то возвращаем данные и клиент отображает дату с учётом "},{type:b,tag:j,props:{},children:[{type:a,value:"текущей"}]},{type:a,value:" временной зоны пользователя. \n    Для корректного преобразования времени на клиенте необходимо возвращать дату в формате с временной зоной, \n    например, по стандарту "},{type:b,tag:f,props:{className:[g]},children:[{type:a,value:"ISO 8601"}]},{type:a,value:H}]},{type:a,value:c},{type:b,tag:q,props:{},children:[{type:a,value:"\n    если обычный MPA на blade, то мы должны предварительно получить от клиента его временную зону\n    и конвертировать дату на уровне представления.\n  "}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"\n  Клиент в свою очередь отправляет дату тоже в UTC или вместе с тайм-зоной и сервер сам конвертирует в UTC.\n"}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"\n  Таким образом, мы даём клиенту или представлению полную свободу по отображению даты\n  с простой возможностью конвертации в любую другую тайм-зону.\n  Это же касается и формата даты - хранить в рекомендуемом формате СУБД,\n  а на клиенте приводить к необходимому формату (форматы так же зависят от локации пользователя).\n"}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"\n  Представим ещё одну ситуацию - есть много серверов по всему миру, у каждого своё локальное время\n  и пользователи создают новые мероприятия и указывают своё локальное время.\n  Если потребуется чтобы сервера общались между собой, \n  то придётся хранить и передавать таймзону и конвертировать в локальное.\n"}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"\n  Если мы по умолчанию храним в UTC, то ничего больше не требуется, просто возвращаем время клиенту,\n  который уже отобразит с учётом локального времени пользователя.\n"}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"\n  Можно подумать, что достаточно придерживаться всегда одной любой тайм-зоны, но во-первых очевидно,\n  что удобнее использовать нулевую, это универсальный, принятый и понятный формат везде.\n  Во-вторых, если мы работаем с временными метками (Unix time), то они, как известно, всегда в UTC.\n"}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"\n  Ещё немного информации можешь найти в статье\n  «"},{type:b,tag:l,props:{title:"Always Use UTC Dates And Times",link:"https:\u002F\u002Fkylekatarnls.medium.com\u002Falways-use-utc-dates-and-times-8a8200ca3164"},children:[]},{type:a,value:"»\n  или погуглив самостоятельно.\n"}]}]},excerpt:{type:o,children:[{type:b,tag:d,props:{},children:[{type:a,value:bu}]},{type:a,value:e},{type:b,tag:d,props:{className:[av]},children:[{type:a,value:c},{type:b,tag:j,props:{},children:[{type:a,value:bv}]},{type:a,value:e}]}]},dir:x,path:"\u002Fcases\u002Fdatetime",extension:y,createdAt:z,updatedAt:"2024-11-21T22:55:30.954Z"},{slug:"docker-database",description:"Укажи в DB_HOST имя контейнера с БД",heading:"Database Connection refused в Docker",altHeadings:D,toc:[],body:{type:o,children:[{type:b,tag:i,props:{heading:A,id:B},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:bw}]},{type:a,value:c},{type:b,tag:d,props:{className:[t,u]},children:[{type:a,value:bx}]},{type:a,value:e}]},{type:a,value:e},{type:a,value:e},{type:b,tag:i,props:{heading:Z,id:K},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    На самом деле, причин может быть много, например, не запустился контейнер с БД\n    или неправильно настроена сеть.\n  "}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    Но самая популярная причина это неправильный адрес хоста в конфиге.\n    Чаще всего указывается "},{type:b,tag:f,props:{className:[g]},children:[{type:a,value:bo}]},{type:a,value:", но с докером необходимо указать имя контейнера с БД.\n  "}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:i,props:{heading:X,id:W},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    В "},{type:b,tag:f,props:{className:[g,k]},children:[{type:a,value:aj}]},{type:a,value:" указать правильный "},{type:b,tag:f,props:{className:[g]},children:[{type:a,value:"DB_HOST"}]},{type:a,value:h},{type:b,tag:v,props:{},children:[]},{type:a,value:"Имя контейнера указывается в "},{type:b,tag:f,props:{className:[g,k]},children:[{type:a,value:"docker-compose.yml"}]},{type:a,value:",\n    в большинстве случаев это "},{type:b,tag:f,props:{className:[g]},children:[{type:a,value:"mysql"}]},{type:a,value:by},{type:b,tag:f,props:{className:[g]},children:[{type:a,value:"db"}]},{type:a,value:",\n    но в реальности может быть любым.\n  "}]},{type:a,value:c},{type:b,tag:p,props:{name:"cases\u002Fdocker-database\u002Fenv-host"},children:[]},{type:a,value:e}]}]},excerpt:{type:o,children:[{type:b,tag:i,props:{heading:A,id:B},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:bw}]},{type:a,value:c},{type:b,tag:d,props:{className:[t,u]},children:[{type:a,value:bx}]},{type:a,value:e}]}]},dir:x,path:"\u002Fcases\u002Fdocker-database",extension:y,createdAt:z,updatedAt:I},{slug:"eloquent-vs-db",description:"Сравнение запросов Model и DB",heading:"Eloquent VS Facade DB",altHeadings:"Холивар",toc:[],body:{type:o,children:[{type:b,tag:d,props:{},children:[{type:a,value:bz}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:bA}]},{type:a,value:e},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"\n  Некоторые проекты и команды полностью отказываются от Eloquent в пользу DB фасада\n  и пропагандируют свой выбор как неопровержимо верное решение.\n  Данная тема периодически вспыхивает в чатах и почти всегда это переходит в холивар.\n  Вместо долгих рассуждений предлагаю сразу взглянуть на цифры.\n"}]},{type:a,value:e},{type:b,tag:i,props:{heading:"Условия",id:"condition"},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    Замер был сделан на php 8.1, mysql 8.0, laravel 9.\n    Нас интересует "},{type:b,tag:j,props:{},children:[{type:a,value:"только разница между Eloquent и DB"}]},{type:a,value:",\n    время выполнения самих запросов относительно\n    и будет напрямую зависеть от конфигурации железа и ПО.\n  "}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    Модель использовалась пустой, без событий, кастов и трейтов, в реальном проекте чем больше будет навешано на модель функционала,\n    тем медленнее будут отрабатывать запросы, что логично.\n  "}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    Значения средние из 100 прогонов, в секундах.\n  "}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:i,props:{heading:"Чтение",id:"read-time"},children:[{type:a,value:c},{type:b,tag:aw,props:{className:[ax]},children:[{type:a,value:h},{type:b,tag:_,props:{className:[_]},children:[{type:a,value:r},{type:b,tag:ay,props:{},children:[{type:a,value:r},{type:b,tag:F,props:{},children:[{type:a,value:m},{type:b,tag:O,props:{},children:[{type:a,value:"Чтение, строк"}]},{type:a,value:m},{type:b,tag:O,props:{},children:[{type:a,value:bB}]},{type:a,value:m},{type:b,tag:O,props:{},children:[{type:a,value:bC}]},{type:a,value:m},{type:b,tag:O,props:{},children:[{type:a,value:bD}]},{type:a,value:m},{type:b,tag:O,props:{},children:[{type:a,value:bE}]},{type:a,value:r}]},{type:a,value:r}]},{type:a,value:r},{type:b,tag:az,props:{},children:[{type:a,value:r},{type:b,tag:F,props:{},children:[{type:a,value:m},{type:b,tag:s,props:{},children:[{type:a,value:"1"}]},{type:a,value:m},{type:b,tag:s,props:{},children:[{type:a,value:"0.00098"}]},{type:a,value:m},{type:b,tag:s,props:{},children:[{type:a,value:"0.00068"}]},{type:a,value:m},{type:b,tag:s,props:{},children:[{type:a,value:"0.0003"}]},{type:a,value:m},{type:b,tag:s,props:{},children:[{type:a,value:"+44%"}]},{type:a,value:r}]},{type:a,value:r},{type:b,tag:F,props:{},children:[{type:a,value:m},{type:b,tag:s,props:{},children:[{type:a,value:"10"}]},{type:a,value:m},{type:b,tag:s,props:{},children:[{type:a,value:"0.00136"}]},{type:a,value:m},{type:b,tag:s,props:{},children:[{type:a,value:"0.00071"}]},{type:a,value:m},{type:b,tag:s,props:{},children:[{type:a,value:"0.00065"}]},{type:a,value:m},{type:b,tag:s,props:{},children:[{type:a,value:"+91%"}]},{type:a,value:r}]},{type:a,value:r},{type:b,tag:F,props:{},children:[{type:a,value:m},{type:b,tag:s,props:{},children:[{type:a,value:"100"}]},{type:a,value:m},{type:b,tag:s,props:{},children:[{type:a,value:"0.00373"}]},{type:a,value:m},{type:b,tag:s,props:{},children:[{type:a,value:"0.00088"}]},{type:a,value:m},{type:b,tag:s,props:{},children:[{type:a,value:"0.00285"}]},{type:a,value:m},{type:b,tag:s,props:{},children:[{type:a,value:"+320%"}]},{type:a,value:r}]},{type:a,value:r},{type:b,tag:F,props:{},children:[{type:a,value:m},{type:b,tag:s,props:{},children:[{type:a,value:"1 000"}]},{type:a,value:m},{type:b,tag:s,props:{},children:[{type:a,value:"0.02461"}]},{type:a,value:m},{type:b,tag:s,props:{},children:[{type:a,value:"0.00289"}]},{type:a,value:m},{type:b,tag:s,props:{},children:[{type:a,value:"0.02172"}]},{type:a,value:m},{type:b,tag:s,props:{},children:[{type:a,value:"+750%"}]},{type:a,value:r}]},{type:a,value:r},{type:b,tag:F,props:{},children:[{type:a,value:m},{type:b,tag:s,props:{},children:[{type:a,value:"10 000"}]},{type:a,value:m},{type:b,tag:s,props:{},children:[{type:a,value:"0.22458"}]},{type:a,value:m},{type:b,tag:s,props:{},children:[{type:a,value:"0.02122"}]},{type:a,value:m},{type:b,tag:s,props:{},children:[{type:a,value:"0.20336"}]},{type:a,value:m},{type:b,tag:s,props:{},children:[{type:a,value:"+950%"}]},{type:a,value:r}]},{type:a,value:r}]},{type:a,value:h}]},{type:a,value:c}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:i,props:{heading:"Результаты чтения",id:"read-result"},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:h},{type:b,tag:j,props:{},children:[{type:a,value:"В чтении данных DB выигрывает у Eloquent"}]},{type:a,value:", но существенно сказывается только на больших объёмах данных,\n    запрос на 10К строк отработал в 9 раз быстрее.\n  "}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    Но при этом мы лишаемся всех удобств при работе с БД. В реальности чаще всего нам потребуется\n    дополнительная обработка данных, связи придётся доставать и компоновать вручную,\n    обновлять данные тоже необходимо вручную отдельным запросом... в общем как в старые добрые...\n  "}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    Имеет ли смысл? "},{type:b,tag:j,props:{},children:[{type:a,value:"Лично я"}]},{type:a,value:" не вижу смысла отказываться от Eloquent,\n    ибо с таким же успехом можно отказаться и от самой Laravel.\n    Запросы можно переписать только там где это "},{type:b,tag:j,props:{},children:[{type:a,value:"действительно"}]},{type:a,value:" необходимо.\n    В более или менее среднем приложении придётся писать дополнительно \"репозитории\" или сервисы,\n    чтобы навести порядок и контролировать разбросанные и несвязные запросы, что приведёт рано или поздно к кастомной ORM,\n    но из костылей и палок.\n  "}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:i,props:{heading:bF,id:"write-time"},children:[{type:a,value:c},{type:b,tag:aw,props:{className:[ax]},children:[{type:a,value:h},{type:b,tag:_,props:{className:[_,"mr-2"]},children:[{type:a,value:r},{type:b,tag:ay,props:{},children:[{type:a,value:r},{type:b,tag:F,props:{},children:[{type:a,value:m},{type:b,tag:O,props:{},children:[{type:a,value:bF}]},{type:a,value:m},{type:b,tag:O,props:{},children:[{type:a,value:bB}]},{type:a,value:m},{type:b,tag:O,props:{},children:[{type:a,value:bC}]},{type:a,value:m},{type:b,tag:O,props:{},children:[{type:a,value:bD}]},{type:a,value:m},{type:b,tag:O,props:{},children:[{type:a,value:bE}]},{type:a,value:r}]},{type:a,value:r}]},{type:a,value:r},{type:b,tag:az,props:{},children:[{type:a,value:r},{type:b,tag:F,props:{},children:[{type:a,value:m},{type:b,tag:s,props:{},children:[{type:a,value:ak}]},{type:a,value:m},{type:b,tag:s,props:{},children:[{type:a,value:bG}]},{type:a,value:m},{type:b,tag:s,props:{},children:[{type:a,value:"0.00605"}]},{type:a,value:m},{type:b,tag:s,props:{},children:[{type:a,value:"0.00078"}]},{type:a,value:m},{type:b,tag:s,props:{},children:[{type:a,value:"+12%"}]},{type:a,value:r}]},{type:a,value:r},{type:b,tag:F,props:{},children:[{type:a,value:m},{type:b,tag:s,props:{},children:[{type:a,value:ak}]},{type:a,value:m},{type:b,tag:s,props:{},children:[{type:a,value:"0.00736"}]},{type:a,value:m},{type:b,tag:s,props:{},children:[{type:a,value:"0.00749"}]},{type:a,value:m},{type:b,tag:s,props:{},children:[{type:a,value:"-0.00013"}]},{type:a,value:m},{type:b,tag:s,props:{},children:[{type:a,value:"-1%"}]},{type:a,value:r}]},{type:a,value:r},{type:b,tag:F,props:{},children:[{type:a,value:m},{type:b,tag:s,props:{},children:[{type:a,value:ak}]},{type:a,value:m},{type:b,tag:s,props:{},children:[{type:a,value:bG}]},{type:a,value:m},{type:b,tag:s,props:{},children:[{type:a,value:"0.00589"}]},{type:a,value:m},{type:b,tag:s,props:{},children:[{type:a,value:"0.00094"}]},{type:a,value:m},{type:b,tag:s,props:{},children:[{type:a,value:"+16%"}]},{type:a,value:r}]},{type:a,value:r},{type:b,tag:F,props:{},children:[{type:a,value:m},{type:b,tag:s,props:{},children:[{type:a,value:ak}]},{type:a,value:m},{type:b,tag:s,props:{},children:[{type:a,value:"0.00617"}]},{type:a,value:m},{type:b,tag:s,props:{},children:[{type:a,value:"0.00578"}]},{type:a,value:m},{type:b,tag:s,props:{},children:[{type:a,value:"0.00039"}]},{type:a,value:m},{type:b,tag:s,props:{},children:[{type:a,value:"+6%"}]},{type:a,value:r}]},{type:a,value:r}]},{type:a,value:h}]},{type:a,value:c}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:i,props:{heading:"Результаты записи",id:"write-result"},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    Поскольку "},{type:b,tag:f,props:{className:[g,n]},children:[{type:a,value:al}]},{type:a,value:" может сохранить только одну запись за раз,\n    то не получится его сравнить с "},{type:b,tag:f,props:{className:[g,n]},children:[{type:a,value:$}]},{type:a,value:" в записи большого количества строк.\n    Один "},{type:b,tag:f,props:{className:[g,n]},children:[{type:a,value:$}]},{type:a,value:" очевидно будет работать быстрее, чем "},{type:b,tag:f,props:{className:[g,n]},children:[{type:a,value:al}]},{type:a,value:" в цикле.\n    Поэтому тестировать имело смысл только запись одной строки.\n  "}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:h},{type:b,tag:j,props:{},children:[{type:a,value:"Преимущество DB при записи отсутствует."}]},{type:a,value:" В некоторых прогонах результат даже оказался хуже.\n    Различия можно списать на погрешность измерений.\n  "}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    Если необходимо вставить большое кол-во записей, то конечно "},{type:b,tag:f,props:{className:[g,n]},children:[{type:a,value:$}]},{type:a,value:"\n    это сделает эффективнее одним запросом, иначе смысла не вижу.\n  "}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:i,props:{heading:bH,id:bI},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    Если не хватает производительности Eloquent,\n    то проблема скорей всего не решится отказом в пользу DB, а если и решится,\n    то надолго ли и как это повлияет на поддержку приложения и скорость разработки в перспективе?\n  "}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    В погоне за производительностью можно пойти ещё дальше (немного)\n    и отказаться от QueryBuilder и писать чистые SQL-запросы с DB или с PDO (и так до «чистого кода» можно продолжать).\n    Вопрос в том, действительно ли это решает проблему не принося новую?\n    Возможно, стоит рассмотреть другие способы хранения данных или увеличить производительность с помощью железа.\n  "}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    Универсального ответа здесь быть не может, Eloquent позволяет быстро вести разработку\n    и влечёт за собой расходы ресурсов, как и любая другая логика. На самом деле, "},{type:b,tag:j,props:{},children:[{type:a,value:"с таким же успехом можно сравнивать\n    производительность фреймворков и чистого php..."}]},{type:a,value:c}]},{type:a,value:e}]}]},excerpt:{type:o,children:[{type:b,tag:d,props:{},children:[{type:a,value:bz}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:bA}]}]},dir:x,path:"\u002Fcases\u002Feloquent-vs-db",extension:y,createdAt:z,updatedAt:I},{slug:"error-500",description:aW,heading:"500 Internal Server Error",altHeadings:"Что делать, Как исправить?",toc:[],body:{type:o,children:[{type:b,tag:d,props:{},children:[{type:a,value:bJ},{type:b,tag:l,props:{title:bK,link:bL},children:[]},{type:a,value:bM}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:bN},{type:b,tag:E,props:{to:ai},children:[{type:a,value:as}]},{type:a,value:e}]},{type:a,value:e},{type:a,value:e},{type:b,tag:d,props:{className:[Q]},children:[{type:a,value:c},{type:b,tag:j,props:{},children:[{type:a,value:P}]},{type:a,value:" что возвращает 500 ошибку, Laravel или web-сервер (nginx, apache):\n"}]},{type:a,value:e},{type:b,tag:M,props:{className:[N,G,"mb-2"]},children:[{type:a,value:c},{type:b,tag:q,props:{},children:[{type:a,value:"\n    если фреймворк, тогда смотри "},{type:b,tag:E,props:{to:ai},children:[{type:a,value:"логи лары"}]},{type:a,value:" или включи "},{type:b,tag:w,props:{title:"debug mode",uri:"configuration#debug-mode"},children:[]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:q,props:{},children:[{type:a,value:"\n    если web-сервер, тогда смотри логи web-сервера, скорей всего проблема с конфигураций,\n    а в случае с apache проблема чаще всего в "},{type:b,tag:f,props:{className:[g,k]},children:[{type:a,value:U}]},{type:a,value:c}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"\n  Фреймворк возвращает 500 ошибку при любом исключении, кроме 404 (не найдено),\n  419 (неверный CSRF-токен), 422 (ошибка валидации),\n  401 (авторизация) и 403 (отказано в доступе).\n  "},{type:b,tag:v,props:{},children:[]},{type:a,value:"Также вызов "},{type:b,tag:f,props:{className:[g,n]},children:[{type:a,value:"dd()"}]},{type:a,value:" вернёт 500 код.\n"}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"\n  Если ошибка произошла с AJAX-запросом,\n  то в "},{type:b,tag:l,props:{title:"DevTools",link:"https:\u002F\u002Fdeveloper.chrome.com\u002Fdocs\u002Fdevtools\u002F"},children:[]},{type:a,value:",\n  на вкладке network, при условии что включён debug mode,\n  также можно найти полное описание ошибки и стектрейс.\n"}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"\n  Рекомендую воспользоваться инструментом "},{type:b,tag:w,props:{title:"Telescope",uri:"telescope#introduction"},children:[]},{type:a,value:",\n  для более удобного мониторинга запросов в процессе разработки. \n  А для мониторинга ошибок в production -\n  "},{type:b,tag:l,props:{title:"Sentry",link:"https:\u002F\u002Fdocs.sentry.io\u002Fplatforms\u002Fphp\u002Fguides\u002Flaravel\u002F"},children:[]},{type:a,value:e}]}]},excerpt:{type:o,children:[{type:b,tag:d,props:{},children:[{type:a,value:bJ},{type:b,tag:l,props:{title:bK,link:bL},children:[]},{type:a,value:bM}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:bN},{type:b,tag:E,props:{to:ai},children:[{type:a,value:as}]},{type:a,value:e}]}]},dir:x,path:"\u002Fcases\u002Ferror-500",extension:y,createdAt:z,updatedAt:aa},{slug:"fillable",description:"Укажи $fillable в модели",heading:"Не сохраняется поле в БД",altHeadings:"mass assignment, fillable",toc:[],body:{type:o,children:[{type:b,tag:i,props:{heading:A,id:B},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:bO}]},{type:a,value:c},{type:b,tag:d,props:{className:[t,u]},children:[{type:a,value:bP}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:bQ}]},{type:a,value:e}]},{type:a,value:e},{type:a,value:e},{type:b,tag:i,props:{heading:Z,id:K},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    По умолчанию модель защищена от\n    "},{type:b,tag:w,props:{title:"массового назначения",uri:bR},children:[]},{type:a,value:"\n    полей, например:\n  "}]},{type:a,value:c},{type:b,tag:p,props:{name:"cases\u002Ffillable\u002Fquery"},children:[]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    При таком сохранении данных необходимо явно разрешать имена полей.\n  "}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:i,props:{heading:X,id:W},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    Указать необходимые поля в свойстве модели "},{type:b,tag:f,props:{className:[g,Y]},children:[{type:a,value:bS}]},{type:a,value:" согласно\n    "},{type:b,tag:w,props:{title:L,uri:bR},children:[]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:p,props:{name:"cases\u002Ffillable\u002Fsolution"},children:[]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    или установить значения полей вручную:\n  "}]},{type:a,value:c},{type:b,tag:p,props:{name:"cases\u002Ffillable\u002Fsolution-2"},children:[]},{type:a,value:e}]}]},excerpt:{type:o,children:[{type:b,tag:i,props:{heading:A,id:B},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:bO}]},{type:a,value:c},{type:b,tag:d,props:{className:[t,u]},children:[{type:a,value:bP}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:bQ}]},{type:a,value:e}]}]},dir:x,path:"\u002Fcases\u002Ffillable",extension:y,createdAt:z,updatedAt:I},{slug:"foreign-keys",description:"Проверь порядок миграций и типы полей у внешнего ключа",heading:"Cannot add foreign key",altHeadings:D,toc:[],body:{type:o,children:[{type:b,tag:i,props:{heading:A,id:B},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:bT}]},{type:a,value:c},{type:b,tag:d,props:{className:[t,u]},children:[{type:a,value:bU}]},{type:a,value:c},{type:b,tag:d,props:{className:[t,u]},children:[{type:a,value:aA}]},{type:a,value:c},{type:b,tag:d,props:{className:[t,u]},children:[{type:a,value:aB}]},{type:a,value:c},{type:b,tag:d,props:{className:[t,u]},children:[{type:a,value:aC}]},{type:a,value:c},{type:b,tag:d,props:{className:[t,u]},children:[{type:a,value:aD}]},{type:a,value:e}]},{type:a,value:e},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"\n  Все требования к механизму внешних ключей можно найти в\n  "},{type:b,tag:l,props:{title:L,link:"https:\u002F\u002Fdev.mysql.com\u002Fdoc\u002Frefman\u002F8.0\u002Fen\u002Fcreate-table-foreign-keys.html"},children:[]},{type:a,value:c},{type:b,tag:v,props:{},children:[]},{type:a,value:"Далее рассмотрим самые популярные причины.\n"}]},{type:a,value:e},{type:b,tag:i,props:{heading:"Разные типы полей",id:"diff-type"},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    Столбцы должно быть одного типа,\n    а для "},{type:b,tag:f,props:{className:[g]},children:[{type:a,value:"INTEGER"}]},{type:a,value:by},{type:b,tag:f,props:{className:[g]},children:[{type:a,value:"DECIMAL"}]},{type:a,value:"\n    ещё и одного размера.\n  "}]},{type:a,value:c},{type:b,tag:d,props:{className:[t,u]},children:[{type:a,value:aA}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    Обычно внешний ключ ссылается на ID другой таблицы и по умолчанию тип ID:\n    "},{type:b,tag:f,props:{className:[g]},children:[{type:a,value:"UNSIGNED BIG INTEGER"}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:p,props:{name:"cases\u002Fforeign-keys\u002Fmigration-old"},children:[]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    Или начиная с 7 версии более лаконичный синтаксис, который создаёт колонку и ключ:\n  "}]},{type:a,value:c},{type:b,tag:p,props:{name:"cases\u002Fforeign-keys\u002Fmigration-new"},children:[]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:h},{type:b,tag:j,props:{},children:[{type:a,value:P}]},{type:a,value:", что в старых версиях по умолчанию тип ID был "},{type:b,tag:f,props:{className:[g]},children:[{type:a,value:"UNSIGNED INTEGER"}]},{type:a,value:c}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:i,props:{heading:"Порядок миграций",id:"order"},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    Логично, что прежде чем ссылаться на таблицу она уже должна быть создана,\n    тем не менее это часто упускается из виду и сначала создаётся \"дочерняя\" таблица.\n  "}]},{type:a,value:c},{type:b,tag:d,props:{className:[t,u]},children:[{type:a,value:aB}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    Не всегда ошибка говорит, что не так и может быть общей: "},{type:b,tag:f,props:{className:[g]},children:[{type:a,value:"Cannot add foreign key constraint"}]},{type:a,value:c}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:i,props:{heading:"Данные в таблице",id:"data-already"},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    Таблица уже содержит невалидные значения. Вариант часто встречается, \n    когда внешний ключ добавляется на уже созданную таблицу в которой есть данные.\n  "}]},{type:a,value:c},{type:b,tag:d,props:{className:[t,u]},children:[{type:a,value:aD}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    Ошибка говорит о том, что нельзя добавить ключ, т.к. данные не консистентные.\n    Проблему необходимо устранить вручную установив правильные значения или "},{type:b,tag:f,props:{className:[g]},children:[{type:a,value:"NULL"}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    Ещё один вариант происходит при откате миграций:\n  "}]},{type:a,value:c},{type:b,tag:d,props:{className:[t,u]},children:[{type:a,value:aC}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    Причина часто в нарушенном порядке миграций или проблемах в "},{type:b,tag:f,props:{className:[g,n]},children:[{type:a,value:"down()"}]},{type:a,value:".\n    Если ошибка происходит при "},{type:b,tag:f,props:{className:[g]},children:[{type:a,value:"php artisan migrate:fresh"}]},{type:a,value:", то необходимо вручную удалять\n    таблицы или данные в них.\n  "}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:i,props:{heading:"Движок таблиц",id:"engine"},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    Родительская таблица не InnoDB. MyISAM не поддерживает внешние ключи.\n  "}]},{type:a,value:e}]}]},excerpt:{type:o,children:[{type:b,tag:i,props:{heading:A,id:B},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:bT}]},{type:a,value:c},{type:b,tag:d,props:{className:[t,u]},children:[{type:a,value:bU}]},{type:a,value:c},{type:b,tag:d,props:{className:[t,u]},children:[{type:a,value:aA}]},{type:a,value:c},{type:b,tag:d,props:{className:[t,u]},children:[{type:a,value:aB}]},{type:a,value:c},{type:b,tag:d,props:{className:[t,u]},children:[{type:a,value:aC}]},{type:a,value:c},{type:b,tag:d,props:{className:[t,u]},children:[{type:a,value:aD}]},{type:a,value:e}]}]},dir:x,path:"\u002Fcases\u002Fforeign-keys",extension:y,createdAt:z,updatedAt:I},{slug:"here-is-logs",description:ah,heading:"Где найти логи?",altHeadings:"Где посмотреть ошибки",toc:[],body:{type:o,children:[{type:b,tag:i,props:{heading:bV,id:bW,className:[bX]},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:bY},{type:b,tag:f,props:{className:[g,k]},children:[{type:a,value:ah}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:bZ},{type:b,tag:f,props:{className:[g,k]},children:[{type:a,value:b_}]},{type:a,value:b$}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:ca},{type:b,tag:w,props:{title:L,uri:cb},children:[]},{type:a,value:c}]},{type:a,value:e}]},{type:a,value:e},{type:a,value:e},{type:b,tag:i,props:{heading:"Логи php",id:"php"},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    Логи php определяются директивами\n    "},{type:b,tag:l,props:{title:"log_errors",link:"https:\u002F\u002Fwww.php.net\u002Fmanual\u002Fru\u002Ferrorfunc.configuration.php#ini.log-errors"},children:[]},{type:a,value:"\n    и\n    "},{type:b,tag:l,props:{title:"error_log",link:"https:\u002F\u002Fwww.php.net\u002Fmanual\u002Fru\u002Ferrorfunc.configuration.php#ini.error-log"},children:[]},{type:a,value:"\n    в php.ini.\n  "}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    Обычно error_log не определён и пути к логам указываются в конфигурации хоста nginx\u002Fapache:\n  "}]},{type:a,value:c},{type:b,tag:p,props:{name:"cases\u002Fhere-is-logs\u002Fvhost"},children:[]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    Для UNIX пути обычно такие:\n  "}]},{type:a,value:c},{type:b,tag:M,props:{className:[N,G,S]},children:[{type:a,value:h},{type:b,tag:q,props:{},children:[{type:a,value:r},{type:b,tag:f,props:{className:[g,k]},children:[{type:a,value:"\u002Fvar\u002Flog\u002Fnginx\u002F"}]},{type:a,value:h}]},{type:a,value:h},{type:b,tag:q,props:{},children:[{type:a,value:r},{type:b,tag:f,props:{className:[g,k]},children:[{type:a,value:"\u002Fvar\u002Flog\u002Fapache2\u002F"}]},{type:a,value:h}]},{type:a,value:h},{type:b,tag:q,props:{},children:[{type:a,value:r},{type:b,tag:f,props:{className:[g,k]},children:[{type:a,value:"\u002Fvar\u002Flog\u002Fhttpd\u002F"}]},{type:a,value:h}]},{type:a,value:h},{type:b,tag:q,props:{},children:[{type:a,value:r},{type:b,tag:f,props:{className:[g,k]},children:[{type:a,value:"\u002Fvar\u002Flog\u002Fsyslog\u002F"}]},{type:a,value:h}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    На windows, при использовании openserver, laragon, xampp и прочих, смотри документацию к своему web-серверу,\n    возможно, в GUI есть соответствующие пункты меню или кнопки.\n  "}]},{type:a,value:e}]}]},excerpt:{type:o,children:[{type:b,tag:i,props:{heading:bV,id:bW,className:[bX]},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:bY},{type:b,tag:f,props:{className:[g,k]},children:[{type:a,value:ah}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:bZ},{type:b,tag:f,props:{className:[g,k]},children:[{type:a,value:b_}]},{type:a,value:b$}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:ca},{type:b,tag:w,props:{title:L,uri:cb},children:[]},{type:a,value:c}]},{type:a,value:e}]}]},dir:x,path:"\u002Fcases\u002Fhere-is-logs",extension:y,createdAt:z,updatedAt:"2022-09-09T01:25:15.000Z"},{slug:"how-store-image",description:"Неприлично простая инструкция",heading:"Как сохранить изображение",altHeadings:"как сохранить картинку",toc:[],body:{type:o,children:[{type:b,tag:i,props:{heading:aE},children:[{type:a,value:c},{type:b,tag:cc,props:{className:[cd,G,S]},children:[{type:a,value:h},{type:b,tag:q,props:{className:[V]},children:[{type:a,value:"\n      Создаём симлинк: "},{type:b,tag:f,props:{className:[g]},children:[{type:a,value:aF}]},{type:a,value:h}]},{type:a,value:h},{type:b,tag:q,props:{className:[V]},children:[{type:a,value:"\n      Сохраняем изображение в "},{type:b,tag:f,props:{className:[g,k]},children:[{type:a,value:ac}]},{type:a,value:r},{type:b,tag:p,props:{name:"cases\u002Fhow-store-image\u002Fsimple-store"},children:[]},{type:a,value:h}]},{type:a,value:h},{type:b,tag:q,props:{className:[V]},children:[{type:a,value:"\n      В БД сохраняем "},{type:b,tag:f,props:{className:[g,Y]},children:[{type:a,value:"$path"}]},{type:a,value:" - это путь "},{type:b,tag:j,props:{},children:[{type:a,value:"БЕЗ"}]},{type:a,value:" "},{type:b,tag:f,props:{className:[g,k]},children:[{type:a,value:ac}]},{type:a,value:h}]},{type:a,value:h},{type:b,tag:q,props:{className:[V]},children:[{type:a,value:"\n      Отображаем в шаблоне:\n      "},{type:b,tag:p,props:{name:"cases\u002Fhow-store-image\u002Fsimple-display"},children:[]},{type:a,value:h}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:d,props:{className:[C]},children:[{type:a,value:"\n    Нужен более развёрнутый пример? Смотри полную версию "},{type:b,tag:E,props:{to:"\u002Fstorage\u002F"},children:[{type:a,value:"«Работа с файлами в Laravel»"}]},{type:a,value:c}]},{type:a,value:e}]}]},dir:x,path:"\u002Fcases\u002Fhow-store-image",extension:y,createdAt:z,updatedAt:aa},{slug:"how-to-ask",description:"Погугли; Сформулируй вопрос; будь кратким; показывай код как есть; не нервничай; не пиши в личку",heading:"Как задавать вопросы?",altHeadings:"Ааа, помогите, ничего не работает, У меня ошибка, что делать?",toc:[],body:{type:o,children:[{type:b,tag:d,props:{className:[am,an]},children:[{type:a,value:ce}]},{type:a,value:e},{type:b,tag:i,props:{heading:cf,id:cg},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:ch},{type:b,tag:j,props:{},children:[{type:a,value:ci}]},{type:a,value:cj},{type:b,tag:l,props:{title:ck,link:cl},children:[]},{type:a,value:cm}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:cn}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:co},{type:b,tag:j,props:{},children:[{type:a,value:cp}]},{type:a,value:cq}]},{type:a,value:e}]},{type:a,value:e},{type:a,value:e},{type:b,tag:i,props:{heading:"Переходи к сути",id:"gist"},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    Не задавай\n    "},{type:b,tag:l,props:{title:"meta-вопросы",link:"https:\u002F\u002Fnometa.xyz\u002Fru.html"},children:[]},{type:a,value:h},{type:b,tag:f,props:{className:[g]},children:[{type:a,value:"привет"}]},{type:a,value:aG},{type:b,tag:f,props:{className:[g]},children:[{type:a,value:"помогите"}]},{type:a,value:aG},{type:b,tag:f,props:{className:[g]},children:[{type:a,value:"есть кто?"}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    Сразу задавай подробный вопрос.\n  "}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    Не спрашивай, работал ли кто с "},{type:b,tag:f,props:{className:[cr]},children:[{type:a,value:cs}]},{type:a,value:"\n    библиотекой или сталкивался ли кто с "},{type:b,tag:f,props:{className:[cr]},children:[{type:a,value:cs}]},{type:a,value:" ошибкой.\n    Даже если ни кто не сталкивался, то "},{type:b,tag:j,props:{},children:[{type:a,value:"опытные разработчики всё равно смогут подсказать"}]},{type:a,value:" в какую сторону двигаться.\n  "}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:h},{type:b,tag:j,props:{},children:[{type:a,value:"Просто задай свой вопрос."}]},{type:a,value:" Без лишних прелюдий и топтаний вокруг темы.\n  "}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:i,props:{heading:"Конкретика",id:"clarity"},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    Не пиши "},{type:b,tag:f,props:{className:[g]},children:[{type:a,value:"не работает"}]},{type:a,value:ad},{type:b,tag:f,props:{className:[g]},children:[{type:a,value:"кидает ошибку"}]},{type:a,value:ad},{type:b,tag:f,props:{className:[g]},children:[{type:a,value:"не помогло"}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:h},{type:b,tag:j,props:{},children:[{type:a,value:"Объясняй подробно, что происходит"}]},{type:a,value:", какая ошибка,\n    показывай итоговый код.\n  "}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:h},{type:b,tag:j,props:{},children:[{type:a,value:"Не используй местоимения"}]},{type:a,value:", говори всегда конкретно, потому что часто сложно понять о чем идёт речь,\n    когда сообщение состоит из \"он\", \"оно\", \"это\", \"этот\", \"тот\".\n  "}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    Чем больше ты заставляешь из тебя вытаскивать информацию и задавать уточняющие вопросы,\n    тем меньше людей будет продолжать тратить на тебя время. \n    "},{type:b,tag:j,props:{},children:[{type:a,value:"Будь продуктивен, давай всю информацию сам"}]},{type:a,value:", \n    а не жди пока тебя попросят скинуть скрин ошибки или показать код, ибо "},{type:b,tag:j,props:{},children:[{type:a,value:"это нужно только тебе"}]},{type:a,value:H}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:i,props:{heading:"Полные скриншоты",id:"full-screen"},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    Прикрепляй к сообщению "},{type:b,tag:j,props:{},children:[{type:a,value:"полные скриншоты"}]},{type:a,value:" кода и ошибок, "},{type:b,tag:j,props:{},children:[{type:a,value:"не обрезай их"}]},{type:a,value:".\n    Часто самое важное почему-то игнорируется, не надо стеснятся своего кода или неймингов,\n    "},{type:b,tag:j,props:{},children:[{type:a,value:"конфиденциальные данные закрась"}]},{type:a,value:". Большие куски кода или логов загружай на\n    "},{type:b,tag:l,props:{title:"pastebin",link:"https:\u002F\u002Fpaste.laravel.io\u002F"},children:[]},{type:a,value:c}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:i,props:{heading:"Показывай как есть",id:"show-really"},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    Никогда "},{type:b,tag:j,props:{},children:[{type:a,value:"не изменяй код "}]},{type:a,value:" который отправляешь в чат, всегда отправляй то, что запускаешь.\n    Популярная проблема: тестируется один код, а в чат присылается другой,\n    в результате время людей потрачено в пустую, а ты будешь реже получать ответы.\n  "}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:i,props:{heading:"Не нервничай",id:"do-not-worry"},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    Если тебя отправляют в гугл или в доку, то ты должен понимать, что ты задаёшь очень примитивные вопросы, \n    которые мог бы решить и сам, не психуй, а прими к сведению. Если ты гуглил, а тебе говорят \"погугли\", попроси\n    точную формулировку запроса, гуглить тоже надо уметь. Если тебе отвечают незнакомым словом,\n    не спеши сразу спрашивать \"что это?\", а разберись в теме сам.\n  "}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:h},{type:b,tag:j,props:{},children:[{type:a,value:"Не огрызайся и не отвечай "}]},{type:a,value:" на токсичные сообщения, тем более не переходи на личности.\n    В вопросе тебе это не поможет, а \"mute\" получишь ты.\n    Будь взрослее, "},{type:b,tag:j,props:{},children:[{type:a,value:"тебе ни кто ничего не должен"}]},{type:a,value:H}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:i,props:{heading:"Только общий чат",id:"only-public"},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:h},{type:b,tag:j,props:{},children:[{type:a,value:"Не пиши в личку"}]},{type:a,value:", продолжай общаться в общем чате. "},{type:b,tag:j,props:{},children:[{type:a,value:"Не стесняйся и не бойся критики"}]},{type:a,value:",\n    важно мнение большинства, а не одного человека.\n    Если отвечающий не прав, то кто-то вмешается и укажет на это,\n    а в личке тебя научат bad-практикам и ты об этом не узнаешь.\n    Как минимум правильных решений может быть несколько, в чем и заключается преимущество чатов.\n  "}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:i,props:{heading:"Зачем нужен чат?",id:K},children:[{type:a,value:c},{type:b,tag:d,props:{className:[C,S]},children:[{type:a,value:"\n    «Дай голодному рыбу - и ты накормишь его на один день.\n    Дай ему удочку, научи его ловить рыбу - и ты накормишь его на всю жизнь»\n  "}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:h},{type:b,tag:j,props:{},children:[{type:a,value:"Чат не гугл"}]},{type:a,value:", потому что гугл - это гугл. Ваш Кэп.\n  "}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    Чат нужен "},{type:b,tag:j,props:{},children:[{type:a,value:aH}]},{type:a,value:" для простых вопросов-ответов, а для того,\n    чтобы более опытные разработчики "},{type:b,tag:j,props:{},children:[{type:a,value:"помогли научиться решать проблемы"}]},{type:a,value:", внести ясность в тему,\n    а не просто давали тебе готовые ответы.\n    Также чат нужен для сбора мнений, дискуссий и оценок.\n  "}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    Разработка - это не только алгоритмический процесс по инструкциям,\n    разработка - это ещё и творчество, которое требует соответствующего мышления.\n  "}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    Если тебе задают вопросы вместо ответа, то попробуй погуглить их или поразмышлять над ними в чате, потому что\n    такие вопросы являются "},{type:b,tag:j,props:{},children:[{type:a,value:"наводящими"}]},{type:a,value:". Дать тебе прямой ответ часто бесполезно,\n    ибо "},{type:b,tag:j,props:{},children:[{type:a,value:"смысл научиться думать самостоятельно"}]},{type:a,value:".\n    И в дальнейшем ты должен начать задавать такие наводящие вопросы самому себе и таким образом научиться\n    самостоятельно находить способы решения задач и проблем.\n  "}]},{type:a,value:e}]}]},excerpt:{type:o,children:[{type:b,tag:d,props:{className:[am,an]},children:[{type:a,value:ce}]},{type:a,value:e},{type:b,tag:i,props:{heading:cf,id:cg},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:ch},{type:b,tag:j,props:{},children:[{type:a,value:ci}]},{type:a,value:cj},{type:b,tag:l,props:{title:ck,link:cl},children:[]},{type:a,value:cm}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:cn}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:co},{type:b,tag:j,props:{},children:[{type:a,value:cp}]},{type:a,value:cq}]},{type:a,value:e}]}]},dir:x,path:"\u002Fcases\u002Fhow-to-ask",extension:y,createdAt:z,updatedAt:"2023-01-06T23:59:49.000Z"},{slug:"intro",description:"Что такое Laravel Way?",heading:"Laraway - путь которого не существует",altHeadings:"Интро",shortHeight:150,toc:[],body:{type:o,children:[{type:b,tag:d,props:{},children:[{type:a,value:ct}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:cu}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:cv}]},{type:a,value:e},{type:a,value:e},{type:b,tag:d,props:{className:["text-2xl"]},children:[{type:a,value:"\n  \"Ларавэйно\" - это\n"}]},{type:a,value:e},{type:b,tag:M,props:{className:[S,N,G]},children:[{type:a,value:c},{type:b,tag:q,props:{},children:[{type:a,value:"code style"}]},{type:a,value:c},{type:b,tag:q,props:{},children:[{type:a,value:"соглашения об именовании"}]},{type:a,value:c},{type:b,tag:q,props:{},children:[{type:a,value:"best-practices, как следствия ошибок разработчиков плохо знакомых с фреймворком"}]},{type:a,value:c},{type:b,tag:q,props:{},children:[{type:a,value:"использование инструментов из коробки"}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"\n  Но ничто из этого списка не относится конкретно к Laravel и не диктует \"как надо\".\n"}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"\n  Также в этот список относят повальное использование различных фасадов и хелперов заменяющих нативные возможности.\n  Например, всегда использовать "},{type:b,tag:f,props:{className:[g,n]},children:[{type:a,value:"collect()"}]},{type:a,value:" вместо простого массива;\n  "},{type:b,tag:f,props:{className:[g,n]},children:[{type:a,value:"Arr::get()"}]},{type:a,value:", чтобы получить элемент; бездумно обернуть всё в\n  "},{type:b,tag:f,props:{className:[g,n]},children:[{type:a,value:"tap()"}]},{type:a,value:cw},{type:b,tag:f,props:{className:[g,n]},children:[{type:a,value:"app()"}]},{type:a,value:".\n  Слепое использование функционала, только потому что он предоставлен твоим любимым фреймворком - это и есть проблема «Laravel Way».\n"}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"\n  Чем больше ты упарываешься в магию и пытаешься писать \"ларавэйно\", тем дальше ты уходишь от качественного и оптимизированного кода.\n  Не надо использовать фичи, просто потому что они есть. Не надо пытаться подражать коду фреймворка из vendor-а.\n  Надо стараться писать аккуратный и простой код согласно реальному ТЗ,\n  а не обмазываться вызовами тяжёлых функций без необходимости.\n"}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"\n  Ответом на вопрос "},{type:b,tag:j,props:{},children:[{type:a,value:"«How to do it in Laravel?»"}]},{type:a,value:" будет всегда - "},{type:b,tag:j,props:{},children:[{type:a,value:"«также как и не в Laravel»"}]},{type:a,value:".\n  Тем не менее, конечно, не стоит изобретать велосипед и игнорировать возможности фреймворка... "},{type:b,tag:j,props:{},children:[{type:a,value:"сохраняй равновесие"}]},{type:a,value:T}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"\n  И какой же вывод, спросишь ты? Всё свелось к Инь-Яну?\n  Разработка - это всегда баланс и компромисс между множеством крайностей.\n  Код - это средство общения людей с машинами и с другими людьми.\n  На самом деле нет никакого «laravel way», нет никакого правильного или аутентичного пути конкретно для Laravel.\n  Мы пишем код, чтобы он корректно работал, был поддерживаемый и читаем для других разработчиков.\n  А \"ларавэйный\" ли он - не имеет никакого значения, не стоит гнаться за абстрактными понятиями.\n"}]},{type:a,value:e},{type:b,tag:d,props:{className:["mt-7"]},children:[{type:a,value:"\n  Laraway - это бесконечный, суровый и в тоже время прекрасный холивар...\n  Каким будет твой - решать тебе.\n"}]},{type:a,value:e},{type:b,tag:d,props:{className:[C]},children:[{type:a,value:"\n  Добро пожаловать в мир разработки и удачного пути...\n"}]}]},excerpt:{type:o,children:[{type:b,tag:d,props:{},children:[{type:a,value:ct}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:cu}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:cv}]}]},dir:x,path:"\u002Fcases\u002Fintro",extension:y,createdAt:z,updatedAt:I},{slug:"laravel-and-vue",description:"Laravel и Vue НЕ связаны друг с другом",heading:"Связка Laravel и Vue",altHeadings:cx,toc:[],body:{type:o,children:[{type:b,tag:d,props:{},children:[{type:a,value:c},{type:b,tag:j,props:{},children:[{type:a,value:cy}]},{type:a,value:cz}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:cA}]},{type:a,value:e},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"\n  Клиентская часть (frontend) взаимодействует с серверной частью (backend) по HTTP.\n"}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:c},{type:b,tag:j,props:{},children:[{type:a,value:"Не важно что на фронте"}]},{type:a,value:": Vue, React, Angular и т.п. и что на бэке: Laravel, Symfony, Django, Spring, .Net и другие - принцип работы не меняется.\n"}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"\n  Laravel - backend фреймворк. Vue - frontend. Даже если ты пишешь vue в blade, то программно это никак их не связывает между собой.\n  Js выполняется на клиенте, php - на сервере.\n"}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"\n  Пишешь html в blade? Ок, но blade не выполняет html,\n  его читает клиент, а сервер возвращает обычный текст с заголовком "},{type:b,tag:f,props:{className:[g]},children:[{type:a,value:"Content-Type: text\u002Fhtml"}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"\n  Раньше Vue шёл из коробки с Laravel?! Не совсем. Он просто был указан в зависимостях\n  "},{type:b,tag:f,props:{className:[g,k]},children:[{type:a,value:"package.json"}]},{type:a,value:" и имел компонент для примера.\n  Всё, "},{type:b,tag:j,props:{},children:[{type:a,value:"никакой логики и \"связок\""}]},{type:a,value:", даже не было форм логина и регистрации. Возможно, имхо, это была маркетинговая компания по рекламе Vue.\n  Начиная с 6 версии, фронта из коробки всё меньше и меньше, как и должно быть в backend фреймворке.\n"}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"\n  Связкой можно назвать пакет Inertia.js, но он лишь \"сглаживает углы\", а общий принцип не меняется:\n  есть клиент, есть сервер, общение по HTTP. И Inertia - это не обязательно Vue, но и React.\n"}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"\n  Laravel + Vue действительно популярный стек на текущий момент, но популярны они не из-за каких-то\n  интеграций и магического функционала. "},{type:b,tag:j,props:{},children:[{type:a,value:"Это просто хорошие и удобные инструменты с низким порогом входа"}]},{type:a,value:",\n  поэтому с ними так легко и приятно работать.\n"}]}]},excerpt:{type:o,children:[{type:b,tag:d,props:{},children:[{type:a,value:c},{type:b,tag:j,props:{},children:[{type:a,value:cy}]},{type:a,value:cz}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:cA}]}]},dir:x,path:"\u002Fcases\u002Flaravel-and-vue",extension:y,createdAt:z,updatedAt:"2024-07-14T09:53:01.541Z"},{slug:"logic-in-controllers",description:D,heading:"Логика в контроллерах это плохо?",altHeadings:"мысликсер, имхо",toc:[],body:{type:o,children:[{type:b,tag:d,props:{className:[am,an]},children:[{type:a,value:cB}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:cC},{type:b,tag:E,props:{to:cD},children:[{type:a,value:cE}]},{type:a,value:cF}]},{type:a,value:e},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"\n  Например, если мы пишем простейший CRUD контроллер,\n  задача которого прочитать и записать данные, то, в случае с Laravel, вынос логики из контроллера может не принести пользы.\n"}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:c},{type:b,tag:j,props:{className:[av]},children:[{type:a,value:"Я ни в коем случае не призываю писать логику в контроллерах"}]},{type:a,value:", а говорю о том, что лаконичный синтаксис фреймворка\n  позволяет это делать не захламляя контроллер и не нарушая DRY. Например:\n"}]},{type:a,value:e},{type:b,tag:p,props:{name:"bad-practices\u002Fheavy-controllers\u002Fsimple"},children:[]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"\n  Если говорить о перспективе, то конечно, "},{type:b,tag:j,props:{},children:[{type:a,value:"код может обрасти логикой или понадобится где-то ещё"}]},{type:a,value:".\n  Вопрос когда это произойдёт и произойдёт ли вообще? А когда произойдёт, то мы легко перенесём этот код в сервис.\n"}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"\n  Да, кейс, когда создаётся пост без загрузки изображений и дополнительной логики достаточно редкий,\n  но он встречается, ибо не все приложения должны иметь \"сложную\" логику, не надо заниматься самообманом,\n  не все проекты это высоконагруженные соц. сети и платформы с огромной кодовой базой и не все станут такими в будущем.\n  Если ты планируешь, что приложение будет расти и есть понимание \"как\",\n  то конечно, лучше сразу вынести в \"сервисы\", но если приложение будет простым CRUD-ом\n  и код похож на пример выше, то копипаст логики в \"сервис\" проблему не решает, а ставит новые задачи, например,\n  передача данных в сервис (DTO) и их валидация, обработка ответа и ошибок от сервиса.\n"}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"\n  На практике, к сожалению, я часто встречаю перенос логики из контроллера в другой класс,\n  который находится в директории "},{type:b,tag:f,props:{className:[g,k]},children:[{type:a,value:"app\u002FServices\u002F"}]},{type:a,value:", состоит из статических методов,\n  данные пробрасываются массивом или ещё хуже, как "},{type:b,tag:f,props:{className:[g,n]},children:[{type:a,value:"Request"}]},{type:a,value:",\n  а обработка ошибок отсутствует полностью. "},{type:b,tag:j,props:{},children:[{type:a,value:"В итоге такой сервис всё равно затруднительно использовать где-то ещё"}]},{type:a,value:",\n  а попытка кастомизации приводит к многочисленным ошибкам в разных местах приложения.\n  И появляется вопрос что хуже: такой \"сервис\" или логика в контроллерах?\n"}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:c},{type:b,tag:f,props:{className:[C]},children:[{type:a,value:aV}]},{type:a,value:", если не хватает опыта, то лучше пусть в приложении будет похожая логика,\n  которая благодаря инструментарию фреймворка выглядит лаконично,\n  чем такие \"недосервисы\", которые существуют только из-за мема \"логика в контроллерах это плохо\".\n  "},{type:b,tag:j,props:{},children:[{type:a,value:"Цель верная, а мотив нет."}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"\n  Данный вопрос не является простым и ответ не может быть однозначным, т.к. относится к архитектуре приложения,\n  а на архитектуру влияет множество факторов, учесть которые без опыта и конкретного ТЗ, к сожалению, невозможно.\n  В разделе "},{type:b,tag:E,props:{to:"\u002Flinks\u002F#books"},children:[{type:a,value:"«ссылки»"}]},{type:a,value:" можешь найти немного литературы, которая, возможно,\n  продвинет тебя в понимании. Удачи.\n"}]}]},excerpt:{type:o,children:[{type:b,tag:d,props:{className:[am,an]},children:[{type:a,value:cB}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:cC},{type:b,tag:E,props:{to:cD},children:[{type:a,value:cE}]},{type:a,value:cF}]}]},dir:x,path:"\u002Fcases\u002Flogic-in-controllers",extension:y,createdAt:z,updatedAt:aa},{slug:"method-is-not-supported",description:"Проверь роуты и убедись, что нет редиректа",heading:"Method is not supported",altHeadings:D,toc:[],body:{type:o,children:[{type:b,tag:i,props:{heading:cG,id:cH},children:[{type:a,value:c},{type:b,tag:d,props:{className:[t,u]},children:[{type:a,value:cI}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:cJ}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:cK},{type:b,tag:f,props:{className:[g,n]},children:[{type:a,value:cL}]},{type:a,value:cM},{type:b,tag:f,props:{className:[g,n]},children:[{type:a,value:cN}]},{type:a,value:cO},{type:b,tag:f,props:{className:[g,n]},children:[{type:a,value:aI}]},{type:a,value:c}]},{type:a,value:e}]},{type:a,value:e},{type:a,value:e},{type:b,tag:i,props:{heading:"Второй вариант",id:"variant-2"},children:[{type:a,value:c},{type:b,tag:d,props:{className:[t,u]},children:[{type:a,value:"\n    The GET method is not supported for this route. Supported methods: POST.\n  "}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    Эта проблема специфичнее предыдущей. т.к. чаще всего происходит при отправке POST запроса, а в ошибке пишет про GET,\n    что путает начинающих.\n  "}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    Самая популярное - это редирект. Редирект всегда GET. Происходить он может по многим причинам, вот самые популярные:\n  "}]},{type:a,value:c},{type:b,tag:M,props:{className:[N,G]},children:[{type:a,value:h},{type:b,tag:q,props:{},children:[{type:a,value:"в URL есть закрывающий слэш и по умолчанию переадресовывает на адрес без \"\u002F\""}]},{type:a,value:h},{type:b,tag:q,props:{},children:[{type:a,value:"переадресация c\u002Fна www"}]},{type:a,value:h},{type:b,tag:q,props:{},children:[{type:a,value:"переадресация на http(s)"}]},{type:a,value:h},{type:b,tag:q,props:{},children:[{type:a,value:"редирект в пользовательском коде"}]},{type:a,value:h},{type:b,tag:q,props:{},children:[{type:a,value:"иное правило в настройках web-сервера"}]},{type:a,value:c}]},{type:a,value:e}]}]},excerpt:{type:o,children:[{type:b,tag:i,props:{heading:cG,id:cH},children:[{type:a,value:c},{type:b,tag:d,props:{className:[t,u]},children:[{type:a,value:cI}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:cJ}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:cK},{type:b,tag:f,props:{className:[g,n]},children:[{type:a,value:cL}]},{type:a,value:cM},{type:b,tag:f,props:{className:[g,n]},children:[{type:a,value:cN}]},{type:a,value:cO},{type:b,tag:f,props:{className:[g,n]},children:[{type:a,value:aI}]},{type:a,value:c}]},{type:a,value:e}]}]},dir:x,path:"\u002Fcases\u002Fmethod-is-not-supported",extension:y,createdAt:z,updatedAt:"2022-08-31T17:03:12.000Z"},{slug:"method-magic-syntax",description:"where('status', 1) или whereStatus(1)",heading:"Магический синтаксис",altHeadings:cP,toc:[],body:{type:o,children:[{type:b,tag:d,props:{},children:[{type:a,value:cQ},{type:b,tag:E,props:{to:cR},children:[{type:a,value:cS}]},{type:a,value:cT}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:cU},{type:b,tag:f,props:{className:[g,n]},children:[{type:a,value:ae}]},{type:a,value:cV}]},{type:a,value:e},{type:a,value:e},{type:b,tag:p,props:{name:"cases\u002Fmethod-magic-syntax\u002Fwhere-regular"},children:[]},{type:a,value:e},{type:b,tag:p,props:{name:"cases\u002Fmethod-magic-syntax\u002Fwhere-magic"},children:[]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"\n  Обычно у разработчиков первая реакция\n  "},{type:b,tag:f,props:{className:[C]},children:[{type:a,value:"\"ух ты, а так можно было?\""}]},{type:a,value:". Да, действительно так "},{type:b,tag:j,props:{},children:[{type:a,value:"можно, но не нужно"}]},{type:a,value:T}]},{type:a,value:e},{type:b,tag:i,props:{heading:"Читаемость кода",id:"readability"},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    Сначала код может показаться более \"гладким\", но выглядит он так только в простых примерах,\n    с простыми именами полей. Когда условий значительно больше, а имена становятся реальными,\n    то читаемость кода падает.\n  "}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    В первом примере (обычный синтаксис) мы можем очень быстро, не вчитываясь, пробежаться глазами\n    и найти все "},{type:b,tag:f,props:{className:[g,n]},children:[{type:a,value:ae}]},{type:a,value:" и поля по которым происходит выборка.\n    Это происходит благодаря визуальному отделению имени поля от имени метода и помогает в этом ещё и подсветка.\n  "}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    Во втором примере, нам придётся вчитываться в название метода и искать\n    где заканчивается where и начинается имя колонки, и подсветка нам в этом не поможет.\n  "}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    Субъективно, скажешь ты? Ок, двигаемся дальше.\n  "}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:i,props:{heading:"Поддержка IDE",id:"ide"},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    Следующая проблема альтернативного синтаксиса - это поддержка IDE. На сегодняшний день существует плагин, который\n    понимает такие методы, но позиция "},{type:b,tag:f,props:{className:[C]},children:[{type:a,value:"\"нужен плагин, чтобы работать с фреймворком\""}]},{type:a,value:" слабая.\n    Может лучше писать так, что бы код можно было поддерживать не привязываясь к IDE и плагинам?\n    Понимаю, когда иначе никак не написать или вариант превосходит в своей полезности, но в данном случае это не так.\n  "}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:i,props:{heading:"Конфликт методов",id:"conflict"},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    И самая главная проблема - конфликт с \"реальными\" методами QueryBuilder-а. Например:\n  "}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:h},{type:b,tag:f,props:{className:[g,n]},children:[{type:a,value:"whereDate()"}]},{type:a,value:h},{type:b,tag:f,props:{className:[g,n]},children:[{type:a,value:"whereTime()"}]},{type:a,value:h},{type:b,tag:f,props:{className:[g,n]},children:[{type:a,value:"whereMonth()"}]},{type:a,value:h},{type:b,tag:f,props:{className:[g,n]},children:[{type:a,value:"whereDay()"}]},{type:a,value:h},{type:b,tag:f,props:{className:[g,n]},children:[{type:a,value:"whereYear()"}]},{type:a,value:h},{type:b,tag:f,props:{className:[g,n]},children:[{type:a,value:"whereColumn()"}]},{type:a,value:h},{type:b,tag:f,props:{className:[g,n]},children:[{type:a,value:"whereKey()"}]},{type:a,value:h},{type:b,tag:f,props:{className:[g,n]},children:[{type:a,value:"whereExists()"}]},{type:a,value:h},{type:b,tag:f,props:{className:[g,n]},children:[{type:a,value:"whereFullText()"}]},{type:a,value:h},{type:b,tag:f,props:{className:[g,n]},children:[{type:a,value:"whereNot()"}]},{type:a,value:h},{type:b,tag:f,props:{className:[g,n]},children:[{type:a,value:"whereHas()"}]},{type:a,value:h},{type:b,tag:f,props:{className:[g,n]},children:[{type:a,value:"whereIn()"}]},{type:a,value:h},{type:b,tag:f,props:{className:[g,n]},children:[{type:a,value:"whereBetween()"}]},{type:a,value:h},{type:b,tag:f,props:{className:[g,n]},children:[{type:a,value:"whereJsonContains()"}]},{type:a,value:h},{type:b,tag:f,props:{className:[g,n]},children:[{type:a,value:"whereNested()"}]},{type:a,value:h},{type:b,tag:f,props:{className:[g,n]},children:[{type:a,value:"whereSub()"}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    И это не полный список, который может дополняться с обновлениями фреймворка.\n    Маловероятно, что в БД будут поля с именами has или in, но такая вероятность всегда есть. А, например,\n    date, time, month, day, year, key, full_text встречаются достаточно часто. В данном случае будут вызваны методы фреймворка и\n    чтобы сделать выборку по полю, придётся писать обычный "},{type:b,tag:f,props:{className:[g,n]},children:[{type:a,value:ae}]},{type:a,value:", что делает код разностилевым\n    и как следствие напрашивается логичный вариант - писать в одном стиле.\n  "}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"\n  Я не буду отговаривать использовать \"магический синтаксис\", каждый делает выводы для себя сам,\n  но не вижу ни одного плюса, чтобы отказаться от обычного "},{type:b,tag:f,props:{className:[g,n]},children:[{type:a,value:ae}]},{type:a,value:T}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"\n  Тем не менее есть места, где \"магический синтаксис\" выглядит уместно и не доставляет проблем, например, в response:\n"}]},{type:a,value:e},{type:b,tag:p,props:{name:"cases\u002Fmethod-magic-syntax\u002Fwith-regular"},children:[]},{type:a,value:e},{type:b,tag:p,props:{name:"cases\u002Fmethod-magic-syntax\u002Fwith-magic"},children:[]}]},excerpt:{type:o,children:[{type:b,tag:d,props:{},children:[{type:a,value:cQ},{type:b,tag:E,props:{to:cR},children:[{type:a,value:cS}]},{type:a,value:cT}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:cU},{type:b,tag:f,props:{className:[g,n]},children:[{type:a,value:ae}]},{type:a,value:cV}]}]},dir:x,path:"\u002Fcases\u002Fmethod-magic-syntax",extension:y,createdAt:z,updatedAt:"2022-08-15T22:14:35.000Z"},{slug:"model-creation",description:"new Model() vs Model::create()",heading:"Способы сохранения новых данных",altHeadings:cP,toc:[],body:{type:o,children:[{type:b,tag:d,props:{},children:[{type:a,value:cW},{type:b,tag:w,props:{title:L,uri:cX},children:[]},{type:a,value:cY}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:cZ},{type:b,tag:f,props:{className:[C]},children:[{type:a,value:c_}]},{type:a,value:T}]},{type:a,value:e},{type:a,value:e},{type:b,tag:i,props:{heading:"Отличия",id:"compare"},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    Первый пример отличается от второго и третьего только тем, что не требует\n    указания "},{type:b,tag:f,props:{className:[g,Y]},children:[{type:a,value:bS}]},{type:a,value:" в модели.\n  "}]},{type:a,value:c},{type:b,tag:p,props:{name:"cases\u002Fmodel-creation\u002Fnew"},children:[]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    Второй и третий примеры ничем не отличаются, кроме того, что вариант с "},{type:b,tag:f,props:{className:[g,n]},children:[{type:a,value:al}]},{type:a,value:"\n    более компактен.\n  "}]},{type:a,value:c},{type:b,tag:p,props:{name:"cases\u002Fmodel-creation\u002Ffill"},children:[]},{type:a,value:c},{type:b,tag:p,props:{name:"cases\u002Fmodel-creation\u002Fcreate"},children:[]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    В четвёртом примере используется метод\n    "},{type:b,tag:w,props:{title:$,type:c$,uri:"Illuminate\u002FDatabase\u002FQuery\u002FBuilder.html#method_insert"},children:[]},{type:a,value:",\n    который возвращает "},{type:b,tag:f,props:{className:[g]},children:[{type:a,value:"boolean"}]},{type:a,value:", а не саму модель.\n    Также метод не заполнит автоматически поля "},{type:b,tag:f,props:{className:[g]},children:[{type:a,value:"created_at"}]},{type:a,value:aJ},{type:b,tag:f,props:{className:[g]},children:[{type:a,value:"updated_at"}]},{type:a,value:",\n    касты и события модели работать не будут, т.к. метод является частью QueryBuilder, а не модели.\n  "}]},{type:a,value:c},{type:b,tag:p,props:{name:"cases\u002Fmodel-creation\u002Finsert"},children:[]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    Метод\n    "},{type:b,tag:w,props:{title:"insertGetId()",type:c$,uri:"Illuminate\u002FDatabase\u002FQuery\u002FBuilder.html#method_insertGetId"},children:[]},{type:a,value:"\n    работает аналогично и возвращает ID вставленной записи, при этом за один раз сохранить можно только одну запись, в отличии от простого\n    "},{type:b,tag:f,props:{className:[g,n]},children:[{type:a,value:$}]},{type:a,value:", который позволяет сохранять несколько записей.\n  "}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:i,props:{heading:bH,id:bI},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    Можно выбрать любой способ.\n    Если не нужен ручной контроль и стремиться за лаконичностью, то "},{type:b,tag:f,props:{className:[g,n]},children:[{type:a,value:al}]},{type:a,value:",\n    если необходимо сохранить много записей за раз, то "},{type:b,tag:f,props:{className:[g,n]},children:[{type:a,value:$}]},{type:a,value:c}]},{type:a,value:e}]}]},excerpt:{type:o,children:[{type:b,tag:d,props:{},children:[{type:a,value:cW},{type:b,tag:w,props:{title:L,uri:cX},children:[]},{type:a,value:cY}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:cZ},{type:b,tag:f,props:{className:[C]},children:[{type:a,value:c_}]},{type:a,value:T}]}]},dir:x,path:"\u002Fcases\u002Fmodel-creation",extension:y,createdAt:z,updatedAt:I},{slug:"permission-denied",description:"Выстави права для записи",heading:"Failed to open stream: Permission denied",altHeadings:"Нет прав на запись, Отказано в доступе",toc:[],body:{type:o,children:[{type:b,tag:d,props:{},children:[{type:a,value:da},{type:b,tag:f,props:{className:[C]},children:[{type:a,value:db}]},{type:a,value:T}]},{type:a,value:e},{type:b,tag:i,props:{heading:dc,id:dd},children:[{type:a,value:c},{type:b,tag:d,props:{className:[t,u]},children:[{type:a,value:de}]},{type:a,value:c},{type:b,tag:d,props:{className:[t,u]},children:[{type:a,value:df}]},{type:a,value:c},{type:b,tag:d,props:{className:[t,u]},children:[{type:a,value:dg}]},{type:a,value:e}]},{type:a,value:e},{type:a,value:e},{type:b,tag:i,props:{heading:aq,id:K},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    Laravel использует директории "},{type:b,tag:f,props:{className:[g,k]},children:[{type:a,value:"bootstrap\u002Fcache\u002F"}]},{type:a,value:aJ},{type:b,tag:f,props:{className:[g,k]},children:[{type:a,value:dh}]},{type:a,value:"\n    для хранения системных файлов, кэша и логов, поэтому у пользователя под которым запускается php должен быть доступ на запись в эти директории.\n  "}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    Для начала необходимо ознакомится с основами прав доступа в UNIX системах, с командами\n    "},{type:b,tag:f,props:{className:[g,n]},children:[{type:a,value:"chmod"}]},{type:a,value:di},{type:b,tag:f,props:{className:[g,n]},children:[{type:a,value:"chown"}]},{type:a,value:bp},{type:b,tag:l,props:{title:"статья #1",link:"https:\u002F\u002Fhabr.com\u002Fru\u002Fpost\u002F469667\u002F"},children:[]},{type:a,value:aG},{type:b,tag:l,props:{title:"статья #2",link:"https:\u002F\u002Fyounglinux.info\u002Fbash\u002Frwx"},children:[]},{type:a,value:" или\n    "},{type:b,tag:l,props:{title:dj,link:"https:\u002F\u002Fbit.ly\u002F3v8SW9B"},children:[]},{type:a,value:"\n    самостоятельно. Для более сложных задач можно углубиться до\n    "},{type:b,tag:l,props:{title:"ACL (Access Control List)",link:"https:\u002F\u002Fwiki.archlinux.org\u002Ftitle\u002FAccess_Control_Lists_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)"},children:[]},{type:a,value:H}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:i,props:{heading:"Быстрое решение",id:W},children:[{type:a,value:c},{type:b,tag:p,props:{name:"cases\u002Fpermission-denied\u002Fchmod"},children:[]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    где www-data - группа под которой работает web-сервер (nginx, apache).\n  "}]},{type:a,value:e}]}]},excerpt:{type:o,children:[{type:b,tag:d,props:{},children:[{type:a,value:da},{type:b,tag:f,props:{className:[C]},children:[{type:a,value:db}]},{type:a,value:T}]},{type:a,value:e},{type:b,tag:i,props:{heading:dc,id:dd},children:[{type:a,value:c},{type:b,tag:d,props:{className:[t,u]},children:[{type:a,value:de}]},{type:a,value:c},{type:b,tag:d,props:{className:[t,u]},children:[{type:a,value:df}]},{type:a,value:c},{type:b,tag:d,props:{className:[t,u]},children:[{type:a,value:dg}]},{type:a,value:e}]}]},dir:x,path:"\u002Fcases\u002Fpermission-denied",extension:y,createdAt:ar,updatedAt:I},{slug:"pretty-url-404",description:"Не работает ЧПУ",heading:"Страницы возвращают 404, кроме главной",altHeadings:"не работает ЧПУ, не работают роуты",toc:[],body:{type:o,children:[{type:b,tag:i,props:{heading:Z,id:K},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:dk},{type:b,tag:w,props:{title:dl,uri:dm},children:[]},{type:a,value:dn},{type:b,tag:f,props:{className:[g,k]},children:[{type:a,value:do0}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:dp}]},{type:a,value:e}]},{type:a,value:e},{type:a,value:e},{type:b,tag:i,props:{heading:"Кэш",id:"cache"},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    Посмотреть доступные маршруты можно командой: "},{type:b,tag:f,props:{className:[g]},children:[{type:a,value:aI}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    Очистить кэш: "},{type:b,tag:f,props:{className:[g]},children:[{type:a,value:"php artisan route:clear"}]},{type:a,value:c}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:i,props:{heading:"Apache"},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    Правила для ЧПУ описываются в\n    "},{type:b,tag:l,props:{title:U,link:"https:\u002F\u002Fgithub.com\u002Flaravel\u002Flaravel\u002Fblob\u002F6e1103180b439bf6970b4a50e9e42cc5de9f9bf3\u002Fpublic\u002F.htaccess#L17"},children:[]},{type:a,value:",\n    причины по которым они могут не работать:\n  "}]},{type:a,value:c},{type:b,tag:i,props:{heading:dq,id:"apache-rewrite"},children:[{type:a,value:h},{type:b,tag:d,props:{},children:[{type:a,value:"\n      Не установлен или отключён\n      "},{type:b,tag:l,props:{title:dq,link:"https:\u002F\u002Fhttpd.apache.org\u002Fdocs\u002Fcurrent\u002Fmod\u002Fmod_rewrite.html"},children:[]},{type:a,value:h}]},{type:a,value:h},{type:b,tag:d,props:{},children:[{type:a,value:"\n      Посмотреть загруженные модули можно командой:\n    "}]},{type:a,value:h},{type:b,tag:p,props:{name:"cases\u002Fpretty-url-404\u002Fapache\u002Fmod-rewrite-check"},children:[]},{type:a,value:h},{type:b,tag:d,props:{},children:[{type:a,value:"\n      Активировать модуль:\n    "}]},{type:a,value:h},{type:b,tag:p,props:{name:"cases\u002Fpretty-url-404\u002Fapache\u002Fmod-rewrite-enable"},children:[]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:i,props:{heading:dr,id:"allow-override"},children:[{type:a,value:h},{type:b,tag:d,props:{},children:[{type:a,value:"\n      Директива\n      "},{type:b,tag:l,props:{title:dr,link:"https:\u002F\u002Fhttpd.apache.org\u002Fdocs\u002Fcurrent\u002Fmod\u002Fcore.html#allowoverride"},children:[]},{type:a,value:"\n      имеет значение "},{type:b,tag:f,props:{className:[g]},children:[{type:a,value:"None"}]},{type:a,value:" для директории проекта,\n      что отключает чтение "},{type:b,tag:f,props:{className:[g,k]},children:[{type:a,value:U}]},{type:a,value:h}]},{type:a,value:h},{type:b,tag:d,props:{},children:[{type:a,value:"\n      Значение должно быть "},{type:b,tag:f,props:{className:[g]},children:[{type:a,value:"All"}]},{type:a,value:h}]},{type:a,value:h},{type:b,tag:p,props:{name:"cases\u002Fpretty-url-404\u002Fapache\u002Fallow-override"},children:[]},{type:a,value:h},{type:b,tag:d,props:{},children:[{type:a,value:r},{type:b,tag:j,props:{},children:[{type:a,value:P}]},{type:a,value:" на путь, нужен тот, где находится твой проект.\n      Тоже самое можно указать в конфигурации самого хоста, а не основного конфига.\n    "}]},{type:a,value:h},{type:b,tag:d,props:{},children:[{type:a,value:r},{type:b,tag:j,props:{},children:[{type:a,value:"Не забудь перезапустить apache"}]},{type:a,value:" после изменений в конфигурации.\n      Быстро проверить, что "},{type:b,tag:f,props:{className:[g,k]},children:[{type:a,value:U}]},{type:a,value:" используется можно добавив в него любую синтаксическую ошибку,\n      если получим 500 ошибку, то файл используется, иначе игнорируется.\n    "}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:i,props:{heading:U,id:"htaccess"},children:[{type:a,value:h},{type:b,tag:d,props:{},children:[{type:a,value:"\n      Правки в "},{type:b,tag:f,props:{className:[g,k]},children:[{type:a,value:U}]},{type:a,value:", которые изменили поведение по умолчанию.\n      Сравни свой файл с\n      "},{type:b,tag:l,props:{title:"оригинальным",link:"https:\u002F\u002Fgithub.com\u002Flaravel\u002Flaravel\u002Fblob\u002F6e1103180b439bf6970b4a50e9e42cc5de9f9bf3\u002Fpublic\u002F.htaccess"},children:[]},{type:a,value:".\n    "}]},{type:a,value:h},{type:b,tag:d,props:{},children:[{type:a,value:r},{type:b,tag:f,props:{className:[g]},children:[{type:a,value:"RewriteEngine"}]},{type:a,value:" должен иметь значение "},{type:b,tag:f,props:{className:[g]},children:[{type:a,value:"On"}]},{type:a,value:", а запросы направляться в index.php:\n    "}]},{type:a,value:h},{type:b,tag:p,props:{name:"cases\u002Fpretty-url-404\u002Fapache\u002Fhtaccess"},children:[]},{type:a,value:c}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:i,props:{heading:"Nginx",id:"nginx"},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    Для Nginx в документации есть\n    "},{type:b,tag:w,props:{title:"раздел",uri:"deployment#nginx"},children:[]},{type:a,value:"\n    с примером конфигурации. Обрати внимание на "},{type:b,tag:f,props:{className:[g]},children:[{type:a,value:"try_files"}]},{type:a,value:" в секции "},{type:b,tag:f,props:{className:[g]},children:[{type:a,value:"location \u002F"}]},{type:a,value:aK}]},{type:a,value:c},{type:b,tag:p,props:{name:"cases\u002Fpretty-url-404\u002Fnginx\u002Ftry-files"},children:[]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    Какие-либо изменения в данной строке могут повлиять на правильную работу, поэтому попробуй использовать в точности как в документации.\n  "}]},{type:a,value:e}]}]},excerpt:{type:o,children:[{type:b,tag:i,props:{heading:Z,id:K},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:dk},{type:b,tag:w,props:{title:dl,uri:dm},children:[]},{type:a,value:dn},{type:b,tag:f,props:{className:[g,k]},children:[{type:a,value:do0}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:dp}]},{type:a,value:e}]}]},dir:x,path:"\u002Fcases\u002Fpretty-url-404",extension:y,createdAt:ar,updatedAt:"2022-09-09T10:44:49.000Z"},{slug:"repository",description:"Репозитории с Eloquent не нужны",heading:"Репозиторий и Eloquent",altHeadings:cx,toc:[],body:{type:o,children:[{type:b,tag:d,props:{},children:[{type:a,value:ds}]},{type:a,value:e},{type:a,value:e},{type:b,tag:i,props:{heading:"Быстрый ответ",id:"quick-answer"},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    Начнём с того, что если ты задаёшься вопросом\n    "},{type:b,tag:f,props:{className:[C]},children:[{type:a,value:"«А нужны ли мне репозитории в Laravel?»"}]},{type:a,value:",\n    то ответ будет простым: "},{type:b,tag:f,props:{className:[C]},children:[{type:a,value:"«Нет, не нужны»"}]},{type:a,value:H}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    По очень простой причине: если ты "},{type:b,tag:j,props:{},children:[{type:a,value:aH}]},{type:a,value:" знаешь зачем ты что-то делаешь, то этого делать "},{type:b,tag:j,props:{},children:[{type:a,value:aH}]},{type:a,value:" надо.\n    А если знаешь зачем, то ты либо делаешь, либо нет и на этом собственно всё.\n  "}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:i,props:{heading:"Чтиво",id:"links"},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    Предлагаю ознакомится с более подробными\n    материалами "},{type:b,tag:f,props:{className:[ao]},children:[{type:a,value:"(комментарии тоже рекомендуются к прочтению)"}]},{type:a,value:aK}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:h},{type:b,tag:l,props:{title:"Как не нужно использовать паттерн Repository",link:"https:\u002F\u002Fhabr.com\u002Fru\u002Fpost\u002F316836\u002F"},children:[]},{type:a,value:h},{type:b,tag:v,props:{},children:[]},{type:a,value:h},{type:b,tag:l,props:{title:"Пожалуйста, прекращайте говорить про шаблон Репозиторий с Eloquent",link:"https:\u002F\u002Fhabr.com\u002Fru\u002Fpost\u002F444688\u002F"},children:[]},{type:a,value:h},{type:b,tag:v,props:{},children:[]},{type:a,value:h},{type:b,tag:l,props:{title:"Полезные репозитории с Eloquent?",link:"https:\u002F\u002Fhabr.com\u002Fru\u002Fpost\u002F445452\u002F"},children:[]},{type:a,value:h},{type:b,tag:v,props:{},children:[]},{type:a,value:h},{type:b,tag:l,props:{title:"Почему здравый смысл важнее паттернов, а Active Record не так уж и плох",link:"https:\u002F\u002Fhabr.com\u002Fru\u002Fcompanies\u002Fdomclick\u002Farticles\u002F515560\u002F"},children:[]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    С материалами я согласен, поэтому здесь в точности повторяться смысла нет.\n  "}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    И немного о самом шаблоне проектирования:\n  "}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:h},{type:b,tag:l,props:{title:"Хранилище (Repository)",link:"https:\u002F\u002Fdesignpatternsphp.readthedocs.io\u002Fru\u002Flatest\u002FMore\u002FRepository\u002FREADME.html"},children:[]},{type:a,value:h},{type:b,tag:v,props:{},children:[]},{type:a,value:h},{type:b,tag:l,props:{title:"Паттерн репозиторий",link:"https:\u002F\u002Fgist.github.com\u002Fmaestrow\u002F594fd9aee859c809b043"},children:[]},{type:a,value:c}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:i,props:{heading:"Суть холивара",id:"topic"},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    Вся суть сводится к тому, что в Laravel репозитории - это бесполезный слой абстракции,\n    поскольку Eloquent ORM - реализация ActiveRecord, уже является репозиторием.\n    И те репозитории, что пишутся с Eloquent, в итоге не выполняют роль присущую паттерну.\n  "}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:i,props:{heading:"Зачем?",id:K},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Чаще всего репозитории в Laravel используются разработчиками:"}]},{type:a,value:c},{type:b,tag:M,props:{className:[N,G,S]},children:[{type:a,value:h},{type:b,tag:q,props:{},children:[{type:a,value:"\n      пришли с других фреймворков или языков, где привыкли иначе разделять бизнес-логику и работу с БД\n    "}]},{type:a,value:h},{type:b,tag:q,props:{},children:[{type:a,value:"\n      пытаются устранить повторяющиеся запросы и сделать \"сервис\" отвечающий за выборку конкретных данных\n    "}]},{type:a,value:h},{type:b,tag:q,props:{},children:[{type:a,value:"\n      решили, что использовать репозитории надо обязательно, по принципу "},{type:b,tag:l,props:{title:"«Здесь так принято»",link:"https:\u002F\u002Fwikireality.ru\u002Fwiki\u002F%D0%97%D0%B4%D0%B5%D1%81%D1%8C_%D1%82%D0%B0%D0%BA_%D0%BF%D1%80%D0%B8%D0%BD%D1%8F%D1%82%D0%BE"},children:[]},{type:a,value:h}]},{type:a,value:h},{type:b,tag:q,props:{},children:[{type:a,value:"\n      для тестирования и моков\n    "}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    Всё это в той или иной мере может иметь смысл, но только потому, что смысл мы вкладываем сами.\n    В реальности я вижу в проектах классы, которые в имени содержат постфикс Repository, но являются ли они репозиториями?\n    Нет. Они являются обычными хелперами, в которые завернули QueryBuilder и которые "},{type:b,tag:j,props:{},children:[{type:a,value:"возвращают модели"}]},{type:a,value:".\n    И модели дальше "},{type:b,tag:j,props:{},children:[{type:a,value:"могут и будут"}]},{type:a,value:" использоваться в обход репозиториев.\n    А методы эти либо бесполезные - "},{type:b,tag:f,props:{className:[g,n]},children:[{type:a,value:"getById()"}]},{type:a,value:",\n    либо узкоспециализированные "},{type:b,tag:f,props:{className:[g,n]},children:[{type:a,value:"getUserWithOrdersForCabinet()"}]},{type:a,value:",\n    которые используются один раз в одном месте приложения\n    и являются обычными "},{type:b,tag:w,props:{title:"скоупами",uri:"eloquent#query-scopes"},children:[]},{type:a,value:c}]},{type:a,value:e}]}]},excerpt:{type:o,children:[{type:b,tag:d,props:{},children:[{type:a,value:ds}]}]},dir:x,path:"\u002Fcases\u002Frepository",extension:y,createdAt:z,updatedAt:"2023-10-08T10:05:19.000Z"},{slug:"shared-hosting",description:"Web-сервер должен смотреть в public",heading:"Laravel и shared-hosting",altHeadings:D,toc:[],body:{type:o,children:[{type:b,tag:i,props:{heading:A,id:B},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:dt},{type:b,tag:f,props:{className:[g,k]},children:[{type:a,value:R}]},{type:a,value:du}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:dv},{type:b,tag:E,props:{to:dw},children:[{type:a,value:dx}]},{type:a,value:dy},{type:b,tag:f,props:{className:[g,k]},children:[{type:a,value:aL}]},{type:a,value:dz}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:dA},{type:b,tag:f,props:{className:[g,k]},children:[{type:a,value:aj}]},{type:a,value:dB},{type:b,tag:v,props:{},children:[]},{type:a,value:dC},{type:b,tag:f,props:{className:[g,k]},children:[{type:a,value:U}]},{type:a,value:dD},{type:b,tag:v,props:{},children:[]},{type:a,value:dE}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:h},{type:b,tag:j,props:{},children:[{type:a,value:dF}]},{type:a,value:dG},{type:b,tag:f,props:{className:[g,k]},children:[{type:a,value:J}]},{type:a,value:dH}]},{type:a,value:e}]},{type:a,value:e},{type:a,value:e},{type:b,tag:i,props:{heading:"Проблема хостингов",id:"hosting-trouble"},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    Шаред-хостинги не подходят под фреймворки, которые более требовательны к окружению, чем CMS.\n    Даже с наличием ssh-доступа и более-менее функционального cli, проблемы не ограничиваются корневой директорией:\n  "}]},{type:a,value:c},{type:b,tag:M,props:{className:[N,G,ab]},children:[{type:a,value:h},{type:b,tag:q,props:{},children:[{type:a,value:"\n      Ограниченные ресурсы железа.\n    "}]},{type:a,value:h},{type:b,tag:q,props:{},children:[{type:a,value:"\n      Могут быть недоступны какие-либо расширения php.\n    "}]},{type:a,value:h},{type:b,tag:q,props:{},children:[{type:a,value:"\n      Может не быть требуемой версии php для web или для cli.\n    "}]},{type:a,value:h},{type:b,tag:q,props:{},children:[{type:a,value:"\n      Ограниченные возможности настройки php.ini или баз данных.\n    "}]},{type:a,value:h},{type:b,tag:q,props:{},children:[{type:a,value:"\n      Сложности с запуском демона для очередей.\n    "}]},{type:a,value:h},{type:b,tag:q,props:{},children:[{type:a,value:"\n      Отсутствует node или установлена устаревшая версия.\n    "}]},{type:a,value:h},{type:b,tag:q,props:{},children:[{type:a,value:"\n      Нет возможности использовать Websockets, Supervisor, Octane, Docker, Redis, Varnish, Meilisearch...\n    "}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    Данный список можно продолжать очень долго, всё зависит от технологий использующихся в проекте.\n    Если ко всему этому и нет нормальной консоли с php cli и git, то это вообще безумие...\n  "}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:d,props:{className:[dI,dJ,dK,ao]},children:[{type:a,value:"\n  В примерах ниже будет использоваться "},{type:b,tag:f,props:{className:[g,k]},children:[{type:a,value:R}]},{type:a,value:" как директория web-сервера.\n  Имя директории варьируется от провайдера и в твоём случае может быть иной, например,\n  "},{type:b,tag:f,props:{className:[g,k]},children:[{type:a,value:"www"}]},{type:a,value:ad},{type:b,tag:f,props:{className:[g,k]},children:[{type:a,value:"docs"}]},{type:a,value:ad},{type:b,tag:f,props:{className:[g,k]},children:[{type:a,value:"html"}]},{type:a,value:",\n  "},{type:b,tag:f,props:{className:[g,k]},children:[{type:a,value:"htdocs"}]},{type:a,value:ad},{type:b,tag:f,props:{className:[g,k]},children:[{type:a,value:"domains"}]},{type:a,value:" и т.д.\n"}]},{type:a,value:e},{type:b,tag:i,props:{heading:"Решение 1: Взять VPS","menu-heading":"VPS",id:"solution-vps"},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:h},{type:b,tag:j,props:{},children:[{type:a,value:"Отказаться от шаред-хостинга"}]},{type:a,value:" и взять по той же цене обычный VPS, в котором можно свободно настроить среду.\n    "},{type:b,tag:j,props:{},children:[{type:a,value:"Это самый адекватный и правильный вариант"}]},{type:a,value:".\n    Для настройки сервера тебе понадобятся базовые знания в linux, которые должны быть у каждого backend разработчика. \n    Если у тебя VPS или решил на него перейти, то смотри второй пункт\n    "},{type:b,tag:E,props:{to:"\u002Fshared-hosting#solution-document-root"},children:[{type:a,value:"«Как настроить DocumentRoot»"}]},{type:a,value:H}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:i,props:{heading:"Решение 2: Настроить DocumentRoot","menu-heading":"DocumentRoot",id:"solution-document-root"},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    Настроить web-сервер и "},{type:b,tag:j,props:{},children:[{type:a,value:"изменить document_root"}]},{type:a,value:" так, чтобы он смотрел в "},{type:b,tag:f,props:{className:[g,k]},children:[{type:a,value:J}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:p,props:{name:"cases\u002Fshared-hosting\u002Fconfig"},children:[]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    Некоторые современные хостинги позволяют настраивать корневую директорию,\n    уточни у тех. поддержки и если такой возможности нет,\n    то читай дальше...\n  "}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:i,props:{heading:"Решение 3: Сделать SymLink","menu-heading":"SymLink",id:"solution-symlink"},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    Создать\n    "},{type:b,tag:l,props:{title:"символическую ссылку",link:"https:\u002F\u002Fru.wikipedia.org\u002Fwiki\u002F%D0%A1%D0%B8%D0%BC%D0%B2%D0%BE%D0%BB%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B0%D1%8F_%D1%81%D1%81%D1%8B%D0%BB%D0%BA%D0%B0"},children:[]},{type:a,value:"\n    на "},{type:b,tag:f,props:{className:[g,k]},children:[{type:a,value:J}]},{type:a,value:h},{type:b,tag:v,props:{},children:[]},{type:a,value:"\n    Сделать это можно через консоль или в файловом менеджере (зависит от провайдера)\n  "}]},{type:a,value:c},{type:b,tag:cc,props:{className:[cd,G,ab,"pt-1"]},children:[{type:a,value:h},{type:b,tag:q,props:{className:[ab]},children:[{type:a,value:"\n      Приложение загружается в любую доступную директорию кроме "},{type:b,tag:f,props:{className:[g,k]},children:[{type:a,value:R}]},{type:a,value:" \n      или на один уровень выше, так чтобы\n      "},{type:b,tag:f,props:{className:[g,k]},children:[{type:a,value:R}]},{type:a,value:" хостинга и "},{type:b,tag:f,props:{className:[g,k]},children:[{type:a,value:J}]},{type:a,value:"\n      фреймворка были в одной директории. Расположение проекта может быть любым, \n      главное указать правильный путь к директории "},{type:b,tag:f,props:{className:[g,k]},children:[{type:a,value:J}]},{type:a,value:" в символической ссылке.\n    "}]},{type:a,value:h},{type:b,tag:q,props:{className:[ab]},children:[{type:a,value:"\n      Удаляется директория хостинга "},{type:b,tag:f,props:{className:[g,k]},children:[{type:a,value:R}]},{type:a,value:h}]},{type:a,value:h},{type:b,tag:q,props:{},children:[{type:a,value:"\n      Создаётся симлинк "},{type:b,tag:f,props:{className:[g,k]},children:[{type:a,value:R}]},{type:a,value:dL},{type:b,tag:f,props:{className:[g,k]},children:[{type:a,value:J}]},{type:a,value:"\n      любым доступным способом:\n      "},{type:b,tag:p,props:{name:"cases\u002Fshared-hosting\u002Flink"},children:[]},{type:a,value:r},{type:b,tag:d,props:{},children:[{type:a,value:m},{type:b,tag:j,props:{},children:[{type:a,value:P}]},{type:a,value:", что пути указаны абсолютно.\n      "}]},{type:a,value:h}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    В результате мы \"восстанавливаем\" "},{type:b,tag:f,props:{className:[g,k]},children:[{type:a,value:R}]},{type:a,value:", но это уже не директория,\n    а ссылка на "},{type:b,tag:f,props:{className:[g,k]},children:[{type:a,value:J}]},{type:a,value:h},{type:b,tag:v,props:{},children:[]},{type:a,value:"Поэтому настройки web-сервера остаются прежними,\n    а запросы приходят в "},{type:b,tag:f,props:{className:[g,k]},children:[{type:a,value:aL}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    Это простой вариант, но не все хостеры дают возможность создавать символические ссылки.\n  "}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:h},{type:b,tag:j,props:{},children:[{type:a,value:"Также данный вариант не рекомендуется при использовании OPCache"}]},{type:a,value:", \n    чтобы обезопасить развертывание приложений из-за realpath-кэша, подробнее читай в статье\n    "},{type:b,tag:l,props:{title:"\"Обзор расширения OPCache\"",link:"https:\u002F\u002Fhabr.com\u002Fru\u002Fcompanies\u002Fvk\u002Farticles\u002F310054\u002F"},children:[]},{type:a,value:H}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:i,props:{heading:"Решение 4: Переименовать public","menu-heading":"Переименование",id:"solution-rename"},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    Переименовать "},{type:b,tag:f,props:{className:[g,k]},children:[{type:a,value:J}]},{type:a,value:" в "},{type:b,tag:f,props:{className:[g,k]},children:[{type:a,value:R}]},{type:a,value:h},{type:b,tag:v,props:{},children:[]},{type:a,value:"\n    Для этого переименовываем саму директорию и переопределяем путь в "},{type:b,tag:f,props:{className:[g]},children:[{type:a,value:"App\\Providers\\AppServiceProvider"}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:p,props:{name:"cases\u002Fshared-hosting\u002Fapp-service-provider"},children:[]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:h},{type:b,tag:j,props:{},children:[{type:a,value:P}]},{type:a,value:", что для локальной разработки директорию придётся переименовать всем кто работает с проектом.\n  "}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    Если используется Laravel 8.x или более старая версия, то для работы "},{type:b,tag:f,props:{className:[g]},children:[{type:a,value:"php artisan serve"}]},{type:a,value:"\n    необходимо изменить путь в\n    "},{type:b,tag:l,props:{title:"server.php",link:"https:\u002F\u002Fgithub.com\u002Flaravel\u002Flaravel\u002Fblob\u002F8.x\u002Fserver.php"},children:[]},{type:a,value:H}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    Если используется Mix, то потребуется использовать\n    "},{type:b,tag:l,props:{title:"mix.setPublicPath()",link:"https:\u002F\u002Flaravel-mix.com\u002Fdocs\u002F6.0\u002Ffaq"},children:[]},{type:a,value:h},{type:b,tag:v,props:{},children:[]},{type:a,value:"Если используется Vite, то необходимо изменить\n    "},{type:b,tag:l,props:{title:"build_path",link:"https:\u002F\u002Flaravel-vite.dev\u002Fconfiguration\u002Flaravel-package.html#build-path"},children:[]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    Также не забудь внести изменения в\n    "},{type:b,tag:l,props:{title:".gitignore",link:"https:\u002F\u002Fgithub.com\u002Flaravel\u002Flaravel\u002Fblob\u002F9.x\u002F.gitignore"},children:[]},{type:a,value:c}]},{type:a,value:e}]}]},excerpt:{type:o,children:[{type:b,tag:i,props:{heading:A,id:B},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:dt},{type:b,tag:f,props:{className:[g,k]},children:[{type:a,value:R}]},{type:a,value:du}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:dv},{type:b,tag:E,props:{to:dw},children:[{type:a,value:dx}]},{type:a,value:dy},{type:b,tag:f,props:{className:[g,k]},children:[{type:a,value:aL}]},{type:a,value:dz}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:dA},{type:b,tag:f,props:{className:[g,k]},children:[{type:a,value:aj}]},{type:a,value:dB},{type:b,tag:v,props:{},children:[]},{type:a,value:dC},{type:b,tag:f,props:{className:[g,k]},children:[{type:a,value:U}]},{type:a,value:dD},{type:b,tag:v,props:{},children:[]},{type:a,value:dE}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:h},{type:b,tag:j,props:{},children:[{type:a,value:dF}]},{type:a,value:dG},{type:b,tag:f,props:{className:[g,k]},children:[{type:a,value:J}]},{type:a,value:dH}]},{type:a,value:e}]}]},dir:x,path:"\u002Fcases\u002Fshared-hosting",extension:y,createdAt:z,updatedAt:"2024-07-14T10:40:49.737Z"},{slug:"ssh-key",description:"Сгенерируй ключ, добавь в аккаунт, профит. Подробнее по ссылке...",heading:"SSH ключ для репозитория",altHeadings:D,toc:[],body:{type:o,children:[{type:b,tag:d,props:{},children:[{type:a,value:dM}]},{type:a,value:e},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"\n  Разобраться с SSH крайне просто, это займёт минут 10, благодаря уже готовой инструкции от GitHub:\n  "},{type:b,tag:l,props:{title:"Генерация SSH ключа",link:"https:\u002F\u002Fdocs.github.com\u002Fen\u002Fauthentication\u002Fconnecting-to-github-with-ssh\u002Fgenerating-a-new-ssh-key-and-adding-it-to-the-ssh-agent"},children:[]},{type:a,value:c},{type:b,tag:v,props:{},children:[]},{type:a,value:c},{type:b,tag:l,props:{title:"Добавление ключа на аккаунт",link:"https:\u002F\u002Fdocs.github.com\u002Fen\u002Fauthentication\u002Fconnecting-to-github-with-ssh\u002Fadding-a-new-ssh-key-to-your-github-account"},children:[]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"\n  Инструкция подходит не только для GitHub, принцип один и тот же. А если совсем упростить то вот:\n"}]},{type:a,value:e},{type:b,tag:d,props:{className:[Q]},children:[{type:a,value:"\n  1. Генерируем ключ:\n"}]},{type:a,value:e},{type:b,tag:p,props:{name:"cases\u002Fssh-key\u002Fgenerate"},children:[]},{type:a,value:e},{type:b,tag:d,props:{className:[ao]},children:[{type:a,value:"\n  Указываем свой email, имя ключа оставляем по умолчанию (если нет такого), вводим любую кодовую фразу (запоминаем)\n"}]},{type:a,value:e},{type:b,tag:d,props:{className:[Q]},children:[{type:a,value:"\n  2. Запускаем агент и добавляем в него ключ:\n"}]},{type:a,value:e},{type:b,tag:p,props:{name:"cases\u002Fssh-key\u002Fadd"},children:[]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"\n  3. Копируем содержимое "},{type:b,tag:j,props:{},children:[{type:a,value:"публичного"}]},{type:a,value:" ключа любым удобным способом:\n"}]},{type:a,value:e},{type:b,tag:p,props:{name:"cases\u002Fssh-key\u002Fcopy"},children:[]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"\n  4. Вставляем "},{type:b,tag:j,props:{},children:[{type:a,value:"публичный"}]},{type:a,value:" ключ в настройках своего аккаунта "},{type:b,tag:j,props:{},children:[{type:a,value:"(не репозитория)"}]},{type:a,value:" на GitHub, GitLab, BitBacket и т.д.\n  Путь примерно такой: "},{type:b,tag:f,props:{className:[g]},children:[{type:a,value:"Settings \u003E SSH keys \u003E Add SSH key"}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:d,props:{className:[Q]},children:[{type:a,value:"\n  5. Клонируем репозиторий по ssh или меняем у текущего, используя свой адрес:\n"}]},{type:a,value:e},{type:b,tag:p,props:{name:"cases\u002Fssh-key\u002Fgit-remote-set"},children:[]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"\n  Для более подробной информации по своей операционной системе смотри инструкции по ссылкам выше.\n"}]}]},excerpt:{type:o,children:[{type:b,tag:d,props:{},children:[{type:a,value:dM}]}]},dir:x,path:"\u002Fcases\u002Fssh-key",extension:y,createdAt:z,updatedAt:I},{slug:"storage",description:"Storage и диски, смотри инструкцию по ссылке",heading:"Работа с файлами в Laravel",altHeadings:"работа с дисками",toc:[],body:{type:o,children:[{type:b,tag:d,props:{},children:[{type:a,value:dN},{type:b,tag:w,props:{title:af,uri:dO},children:[]},{type:a,value:dP},{type:b,tag:l,props:{title:dQ,link:dR},children:[]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:i,props:{heading:aE,id:dS},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:dT},{type:b,tag:E,props:{to:dU},children:[{type:a,value:dV}]},{type:a,value:c}]},{type:a,value:e}]},{type:a,value:e},{type:a,value:e},{type:b,tag:i,props:{heading:"Что такое диски",id:"disks"},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    В Storage есть понятие \"диски\",\n    которые можно свободно настраивать в "},{type:b,tag:f,props:{className:[g,k]},children:[{type:a,value:aM}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    Каждый диск может хранить любые файлы, быть приватным или публичным, находиться на локальном или удалённом сервере.\n    Зачем это надо? Storage позволяет работать с файлами вне зависимости от их расположения,\n    будь то локальный диск, FTP или Amazon S3. Дисков может быть сколько необходимо, например, с их помощью можно разделить\n    аватарки пользователей, фотографии, медиа-контент в статьях и комментариях, загружаемые пользователями файлы, отчёты и т.д.\n    В дальнейшем можно не беспокоиться, если необходимо будет переместить какие-либо \"группы\",\n    достаточно просто изменить настройки диска, без изменений в коде и базе данных.\n  "}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    В простых проектах чаще всего используется только два диска\n    "},{type:b,tag:f,props:{className:[g]},children:[{type:a,value:ap}]},{type:a,value:aJ},{type:b,tag:f,props:{className:[g]},children:[{type:a,value:J}]},{type:a,value:" и этого может быть вполне достаточно.\n  "}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:i,props:{heading:"Public",id:"public-disk"},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    Публичный диск. По умолчанию файлы хранятся в\n    "},{type:b,tag:f,props:{className:[g,k]},children:[{type:a,value:ac}]},{type:a,value:h},{type:b,tag:v,props:{},children:[]},{type:a,value:"Файлы хранящиеся в этом диске будут доступны из web по адресу "},{type:b,tag:f,props:{className:[g]},children:[{type:a,value:"example.com\u002Fstorage"}]},{type:a,value:h},{type:b,tag:v,props:{},children:[]},{type:a,value:"Для этого необходимо создать симлинк с помощью команды "},{type:b,tag:f,props:{className:[g]},children:[{type:a,value:aF}]},{type:a,value:c}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:i,props:{heading:"Local",id:"local-disk"},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    Приватный диск. По умолчанию файлы хранятся в\n    "},{type:b,tag:f,props:{className:[g,k]},children:[{type:a,value:"storage\u002Fapp"}]},{type:a,value:h},{type:b,tag:v,props:{},children:[]},{type:a,value:"Файлы не будут доступны из web, но можно скачать по\n    "},{type:b,tag:w,props:{title:"временной ссылке",uri:"filesystem#temporary-urls"},children:[]},{type:a,value:"\n    или вернуть их\n    "},{type:b,tag:w,props:{title:"вручную",uri:"filesystem#downloading-files"},children:[]},{type:a,value:H}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:i,props:{heading:"Default",id:"default-disk"},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    По умолчанию используется диск "},{type:b,tag:f,props:{className:[g]},children:[{type:a,value:ap}]},{type:a,value:",\n    а значит любые манипуляции с "},{type:b,tag:f,props:{className:[g,n]},children:[{type:a,value:af}]},{type:a,value:" без указания конкретного диска будут происходит\n    с "},{type:b,tag:f,props:{className:[g]},children:[{type:a,value:ap}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    Изменить диск по умолчанию можно в "},{type:b,tag:f,props:{className:[g,k]},children:[{type:a,value:aj}]},{type:a,value:" указав "},{type:b,tag:f,props:{className:[g]},children:[{type:a,value:"FILESYSTEM_DISK"}]},{type:a,value:"\n    или в "},{type:b,tag:f,props:{className:[g,k]},children:[{type:a,value:aM}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    Каким делать диск по умолчанию решать тебе, если в проекте используется только "},{type:b,tag:f,props:{className:[g]},children:[{type:a,value:J}]},{type:a,value:",\n    то удобнее сделать его дефолтным, чтобы не указывать каждый раз.\n    Если в проекте много дисков и их указание неизбежно,\n    то выгоднее оставить "},{type:b,tag:f,props:{className:[g]},children:[{type:a,value:ap}]},{type:a,value:", но это может быть любой диск, зависит от ТЗ.\n  "}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:d,props:{className:[dI,dJ,dK,ao]},children:[{type:a,value:"\n  Напомню, что все настройки дисков можно свободно менять под свои задачи и создавать новые диски,\n  а не ограничиваться предложенными из коробки.\n  В "},{type:b,tag:w,props:{title:L,uri:"filesystem#configuration"},children:[]},{type:a,value:"\n  отлично описаны возможности системы с примерами.\n"}]},{type:a,value:e},{type:b,tag:i,props:{heading:"Path & URL",id:"path-url"},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    Самая популярная проблема у начинающих это связь файлового пути с URL,\n    по этой причине файлы часто сохраняют напрямую в public, но лучше один раз разобраться.\n  "}]},{type:a,value:c},{type:b,tag:M,props:{className:[N,G,S]},children:[{type:a,value:h},{type:b,tag:q,props:{className:[V]},children:[{type:a,value:"\n      Файлы хранятся в "},{type:b,tag:f,props:{className:[g,k]},children:[{type:a,value:ac}]},{type:a,value:h}]},{type:a,value:h},{type:b,tag:q,props:{className:[V]},children:[{type:a,value:"\n      Команда "},{type:b,tag:f,props:{className:[g]},children:[{type:a,value:aF}]},{type:a,value:" создаёт ссылку "},{type:b,tag:f,props:{className:[g,k]},children:[{type:a,value:aN}]},{type:a,value:h}]},{type:a,value:h},{type:b,tag:q,props:{className:[V]},children:[{type:a,value:"\n      Путь "},{type:b,tag:f,props:{className:[g,k]},children:[{type:a,value:aN}]},{type:a,value:" ссылается на "},{type:b,tag:f,props:{className:[g,k]},children:[{type:a,value:ac}]},{type:a,value:h}]},{type:a,value:h},{type:b,tag:q,props:{className:[V]},children:[{type:a,value:"\n      Файл "},{type:b,tag:f,props:{className:[g,k]},children:[{type:a,value:"storage\u002Fapp\u002Fpublic\u002Flogo.jpg"}]},{type:a,value:"\n      в web доступен так: "},{type:b,tag:f,props:{className:[g]},children:[{type:a,value:"https:\u002F\u002Fexample.com\u002Fstorage\u002Flogo.jpg"}]},{type:a,value:h}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:aw,props:{className:[ax]},children:[{type:a,value:h},{type:b,tag:_,props:{className:[_]},children:[{type:a,value:r},{type:b,tag:ay,props:{},children:[{type:a,value:r},{type:b,tag:F,props:{},children:[{type:a,value:m},{type:b,tag:O,props:{},children:[{type:a,value:af}]},{type:a,value:m},{type:b,tag:O,props:{},children:[{type:a,value:"URI"}]},{type:a,value:r}]},{type:a,value:r}]},{type:a,value:r},{type:b,tag:az,props:{},children:[{type:b,tag:F,props:{},children:[{type:a,value:m},{type:b,tag:s,props:{},children:[{type:a,value:dW},{type:b,tag:j,props:{},children:[{type:a,value:J}]},{type:a,value:"\u002Flogo.jpg"}]},{type:a,value:m},{type:b,tag:s,props:{},children:[{type:a,value:"\u002Fstorage\u002Flogo.jpg"}]},{type:a,value:r}]},{type:a,value:r},{type:b,tag:F,props:{},children:[{type:a,value:m},{type:b,tag:s,props:{},children:[{type:a,value:dW},{type:b,tag:j,props:{},children:[{type:a,value:J}]},{type:a,value:"\u002Fposts\u002Fcover.jpg"}]},{type:a,value:m},{type:b,tag:s,props:{},children:[{type:a,value:"\u002Fstorage\u002Fposts\u002Fcover.jpg"}]},{type:a,value:r}]},{type:a,value:r},{type:b,tag:F,props:{},children:[{type:a,value:m},{type:b,tag:s,props:{},children:[{type:a,value:"storage\u002Fapp\u002Fphoto.jpg"}]},{type:a,value:m},{type:b,tag:s,props:{className:["text-pink-500"]},children:[{type:a,value:"недоступен"}]},{type:a,value:r}]},{type:a,value:h}]}]},{type:a,value:c}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:i,props:{heading:"Подробный пример",id:"example"},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    Рассмотрим простейшую ситуацию с загрузкой изображения к посту.\n  "}]},{type:a,value:c},{type:b,tag:d,props:{className:[Q]},children:[{type:a,value:"\n    Начнём с настройки диска. Добавляем новый диск в "},{type:b,tag:f,props:{className:[g,k]},children:[{type:a,value:aM}]},{type:a,value:",\n    за основу можно скопировать настройки public.\n  "}]},{type:a,value:c},{type:b,tag:p,props:{name:"cases\u002Fstorage\u002Fconfig"},children:[]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:h},{type:b,tag:f,props:{className:[g]},children:[{type:a,value:"posts"}]},{type:a,value:" - имя диска по которому мы будем обращаться.\n    "},{type:b,tag:v,props:{},children:[]},{type:a,value:h},{type:b,tag:f,props:{className:[g]},children:[{type:a,value:o}]},{type:a,value:" - путь к корневой директории, в "},{type:b,tag:f,props:{className:[g,n]},children:[{type:a,value:"storage_path()"}]},{type:a,value:" указывается\n    путь относительно "},{type:b,tag:f,props:{className:[g,k]},children:[{type:a,value:dh}]},{type:a,value:h},{type:b,tag:v,props:{},children:[]},{type:a,value:h},{type:b,tag:f,props:{className:[g]},children:[{type:a,value:"url"}]},{type:a,value:" - адрес для генерации ссылки на файл.\n  "}]},{type:a,value:c},{type:b,tag:d,props:{className:[Q]},children:[{type:a,value:"\n    Создаём симлинк "},{type:b,tag:f,props:{className:[g,k]},children:[{type:a,value:aN}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:p,props:{name:"cases\u002Fstorage\u002Fartisan-link"},children:[]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    Создаём директорию командой или любым удобным способом и, если необходимо,\n    "},{type:b,tag:E,props:{to:"\u002Fpermission-denied\u002F#solution"},children:[{type:a,value:"выставляем права"}]},{type:a,value:aK}]},{type:a,value:c},{type:b,tag:p,props:{name:"cases\u002Fstorage\u002Fmkdir"},children:[]},{type:a,value:c},{type:b,tag:d,props:{className:[Q]},children:[{type:a,value:"\n    Пишем простую форму создания поста:\n  "}]},{type:a,value:c},{type:b,tag:p,props:{name:"cases\u002Fstorage\u002Fform"},children:[]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:h},{type:b,tag:j,props:{},children:[{type:a,value:P}]},{type:a,value:dL},{type:b,tag:w,props:{title:"@csrf",uri:"csrf#preventing-csrf-requests"},children:[]},{type:a,value:di},{type:b,tag:l,props:{title:"multipart\u002Fform-data",link:"https:\u002F\u002Fdeveloper.mozilla.org\u002Fen-US\u002Fdocs\u002FWeb\u002FAPI\u002FHTMLFormElement\u002Fenctype"},children:[]},{type:a,value:",\n    их отсутствие это причина популярных проблем.\n  "}]},{type:a,value:c},{type:b,tag:d,props:{className:[Q]},children:[{type:a,value:"\n    Обрабатываем запрос:\n  "}]},{type:a,value:c},{type:b,tag:p,props:{name:"cases\u002Fstorage\u002Fcontroller"},children:[]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    Здесь есть некоторые проблемы, но для примера этого достаточно,\n    ибо нас интересует только 14 строка.\n    Разберём её подробнее.\n  "}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:ag},{type:b,tag:w,props:{title:L,uri:"requests#storing-uploaded-files"},children:[]},{type:a,value:"\n    это один из простых способов быстро сохранить файл из запроса.\n  "}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    Первым аргументом в "},{type:b,tag:f,props:{className:[g,n]},children:[{type:a,value:aO}]},{type:a,value:" указывается относительный путь от диска,\n    позволяющий дополнительно указать директорию в которую сохранить файл. \n    Это может быть удобно для разделения файлов внутри диска, например, \n    мы можем сохранить оригинальное изображение в папку "},{type:b,tag:f,props:{className:[g]},children:[{type:a,value:"original"}]},{type:a,value:", \n    а миниатюру в папку "},{type:b,tag:f,props:{className:[g]},children:[{type:a,value:"preview"}]},{type:a,value:". В данном примере сохраняем в корень диска,\n    поэтому значение оставляем пустым.\n  "}]},{type:a,value:c},{type:b,tag:p,props:{name:"cases\u002Fstorage\u002Frequest-store"},children:[]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    Вторым аргументом указывается имя диска. Метод возвращает относительный путь к файлу вместе с именем и расширением, его и сохраняем в БД.\n  "}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:h},{type:b,tag:j,props:{},children:[{type:a,value:P}]},{type:a,value:", что "},{type:b,tag:f,props:{className:[g,n]},children:[{type:a,value:aO}]},{type:a,value:" генерирует случайное имя файла, \n    а если необходимо задать вручную, то для этого есть метод "},{type:b,tag:f,props:{className:[g,n]},children:[{type:a,value:"storeAs()"}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:d,props:{className:[Q]},children:[{type:a,value:"\n    Файл сохранился здесь: "},{type:b,tag:f,props:{className:[g,k]},children:[{type:a,value:"storage\u002Fapp\u002Fpublic\u002Fposts\u002Fxxx.jpg"}]},{type:a,value:h},{type:b,tag:v,props:{},children:[]},{type:a,value:"Путь в базе данных: "},{type:b,tag:f,props:{className:[g]},children:[{type:a,value:"xxx.jpg"}]},{type:a,value:h},{type:b,tag:v,props:{},children:[]},{type:a,value:"URL к файлу: "},{type:b,tag:f,props:{className:[g]},children:[{type:a,value:"https:\u002F\u002Fexample.com\u002Fstorage\u002Fposts\u002Fxxx.jpg"}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    Осталось вывести файл в шаблоне. Конечно, можно собрать URL вручную, но у "},{type:b,tag:f,props:{className:[g,n]},children:[{type:a,value:af}]},{type:a,value:" уже есть необходимый\n    "},{type:b,tag:w,props:{title:"метод",uri:"filesystem#file-urls"},children:[]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:p,props:{name:"cases\u002Fstorage\u002Fdisplay"},children:[]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"\n    Если это выглядит громоздко, то можно сделать в модели\n    "},{type:b,tag:w,props:{title:"аксессор",uri:"eloquent-mutators#defining-an-accessor"},children:[]},{type:a,value:"\n    и в шаблоне получится более элегантно:\n  "}]},{type:a,value:c},{type:b,tag:p,props:{name:"cases\u002Fstorage\u002Fdisplay-2"},children:[]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:i,props:{heading:"Популярные вопросы",id:"questions"},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:h},{type:b,tag:j,props:{},children:[{type:a,value:"Необходимо каждый раз хардкодить имя диска?"}]},{type:a,value:h},{type:b,tag:f,props:{className:[dX,dY,dZ]},children:[{type:a,value:"\n      Нет, если используется только public, то его можно сделать дефолтным. Или можно в модели\n      определить константу и обращаться к ней:\n    "}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:p,props:{name:"cases\u002Fstorage\u002Fdisk-constant"},children:[]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:h},{type:b,tag:j,props:{},children:[{type:a,value:"Как хранить разные версии изображений?"}]},{type:a,value:h},{type:b,tag:f,props:{className:[dX,dY,dZ]},children:[{type:a,value:"\n      Достаточно сложный вопрос зависящий от ТЗ и тонкостей использования ссылок.\n      В примере выше в методе "},{type:b,tag:f,props:{className:[g,n]},children:[{type:a,value:aO}]},{type:a,value:" первым аргументом указывается директория.\n      Таким образом можно разделить на original, preview, full_hd, hd, medium, small, 512px, 480x320 и т.д.\n      Хранить можно в разных полях или в массиве\u002Fjson, всё зависит от того как это будет использоваться\n      и сколько вариантов может быть. Если для фронта потребуются новые форматы,\n      то хранить их в отдельных колонках может стать затруднительно, поскольку придётся каждый раз править БД.\n      В таком случае можно хранить только имя файла, которое во всех директориях будет одинаковое,\n      а директорию подставлять динамически, когда необходимо.\n      В некоторых системах размеры могут генерироваться \"на лету\", но это выходит за рамки данного материала.\n    "}]},{type:a,value:c}]},{type:a,value:e}]}]},excerpt:{type:o,children:[{type:b,tag:d,props:{},children:[{type:a,value:dN},{type:b,tag:w,props:{title:af,uri:dO},children:[]},{type:a,value:dP},{type:b,tag:l,props:{title:dQ,link:dR},children:[]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:i,props:{heading:aE,id:dS},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:dT},{type:b,tag:E,props:{to:dU},children:[{type:a,value:dV}]},{type:a,value:c}]},{type:a,value:e}]}]},dir:x,path:"\u002Fcases\u002Fstorage",extension:y,createdAt:z,updatedAt:aa},{slug:"unescaped-data",description:"Чтобы отключить преобразования используй {!! !!}",heading:"Экранирование данных в Blade",altHeadings:D,toc:[],body:{type:o,children:[{type:b,tag:i,props:{heading:A,id:B},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:d_},{type:b,tag:f,props:{className:[g,n]},children:[{type:a,value:d$}]},{type:a,value:ea}]},{type:a,value:e}]},{type:a,value:e},{type:a,value:e},{type:b,tag:i,props:{heading:Z,id:K},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:h},{type:b,tag:f,props:{className:[g,n]},children:[{type:a,value:"{{ }}"}]},{type:a,value:" преобразует специальные символы в\n    "},{type:b,tag:l,props:{title:"HTML-сущности",link:"https:\u002F\u002Fru.wikipedia.org\u002Fwiki\u002F%D0%9C%D0%BD%D0%B5%D0%BC%D0%BE%D0%BD%D0%B8%D0%BA%D0%B8_%D0%B2_HTML"},children:[]},{type:a,value:"\n    с помощью\n    "},{type:b,tag:l,props:{title:"htmlspecialchars()",link:"https:\u002F\u002Fwww.php.net\u002Fmanual\u002Fru\u002Ffunction.htmlspecialchars.php"},children:[]},{type:a,value:",\n    с целью защиты от XSS атак.\n  "}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:i,props:{heading:X,id:W},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:ag},{type:b,tag:w,props:{title:L,uri:"blade#displaying-unescaped-data"},children:[]},{type:a,value:" используй\n    "},{type:b,tag:f,props:{className:[g,n]},children:[{type:a,value:"{!! !!}"}]},{type:a,value:", если необходимо сохранить исходный контент.\n  "}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:h},{type:b,tag:j,props:{},children:[{type:a,value:P}]},{type:a,value:", что пользовательские данные "},{type:b,tag:j,props:{},children:[{type:a,value:"обязательно"}]},{type:a,value:" должны экранироваться или фильтроваться, например,\n    с помощью "},{type:b,tag:l,props:{title:"Purifier",link:"https:\u002F\u002Fgithub.com\u002Fmewebstudio\u002FPurifier"},children:[]},{type:a,value:c}]},{type:a,value:e}]}]},excerpt:{type:o,children:[{type:b,tag:i,props:{heading:A,id:B},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:d_},{type:b,tag:f,props:{className:[g,n]},children:[{type:a,value:d$}]},{type:a,value:ea}]},{type:a,value:e}]}]},dir:x,path:"\u002Fcases\u002Funescaped-data",extension:y,createdAt:z,updatedAt:I},{slug:"vite-vs-mix",description:"В чем разница, что выбрать и как перейти",heading:"Vite vs Mix",altHeadings:D,toc:[],body:{type:o,children:[{type:b,tag:d,props:{},children:[{type:a,value:eb},{type:b,tag:l,props:{title:ec,link:ed},children:[]},{type:a,value:ee}]},{type:a,value:e},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"\n  В "},{type:b,tag:l,props:{title:bk,link:"https:\u002F\u002Fgithub.com\u002Flaravel\u002Fvite-plugin\u002Fblob\u002Fmain\u002FUPGRADE.md"},children:[]},{type:a,value:"\n  есть инструкция по переходу с Mix на Vite и наоборот.\n  Поскольку Laravel это backend фреймворк, то какой сборщик использовать - не принципиально,\n  можешь остаться на Mix или следовать за условностями фреймворка и перейти на Vite, или отказаться от обоих.\n"}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"\n  Тем не менее, если ты используешь UI пакеты (StarterKit), то отказ от Vite может стать проблемой. Например, \n  "},{type:b,tag:l,props:{title:"Breeze",link:"https:\u002F\u002Fgithub.com\u002Flaravel\u002Fbreeze"},children:[]},{type:a,value:"\n  использует Vite и\n  "},{type:b,tag:l,props:{title:"перестал поддерживать",link:"https:\u002F\u002Fgithub.com\u002Flaravel\u002Fbreeze\u002Fpull\u002F167"},children:[]},{type:a,value:"\n  предыдущие версии Laravel. Тоже самое может коснуться любого стороннего пакета.\n"}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"\n  Что касается сравнения, то правильнее сравнивать Vite с Webpack, а не с Mix. Об этом ты можешь почитать\n  "},{type:b,tag:l,props:{title:"здесь",link:"https:\u002F\u002Fblog.bitsrc.io\u002Fvite-is-better-than-webpack-d5dd59610d56"},children:[]},{type:a,value:cw},{type:b,tag:l,props:{title:dj,link:"https:\u002F\u002Fbit.ly\u002F3O18KBS"},children:[]},{type:a,value:" самостоятельно.\n"}]}]},excerpt:{type:o,children:[{type:b,tag:d,props:{},children:[{type:a,value:eb},{type:b,tag:l,props:{title:ec,link:ed},children:[]},{type:a,value:ee}]}]},dir:x,path:"\u002Fcases\u002Fvite-vs-mix",extension:y,createdAt:z,updatedAt:I}]}],fetch:{"CodeChips:0":{code:"\u003Cpre class=\"torchlight\" style=\"background-color: #011627; --theme-selection-background: #4373c2;\" data-torchlight-processed=\"3449c9e5e332f1dbb81505cd739fbf3f\"\u003E\u003Ccode data-lang=\"php\"\u003E\u003C!-- Syntax highlighted by torchlight.dev --\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color:#4b6479; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"\u003E1\u003C\u002Fspan\u003E\u003Cspan style=\"color: #BEC5D4;\"\u003E$path\u003C\u002Fspan\u003E\u003Cspan style=\"color: #D6DEEB;\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: #C792EA;\"\u003E=\u003C\u002Fspan\u003E\u003Cspan style=\"color: #D6DEEB;\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: #BEC5D4;\"\u003E$request\u003C\u002Fspan\u003E\u003Cspan style=\"color: #7FDBCA;\"\u003E-&gt;\u003C\u002Fspan\u003E\u003Cspan style=\"color: #82AAFF;\"\u003Efile\u003C\u002Fspan\u003E\u003Cspan style=\"color: #D6DEEB;\"\u003E(\u003C\u002Fspan\u003E\u003Cspan style=\"color: #D9F5DD;\"\u003E&#39;\u003C\u002Fspan\u003E\u003Cspan style=\"color: #ECC48D;\"\u003Ecover\u003C\u002Fspan\u003E\u003Cspan style=\"color: #D9F5DD;\"\u003E&#39;\u003C\u002Fspan\u003E\u003Cspan style=\"color: #D6DEEB;\"\u003E)\u003C\u002Fspan\u003E\u003Cspan style=\"color: #7FDBCA;\"\u003E-&gt;\u003C\u002Fspan\u003E\u003Cspan style=\"color: #82AAFF;\"\u003Estore\u003C\u002Fspan\u003E\u003Cspan style=\"color: #D6DEEB;\"\u003E(\u003C\u002Fspan\u003E\u003Cspan style=\"color: #D9F5DD;\"\u003E&#39;&#39;\u003C\u002Fspan\u003E\u003Cspan style=\"color: #D6DEEB;\"\u003E, \u003C\u002Fspan\u003E\u003Cspan style=\"color: #D9F5DD;\"\u003E&#39;\u003C\u002Fspan\u003E\u003Cspan style=\"color: #ECC48D;\"\u003Epublic\u003C\u002Fspan\u003E\u003Cspan style=\"color: #D9F5DD;\"\u003E&#39;\u003C\u002Fspan\u003E\u003Cspan style=\"color: #D6DEEB;\"\u003E);\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Ctextarea data-torchlight-original=\"true\" style=\"display: none !important;\"\u003E$path = $request-&gt;file('cover')-&gt;store('', 'public');\n\u003C\u002Ftextarea\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n",copied:ef,copiedTimeout:D},"CodeChips:1":{code:"\u003Cpre class=\"torchlight\" style=\"background-color: #011627; --theme-selection-background: #4373c2;\" data-torchlight-processed=\"3449c9e5e332f1dbb81505cd739fbf3f\"\u003E\u003Ccode data-lang=\"php\"\u003E\u003C!-- Syntax highlighted by torchlight.dev --\u003E\u003Cdiv class='line'\u003E\u003Cspan style=\"color:#4b6479; text-align: right; -webkit-user-select: none; user-select: none;\" class=\"line-number\"\u003E1\u003C\u002Fspan\u003E\u003Cspan style=\"color: #FFCB8B;\"\u003EStorage\u003C\u002Fspan\u003E\u003Cspan style=\"color: #7FDBCA;\"\u003E::\u003C\u002Fspan\u003E\u003Cspan style=\"color: #82AAFF;\"\u003Edisk\u003C\u002Fspan\u003E\u003Cspan style=\"color: #D6DEEB;\"\u003E(\u003C\u002Fspan\u003E\u003Cspan style=\"color: #D9F5DD;\"\u003E&#39;\u003C\u002Fspan\u003E\u003Cspan style=\"color: #ECC48D;\"\u003Epublic\u003C\u002Fspan\u003E\u003Cspan style=\"color: #D9F5DD;\"\u003E&#39;\u003C\u002Fspan\u003E\u003Cspan style=\"color: #D6DEEB;\"\u003E)\u003C\u002Fspan\u003E\u003Cspan style=\"color: #7FDBCA;\"\u003E-&gt;\u003C\u002Fspan\u003E\u003Cspan style=\"color: #82AAFF;\"\u003Eurl\u003C\u002Fspan\u003E\u003Cspan style=\"color: #D6DEEB;\"\u003E(\u003C\u002Fspan\u003E\u003Cspan style=\"color: #BEC5D4;\"\u003E$post\u003C\u002Fspan\u003E\u003Cspan style=\"color: #7FDBCA;\"\u003E-&gt;\u003C\u002Fspan\u003E\u003Cspan style=\"color: #BEC5D4;\"\u003Ecover\u003C\u002Fspan\u003E\u003Cspan style=\"color: #D6DEEB;\"\u003E)\u003C\u002Fspan\u003E\u003C\u002Fdiv\u003E\u003Ctextarea data-torchlight-original=\"true\" style=\"display: none !important;\"\u003EStorage::disk('public')-&gt;url($post-&gt;cover)\n\u003C\u002Ftextarea\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n",copied:ef,copiedTimeout:D}},mutations:[["nav-sidebar\u002FlockGroup","context-section"]]}}("text","element","\n  ","p","\n","span","bit","\n    ","case-context-section","b","path","external-link","\n        ","code","root","code-chips","li","\n      ","td","console","log","br","laravel-link","\u002Fcases",".md","2023-10-19T09:38:37.880Z","Проблема","problem","italic",null,"nuxt-link","tr","list-inside",".\n  ","2022-08-15T19:05:35.000Z","public","why","документации","ul","list-disc","th","Обрати внимание","pt-3","public_html","mb-4",".\n",".htaccess","mb-1","solution","Решение","variable","Причина","table","insert()","2022-08-15T19:36:23.000Z","mb-3","storage\u002Fapp\u002Fpublic",", ","where()","Storage","\n    Согласно ","storage\u002Flogs\u002Flaravel.log","\u002Fhere-is-logs\u002F",".env","1 строка","create()","quote","mb-5","text-sm","local","Теория","2023-10-19T09:38:37.876Z","«Где найти логи?»","fruitcake\u002Flaravel-cors","https:\u002F\u002Fgithub.com\u002Ffruitcake\u002Flaravel-cors","text-lg","div","overflow-x-auto","thead","tbody","\n    General error: 3780 Referencing column 'post_id' and referenced column 'id' in foreign key constraint 'xxx' are incompatible\n  ","\n    General error: 1824 Failed to open the referenced table\n  ","\n    General error: 3730 Cannot drop table 'xxx' referenced by a foreign key constraint\n  ","\n    SQLSTATE[23000]: Integrity constraint violation: 1452 Cannot add or update a child row: a foreign key constraint fails\n  ","Быстрый пример","php artisan storage:link",",\n    ","не","php artisan route:list"," и ",":\n  ","public\u002Findex.php","config\u002Ffilesystems.php","public\u002Fstorage","store()","\n    Например, ошибка валидации перенаправляет на предыдущий адрес и добавляет текст ошибок в сессию.\n    ","Критическая ошибка отобразит html страницу с подробным описанием или просто с текстом «Error 500», если\n    выключен debug.\n  ","\n    Но что если в ответе необходим json? Для\n    ","валидации","validation#validation-error-response-format","\n    сказано, что если запрос ожидает json, то фреймворк автоматически вернёт его с соответствующим кодом.\n    Что это значит?\n  ","На мой взгляд","Смотри логи storage\u002Flogs\u002Flaravel.log","\n    Вызов любой команды ","php artisan"," завершается без сообщений и ошибок.\n  ","\n    Отсутствие каких-либо сообщений и завершение команды сигнализирует о том,\n    что выполнение было прекращено по критической ошибке.\n    Отображение ошибок в терминале может быть отключено в php.ini,\n    директива\n    ","display_errors","https:\u002F\u002Fwww.php.net\u002Fmanual\u002Fru\u002Ferrorfunc.configuration.php#ini.display-errors","\n  Вопрос ","«Как использовать php-переменную в js?»","\n  периодически всплывает в чатах по ларе и у фреймворка даже есть небольшой функционал для этого,\n  поэтому рассмотрим какие могут быть способы передачи данных между backend и frontend приложениями.\n","\n  Данная ошибка актуальна для тех кто изучает Laravel по старым курсам, либо крайне невнимательно обновил фреймворк.\n  Начиная с 8-ой версии был \n  ","изменён синтаксис роутов","routing#basic-routing"," по умолчанию.\n","\n  Target class [PostController] does not exist\n","\n  Раньше использовался «string syntax»:\n","Upgrade Guide","\n  Крайне распространённая проблема, которой забиты и тг-чаты, и stack overflow, и qna хабр...\n  Активно набирает популярность с ростом популярности SPA и раздельных доменов для frontend и backend приложений.\n","\n    AJAX-запрос на \"api\" не работает в браузере, но работает в postman. Ошибка в консоли браузера:\n  ","\n    Access to XMLHttpRequest at 'http:\u002F\u002Flocalhost:8000' from origin 'http:\u002F\u002Flocalhost:3000'\n    has been blocked by CORS policy:\n    No 'Access-Control-Allow-Origin' header is present on the requested resource.\n  ","localhost",", например,\n    ","\\Illuminate\\Http\\Middleware\\HandleCors","\n    Любая попытка взаимодействия с базой данной завершается ошибкой:\n  ","\n    [Illuminate\\Database\\QueryException] could not find driver\n  ","\n    PDOException(code: 0): could not find driver at \u002FIlluminate\u002FDatabase\u002FConnectors\u002FConnector.php\n  ","\n  Возможно, данная тема немного холиварна и существуют кейсы, когда рекомендация неприменима,\n  но для большинства совет будет такой:\n","В backend-е всегда храни и работай с датой и временем в UTC (UTC±0).","\n    Не удалось подключиться к БД в докере, ошибка:\n  ","\n    SQLSTATE[HY000] [2002] Connection refused\n  "," или ","\n  Eloquent - это мощная ORM, реализация шаблона ActiveRecord,\n  позволяющая комфортно работать с базой данных, например, с помощью таких вещей:\n  модели, связи, скоупы, события, аксессоры, мутаторы, касты...\n","\n  Но, к сожалению, у удобства есть своя цена и в случае с Eloquent - это производительность\n  из-за дополнительного функционала.\n","Eloquent","DB","Разница","Эффективность","Запись","0.00683","Выводы","summary","\n  Начнём с того, что 500 - \n  ","это код ответа сервера","https:\u002F\u002Fdeveloper.mozilla.org\u002Fru\u002Fdocs\u002FWeb\u002FHTTP\u002FStatus\u002F500",",\n  который является обобщённым и говорит только о том, что произошла ошибка, но не говорит о самой ошибке.\n","\n  Поэтому, первое что необходимо сделать - найти ошибку в логах,\n  смотри ","\n    Поле не сохраняется в базе данных без ошибок или запрос завершается ошибкой:\n  ","\n    General error: 1364 Field 'xxx' doesn't have a default value\n  ","\n    При этом поле не пустое и корректно передано.\n  ","eloquent#mass-assignment","$fillable","\n    Попытка добавить внешний ключ к таблице приводит к одной из ошибок:\n  ","\n    General error: 1215 Cannot add foreign key constraint \n  ","Логи фреймворка","laravel","mt-0","\n    По умолчанию логи находятся по адресу ","\n    В зависимости от настроек в ","config\u002Flogging.php",",\n    логи могут быть разделены по файлам или находиться в другой директории.\n  ","\n    Подробнее о конфигурации логирования можно узнать в\n    ","logging#configuration","ol","list-decimal","\n  «Правильно заданный вопрос содержит половину ответа»\n","Формулировка","drafting","\n    Не пиши сразу в чат по любой проблеме. ","Сформулируй вопрос в блокноте",".\n    Напиши вопрос, прочти его (можешь вслух), подумай всё ли ты учёл, правильно ли ты донёс свою мысль, могут ли тебя понять иначе.\n    Это называется \n    ","«Метод утёнка»","https:\u002F\u002Fru.wikipedia.org\u002Fwiki\u002F%D0%9C%D0%B5%D1%82%D0%BE%D0%B4_%D1%83%D1%82%D1%91%D0%BD%D0%BA%D0%B0",",\n    суть которого проговорить вопрос или проблему, вслух или письменно.\n  ","\n    Попробуй сократить текст, чтобы было максимум сути и минимум слов.\n  ","\n    А теперь ","погугли ключевые слова"," из своего вопроса. Ничего не нашёл? Измени ключевые слова, уточни их. Опять ничего?\n    Воспользуйся поиском по чату, многие проблемы уже обсуждались и не единожды. Не нашёл? Теперь задавай вопрос в чат.\n  ","font-normal","\"xxx\"","\n  На просторах интернета можно встретить выражения «Laravel Way», «ларавэй», «ларавэйно» и т.п.\n","\n  «Laravel Way» - это негласный набор практик, принятых сообществом.\n","\n  В каждом фреймворке или CMS, или в любой другой системе есть какие-либо специфичные требования и рекомендации,\n  но чаще всего они прозрачны и опциональны. Если мы говорим о мире PHP, то большинство принципов применимы независимо от инструмента.\n  А Laravel - это всего-лишь инструмент.\n  Да, да, ты не ослышался, это всего-лишь набор функций, а не волшебная палочка, позволяющая тебе делать \"вжух и ты в продакшене\".\n","\n  или ","Запрещённые слова, Холивар","Нет никакой магической связки между Laravel и Vue."," Они не созданы друг для друга. Забудь навсегда этот бред.\n","\n  Когда кто-либо пишет о \"связке backend и frontend\", то таким образом он показывает незнание основ работы web-приложений.\n","\n  «Логика в контроллерах это плохо... понятненько». Мистер Маки\n","\n  На данную тему есть блок в ","\u002Fbad-practices\u002F#heavy-controllers","«bad-практиках»"," и\n  для большинства ситуаций это действительно так, как минимум, потому что мы не сможем переиспользовать логику,\n  которую написали в контроллере (хотя некоторые додумываются вызывать контроллеры из контроллера,\n  как следствие полного непонимания роли контроллера в приложении).\n","Первый вариант","variant-1","\n    The POST method is not supported for this route. Supported methods: GET, HEAD.\n  ","\n    Данная ошибка говорит о том, что метод POST (или любой другой) не поддерживается текущим роутом.\n    Далее перечисляются допустимые методы.\n  ","\n    POST запрос пришёл на ","Route::get()",", а должен на ","Route::post()",",\n    поэтому проверь актуальный список маршрутов с помощью ","Laraway","\n  Laravel - фреймворк с лаконичным синтаксисом и местами он пытается угодить всем,\n  предоставляя разные способы написания одного и того же кода,\n  что часто приводит к ","\u002Fintro\u002F","«laraway»"," спорам.\n","\n  Здесь я хочу рассмотреть сомнительную функциональность, которой нет в документации, но тем не менее её применяют -\n  это магические методы, речь не про саму \"магию\" в php, а про альтернативный синтаксис некоторых методов, например,\n  "," \n","\n  Согласно ","eloquent#inserts","\n  есть несколько способов создать новую модель и сохранить данные в БД.\n","\n  Это неизбежно приводит к вопросу «Как правильно\u002Fлучше?» и обычно тема перетекает в холивар,\n  с доводами а-ля\n  ","\"у нас в проекте пишут вот так\"","api","\n  Дословный перевод ошибки: ","\"Не удалось открыть поток: Отказано в доступе\"","Примеры ошибок","examples","\n    The stream of file \"storage\u002Flogs\u002Flaravel.log\" could not be opened in append mode:\n    Failed to open stream: Permission denied. The exception occurred while attempting to log...\n  ","\n    Unable to create lockable file. Please ensure you have permission to create files in this location.\n  ","\n    file_put_contents(storage\u002Fframework\u002Fviews\u002Fxxx.php): Failed to open stream: Permission denied\n  ","storage\u002F"," и \n    ","погуглив","\n    В Laravel используется единая ","точка входа","structure#the-public-directory","\n    для запросов, поэтому web-сервер должен правильно передавать входные параметры в ","index.php","\n    Следовательно, если работает только главная страница, а остальные нет, то web-сервер неверно передаёт запрос.\n  ","mod_rewrite","AllowOverride","\n  Одна из самых горячих тем в чатах, которая вспыхивает по КД.\n  Сразу подчеркну, что этот текст мои (и не только) размышления на данную тему,\n  поэтому никаких выводов о добре и зле здесь не будет.\n","\n    Популярнейшая ошибка начинающих разработчиков\n    - размещение проекта на виртуальном хостинге и как следствие загрузка всего исходного кода в\n    общедоступный каталог "," или иной, как в случае с простыми CMS, например,\n    WordPress. С Laravel такой подход не работает и вместо сайта отображается, или каталог с файлами, или 403 Forbidden,\n    или сообщение о циклической переадресации, или не работают ссылки на стили, скрипты и обычные файлы.\n  ","\n    В попытках запустить проект, разработчик совершает\n    ","\u002Fbad-practices\u002F#document-root","серьёзную ошибку","\n    и пытается перенаправить запросы в "," из корня проекта.\n  ","\n    Во-первых, это нарушение безопасности, файл "," доступен в web, \n    как и всё остальное (composer.json, любые приватные файлы на диске, например, дамп базы данных).\n    ","\n    Во-вторых, переадресация запросов через ","\n    это дополнительная нагрузка и увеличение TTFB.\n    ","\n    В-третьих, это приводит к другим разнообразным проблемам связанных с некорректной \"переадресацией\" запроса. \n  ","Ни в коем случае не проксируй запросы через htaccess",", \n    только содержимое "," должно быть доступно в web.\n  ","notice-box","py-2","px-4"," на ","\n  Очень часто начинающие, а иногда и \"начавшие\",\n  разработчики пренебрегают способом аутентификации на своих git-репозиториях и используют соединение по https,\n  постоянно вводя логин\u002Fпароль или вбивая его в GUI.\n","\n  Для работы с файлами Laravel предоставляет мощную абстракцию файловой системы\n  ","filesystem#introduction",", реализованную на библиотеке\n  ","Flysystem","https:\u002F\u002Fgithub.com\u002Fthephpleague\u002Fflysystem","quick","\n    Смотри краткую версию ","\u002Fhow-store-image\u002F","«Как сохранить изображение?»","storage\u002Fapp\u002F","block","ml-3","mt-1","\n    Необходимо отобразить данные с html-форматированием ","{{ $content }}",", но html отображается как текст.\n  ","\n  Согласно посту на\n  ","laravel-news.com","https:\u002F\u002Flaravel-news.com\u002Fvite-is-the-default-frontend-asset-bundler-for-laravel-applications",",\n  в Laravel 9 сборщик Mix был заменён на Vite, как более быстрое и современное решение.\n",false)));